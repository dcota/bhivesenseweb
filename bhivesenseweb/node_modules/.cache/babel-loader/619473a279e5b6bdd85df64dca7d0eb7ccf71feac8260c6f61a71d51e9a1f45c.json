{"ast":null,"code":"/*\r\nMEIW - Programação Web Avançada - projeto final\r\nAuhtor: Duarte Cota\r\nDescription: implementation of routes and related constrains\r\n*/\n\nimport { createRouter, createWebHistory } from 'vue-router';\nimport Home from '../views/Home.vue';\nimport Login from '../views/Login.vue';\nimport Enrollment from '../views/Enrollment.vue';\nimport Admin from '../views/Admin.vue';\nimport Notif from '../views/Notif.vue';\nimport store from '../store/store';\nimport News from '../views/News.vue';\nimport Conta from '../views/Account.vue';\nimport Dashboard from '../views/Dashboard';\nimport { IS_USER_AUTHENTICATED_GETTER } from '../store/storeconstants';\n\n/*const routes = [{\r\n    path: '',\r\n    component: Dashboard,\r\n    children: [{\r\n            path: '',\r\n            component: () =>\r\n                import ('../views/Home.vue')\r\n        },\r\n        {\r\n            path: 'login',\r\n            component: () =>\r\n                import ('../views/Login.vue')\r\n        },\r\n        {\r\n            path: 'newaccount',\r\n            component: () =>\r\n                import ('../views/Enrollment.vue')\r\n        },\r\n        {\r\n            path: 'account',\r\n            component: () =>\r\n                import ('../views/Account.vue'),\r\n            meta: { auth: true }\r\n        },\r\n    ]\r\n}]*/\n\nconst routes = [{\n  path: '/',\n  name: 'Home',\n  component: Dashboard,\n  meta: {\n    auth: false\n  }\n}, {\n  path: '/Login',\n  name: 'Login',\n  component: Login,\n  meta: {\n    auth: false\n  }\n}, {\n  path: '/Enrollment',\n  name: 'Enrollment',\n  component: Enrollment,\n  meta: {\n    auth: false\n  }\n}, {\n  path: '/Conta',\n  name: 'Conta',\n  component: Conta,\n  meta: {\n    auth: true\n  }\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  console.log(store.getters[`auth/${IS_USER_AUTHENTICATED_GETTER}`]);\n  if (to.meta.auth && !store.getters[`auth/${IS_USER_AUTHENTICATED_GETTER}`]) {\n    //tirei getter tipo student\n    next('/Login');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","Home","Login","Enrollment","Admin","Notif","store","News","Conta","Dashboard","IS_USER_AUTHENTICATED_GETTER","routes","path","name","component","meta","auth","router","history","process","env","BASE_URL","beforeEach","to","from","next","console","log","getters"],"sources":["C:/Users/duart/OneDrive - PGA/Ambiente de Trabalho/bhivesenseweb/bhivesenseweb/src/router/index.js"],"sourcesContent":["/*\r\nMEIW - Programação Web Avançada - projeto final\r\nAuhtor: Duarte Cota\r\nDescription: implementation of routes and related constrains\r\n*/\r\n\r\nimport { createRouter, createWebHistory } from 'vue-router'\r\nimport Home from '../views/Home.vue'\r\nimport Login from '../views/Login.vue'\r\nimport Enrollment from '../views/Enrollment.vue'\r\nimport Admin from '../views/Admin.vue'\r\nimport Notif from '../views/Notif.vue'\r\nimport store from '../store/store'\r\nimport News from '../views/News.vue'\r\nimport Conta from '../views/Account.vue'\r\nimport Dashboard from '../views/Dashboard'\r\nimport { IS_USER_AUTHENTICATED_GETTER } from '../store/storeconstants'\r\n\r\n/*const routes = [{\r\n    path: '',\r\n    component: Dashboard,\r\n    children: [{\r\n            path: '',\r\n            component: () =>\r\n                import ('../views/Home.vue')\r\n        },\r\n        {\r\n            path: 'login',\r\n            component: () =>\r\n                import ('../views/Login.vue')\r\n        },\r\n        {\r\n            path: 'newaccount',\r\n            component: () =>\r\n                import ('../views/Enrollment.vue')\r\n        },\r\n        {\r\n            path: 'account',\r\n            component: () =>\r\n                import ('../views/Account.vue'),\r\n            meta: { auth: true }\r\n        },\r\n    ]\r\n}]*/\r\n\r\nconst routes = [{\r\n        path: '/',\r\n        name: 'Home',\r\n        component: Dashboard,\r\n        meta: { auth: false }\r\n    },\r\n    {\r\n        path: '/Login',\r\n        name: 'Login',\r\n        component: Login,\r\n        meta: { auth: false }\r\n    },\r\n    {\r\n        path: '/Enrollment',\r\n        name: 'Enrollment',\r\n        component: Enrollment,\r\n        meta: { auth: false }\r\n    },\r\n    {\r\n        path: '/Conta',\r\n        name: 'Conta',\r\n        component: Conta,\r\n        meta: { auth: true }\r\n    }\r\n]\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(process.env.BASE_URL),\r\n    routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    console.log(store.getters[`auth/${IS_USER_AUTHENTICATED_GETTER}`])\r\n    if (to.meta.auth && !store.getters[`auth/${IS_USER_AUTHENTICATED_GETTER}`]) { //tirei getter tipo student\r\n        next('/Login')\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\nexport default router"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,IAAI,MAAM,mBAAmB;AACpC,OAAOC,KAAK,MAAM,sBAAsB;AACxC,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,SAASC,4BAA4B,QAAQ,yBAAyB;;AAEtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,MAAM,GAAG,CAAC;EACRC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEL,SAAS;EACpBM,IAAI,EAAE;IAAEC,IAAI,EAAE;EAAM;AACxB,CAAC,EACD;EACIJ,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEZ,KAAK;EAChBa,IAAI,EAAE;IAAEC,IAAI,EAAE;EAAM;AACxB,CAAC,EACD;EACIJ,IAAI,EAAE,aAAa;EACnBC,IAAI,EAAE,YAAY;EAClBC,SAAS,EAAEX,UAAU;EACrBY,IAAI,EAAE;IAAEC,IAAI,EAAE;EAAM;AACxB,CAAC,EACD;EACIJ,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,OAAO;EACbC,SAAS,EAAEN,KAAK;EAChBO,IAAI,EAAE;IAAEC,IAAI,EAAE;EAAK;AACvB,CAAC,CACJ;AAED,MAAMC,MAAM,GAAGlB,YAAY,CAAC;EACxBmB,OAAO,EAAElB,gBAAgB,CAACmB,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/CV;AACJ,CAAC,CAAC;AAEFM,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClCC,OAAO,CAACC,GAAG,CAACrB,KAAK,CAACsB,OAAO,CAAE,QAAOlB,4BAA6B,EAAC,CAAC,CAAC;EAClE,IAAIa,EAAE,CAACR,IAAI,CAACC,IAAI,IAAI,CAACV,KAAK,CAACsB,OAAO,CAAE,QAAOlB,4BAA6B,EAAC,CAAC,EAAE;IAAE;IAC1Ee,IAAI,CAAC,QAAQ,CAAC;EAClB,CAAC,MAAM;IACHA,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AAEF,eAAeR,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}