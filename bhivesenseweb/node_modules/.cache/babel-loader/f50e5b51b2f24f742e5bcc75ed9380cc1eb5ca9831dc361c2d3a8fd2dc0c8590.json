{"ast":null,"code":"import axios from \"axios\";\nimport en from \"../assets/en.js\";\nimport pt from \"../assets/pt.js\";\nimport { notify } from \"@kyvg/vue3-notification\";\nimport { mapActions, mapGetters } from \"vuex\";\nimport { IS_USER_AUTHENTICATED_GETTER, LOGOUT_ACTION, GET_USER_LEVEL_GETTER, GET_USER_NAME_GETTER, GET_USER_AVATAR_GETTER, GET_USER_ID_GETTER, GET_USER_TOKEN_GETTER, GET_NUMEVENTS_GETTER, AUTO_NUMEVENTS_ACTION } from \"../store/storeconstants\";\nexport default {\n  name: \"Sidebar\",\n  mixins: [en, pt],\n  data: function () {\n    const lang = localStorage.getItem(\"lang\") || \"pt\";\n    return {\n      logo: require(\"../assets/logo.png\"),\n      lang: lang,\n      timer: \"\",\n      loged: false\n    };\n  },\n  computed: {\n    ...mapGetters(\"auth\", {\n      isAuthenticated: IS_USER_AUTHENTICATED_GETTER,\n      level: GET_USER_LEVEL_GETTER,\n      name: GET_USER_NAME_GETTER,\n      img: GET_USER_AVATAR_GETTER,\n      token: GET_USER_TOKEN_GETTER,\n      _id: GET_USER_ID_GETTER,\n      _numEvents: GET_NUMEVENTS_GETTER,\n      auth: localStorage.getItem(\"auth\")\n    })\n  },\n  mounted() {\n    this.getNumEvents();\n    this.timer = setInterval(this.getNumEvents, 1000);\n  },\n  beforeUnmount() {\n    clearInterval(this.timer);\n    this.timer = null;\n  },\n  methods: {\n    ...mapActions(\"auth\", {\n      _logout: LOGOUT_ACTION,\n      _numEventsChng: AUTO_NUMEVENTS_ACTION\n    }),\n    async numEventsChng(num) {\n      await this._numEventsChng(num);\n    },\n    async getNumEvents() {\n      if (this.isAuthenticated) {\n        await axios.get(\"https://bhsapi.duartecota.com/event/num/\" + this._id, {\n          headers: {\n            Authorization: this.token\n          }\n        }).then(response => {\n          if (response.data.body > 0) {\n            this.numEventsChng({\n              numEvents: response.data.body\n            });\n          } else {\n            this.numEventsChng({\n              numEvents: null\n            });\n          }\n        }).catch(() => {\n          notify({\n            title: this.translate(\"notifErrorTitle\"),\n            text: this.translate(\"mesProblem\"),\n            type: \"error\",\n            duration: 3000,\n            speed: 500\n          });\n        });\n      }\n    },\n    logout() {\n      this._logout();\n      clearInterval(this.timer);\n      this.$router.replace(\"home\");\n    },\n    account() {\n      this.$router.replace(\"account\");\n    },\n    handleChange(event) {\n      localStorage.setItem(\"lang\", event.target.value);\n      location.reload(true);\n    },\n    translate(prop) {\n      return this[this.lang][prop];\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["axios","en","pt","notify","mapActions","mapGetters","IS_USER_AUTHENTICATED_GETTER","LOGOUT_ACTION","GET_USER_LEVEL_GETTER","GET_USER_NAME_GETTER","GET_USER_AVATAR_GETTER","GET_USER_ID_GETTER","GET_USER_TOKEN_GETTER","GET_NUMEVENTS_GETTER","AUTO_NUMEVENTS_ACTION","name","mixins","data","lang","localStorage","getItem","logo","require","timer","loged","computed","isAuthenticated","level","img","token","_id","_numEvents","auth","mounted","getNumEvents","setInterval","beforeUnmount","clearInterval","methods","_logout","_numEventsChng","numEventsChng","num","get","headers","Authorization","then","response","body","numEvents","catch","title","translate","text","type","duration","speed","logout","$router","replace","account","handleChange","event","setItem","target","value","location","reload","prop"],"sourceRoot":"","sources":["C:\\Users\\duart\\OneDrive - PGA\\Ambiente de Trabalho\\bhivesenseweb\\bhivesenseweb\\src\\components\\Sidebar.vue"],"sourcesContent":["<template>\n\t<main class=\"d-flex flex-nowrap\">\n\t\t<section\n\t\t\tclass=\"d-flex flex-column flex-shrink-0 p-3 fixed-top\"\n\t\t\tstyle=\"width: 280px\"\n\t\t>\n\t\t\t<!--top logo-->\n\t\t\t<a\n\t\t\t\tclass=\"d-flex align-items-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none\"\n\t\t\t>\n\t\t\t\t<router-link to=\"/home\"\n\t\t\t\t\t><img :src=\"logo\" style=\"width: 90%\" alt=\"\"\n\t\t\t\t/></router-link>\n\t\t\t</a>\n\t\t\t<!--lang-->\n\t\t\t<section class=\"d-flex justify-content-center\" style=\"width: 90%\">\n\t\t\t\t<select\n\t\t\t\t\tclass=\"form-select mt-2\"\n\t\t\t\t\tname=\"lang\"\n\t\t\t\t\tv-model=\"lang\"\n\t\t\t\t\t@change=\"handleChange($event)\"\n\t\t\t\t\taria-label=\"Default select example\"\n\t\t\t\t\tstyle=\"width: 70px\"\n\t\t\t\t>\n\t\t\t\t\t<option value=\"en\">en</option>\n\t\t\t\t\t<option value=\"pt\">pt</option>\n\t\t\t\t</select>\n\t\t\t</section>\n\n\t\t\t<hr style=\"width: 90%\" />\n\t\t\t<!--beekeeper apiaries-->\n\t\t\t<ul class=\"nav nav-pills flex-column mb-auto\">\n\t\t\t\t<li class=\"mb-1\" v-if=\"isAuthenticated && level == 'beekeeper'\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\tdata-bs-target=\"#apiaries-collapse\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ translate(\"sbarApiaries\") }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<section class=\"collapse\" id=\"apiaries-collapse\">\n\t\t\t\t\t\t<ul class=\"btn-toggle-nav list-unstyled fw-normal pb-1 small\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/apiaries\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarApiariesAll\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/newapiary\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarApiariesNew\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t</li>\n\t\t\t\t<!--beekeeper hives-->\n\t\t\t\t<li class=\"mb-1\" v-if=\"isAuthenticated && level == 'beekeeper'\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\tdata-bs-target=\"#hives-collapse\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ translate(\"sbarHives\") }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<section class=\"collapse\" id=\"hives-collapse\">\n\t\t\t\t\t\t<ul class=\"btn-toggle-nav list-unstyled fw-normal pb-1 small\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/managehives\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarHivesAll\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/adddevice\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarHivesNew\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\tto=\"/report\"\n\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t>{{ translate(\"sbarApiariesProblem\") }}</router-link\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<li></li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t</li>\n\t\t\t\t<!--beekeeper production-->\n\t\t\t\t<li class=\"mb-1\" v-if=\"isAuthenticated && level == 'beekeeper'\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\tdata-bs-target=\"#prod-collapse\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ translate(\"sbarProduction\") }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<section class=\"collapse\" id=\"prod-collapse\">\n\t\t\t\t\t\t<ul class=\"btn-toggle-nav list-unstyled fw-normal pb-1 small\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/production\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarAnalytics\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t</li>\n\t\t\t\t<!--beekeeper dashboard-->\n\t\t\t\t<li class=\"mb-1\" v-if=\"isAuthenticated && level == 'beekeeper'\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\tdata-bs-target=\"#dash-collapse\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ translate(\"sbarDash\") }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<section id=\"dash-collapse\">\n\t\t\t\t\t\t<ul class=\"btn-toggle-nav list-unstyled fw-normal pb-1 small\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/beekeeper\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"myDash\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t</li>\n\t\t\t\t<!--admin users-->\n\t\t\t\t<li class=\"mb-1\" v-if=\"isAuthenticated && level == 'admin'\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\tdata-bs-target=\"#users-collapse\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ translate(\"sbarUsers\") }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<section class=\"collapse\" id=\"users-collapse\">\n\t\t\t\t\t\t<ul class=\"btn-toggle-nav list-unstyled fw-normal pb-1 small\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/users\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarUsersManage\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t</li>\n\t\t\t\t<!--admin devices-->\n\t\t\t\t<li class=\"mb-1\" v-if=\"isAuthenticated && level == 'admin'\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\tdata-bs-target=\"#devices-collapse\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ translate(\"sbarDevices\") }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<section class=\"collapse\" id=\"devices-collapse\">\n\t\t\t\t\t\t<ul class=\"btn-toggle-nav list-unstyled fw-normal pb-1 small\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/newdevice\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarDevicesNew\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/alldevices\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarDevicesManage\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t</li>\n\t\t\t\t<!--admin messages-->\n\t\t\t\t<li class=\"mb-1\" v-if=\"isAuthenticated && level == 'admin'\">\n\t\t\t\t\t<!--reports-->\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\tdata-bs-target=\"#reports-collapse\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ translate(\"sbarReports\") }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<section id=\"reports-collapse\">\n\t\t\t\t\t\t<ul class=\"btn-toggle-nav list-unstyled fw-normal pb-1 small\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/newmessages\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarNewMessages\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/allmessages\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarAllMessages\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"#\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarSendMessage\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t</li>\n\n\t\t\t\t<hr v-if=\"isAuthenticated\" style=\"width: 90%\" />\n\t\t\t\t<!--events button-->\n\t\t\t\t<section\n\t\t\t\t\tclass=\"mt-3\"\n\t\t\t\t\tstyle=\"margin-left: 50px\"\n\t\t\t\t\tv-if=\"isAuthenticated && level == 'beekeeper'\"\n\t\t\t\t>\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclass=\"btn bn_card position-relative\"\n\t\t\t\t\t\t@click=\"$router.push('/events')\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<section v-if=\"this._numEvents > 0\">\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-bell\" aria-hidden=\"true\"></i>\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<section v-else>\n\t\t\t\t\t\t\t<strong>\n\t\t\t\t\t\t\t\t<i class=\"fas fa-bell-slash\" aria-hidden=\"true\"></i>\n\t\t\t\t\t\t\t</strong>\n\t\t\t\t\t\t</section>\n\t\t\t\t\t\t<span\n\t\t\t\t\t\t\tv-if=\"this._numEvents != null\"\n\t\t\t\t\t\t\tclass=\"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{{ _numEvents }}\n\t\t\t\t\t\t\t<span class=\"visually-hidden\">unread messages</span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>\n\t\t\t\t</section>\n\n\t\t\t\t<li class=\"mb-1\" v-if=\"!isAuthenticated\">\n\t\t\t\t\t<button\n\t\t\t\t\t\tclass=\"btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed\"\n\t\t\t\t\t\tdata-bs-toggle=\"collapse\"\n\t\t\t\t\t\tdata-bs-target=\"#account-collapse\"\n\t\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{{ translate(\"sbarAccLabel\") }}\n\t\t\t\t\t</button>\n\t\t\t\t\t<section id=\"account-collapse\">\n\t\t\t\t\t\t<ul class=\"btn-toggle-nav list-unstyled fw-normal pb-1 small\">\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarAccLogin\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\t\t\tto=\"/newaccount\"\n\t\t\t\t\t\t\t\t\tclass=\"link-dark d-inline-flex text-decoration-none rounded\"\n\t\t\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t\t\t>{{ translate(\"sbarAccNew\") }}</router-link\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</section>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<!--user section-->\n\t\t\t<section\n\t\t\t\tclass=\"dropdown-toogle mb-3 fixed-bottom ms-4\"\n\t\t\t\tv-if=\"isAuthenticated\"\n\t\t\t>\n\t\t\t\t<a\n\t\t\t\t\thref=\"#\"\n\t\t\t\t\tclass=\"d-flex align-items-center link-dark text-decoration-none dropdown-toggle\"\n\t\t\t\t\tdata-bs-toggle=\"dropdown\"\n\t\t\t\t\taria-expanded=\"false\"\n\t\t\t\t>\n\t\t\t\t\t<img\n\t\t\t\t\t\t:src=\"img\"\n\t\t\t\t\t\talt=\"\"\n\t\t\t\t\t\twidth=\"75\"\n\t\t\t\t\t\theight=\"75\"\n\t\t\t\t\t\tclass=\"rounded-circle me-2\"\n\t\t\t\t\t\tstyle=\"border: solid; border-color: grey; border-radius: 2px\"\n\t\t\t\t\t/>\n\t\t\t\t\t<!--<span\n            v-if=\"this._numEvents != null\"\n            class=\"top-0 start-100 translate-middle badge rounded-pill bg-danger\"\n          >\n            {{ _numEvents }}\n            <span class=\"visually-hidden\">unread messages</span>\n          </span>-->\n\t\t\t\t\t<strong>{{ name }}</strong>\n\t\t\t\t</a>\n\t\t\t\t<ul class=\"dropdown-menu text-small shadow\">\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\tto=\"\"\n\t\t\t\t\t\t\tclass=\"dropdown-item\"\n\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t@click.prevent=\"account()\"\n\t\t\t\t\t\t\t>{{ translate(\"userMenuProfile\") }}\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</li>\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<hr class=\"dropdown-sectionider\" style=\"width: 90%\" />\n\t\t\t\t\t</li>\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<router-link\n\t\t\t\t\t\t\tto=\"\"\n\t\t\t\t\t\t\tclass=\"dropdown-item\"\n\t\t\t\t\t\t\tstyle=\"text-decoration: none\"\n\t\t\t\t\t\t\t@click.prevent=\"logout()\"\n\t\t\t\t\t\t\t>{{ translate(\"userMenuLogout\") }}\n\t\t\t\t\t\t</router-link>\n\t\t\t\t\t</li>\n\t\t\t\t</ul>\n\t\t\t</section>\n\t\t</section>\n\n\t\t<section\n\t\t\tclass=\"d-flex justify-content-center\"\n\t\t\tstyle=\"background-color: #ebc002; height: 100vh\"\n\t\t></section>\n\t</main>\n</template>\n\n<style scoped>\n.bn_card {\n\tbackground-color: #ebc002;\n\tborder-radius: 20px;\n\twidth: 100px;\n\tfont-size: 18px;\n}\n\n.bn_card:hover {\n\tbackground-color: #947902;\n}\n\n.dropdown-toggle {\n\toutline: 0;\n}\n\n.btn-toggle {\n\tpadding: 0.25rem 0.5rem;\n\tfont-weight: 600;\n\tcolor: rgba(0, 0, 0, 0.65);\n\tbackground-color: transparent;\n}\n\n.btn-toggle:hover,\n.btn-toggle:focus {\n\tcolor: rgba(0, 0, 0, 0.85);\n\tbackground-color: #ebc002;\n}\n\n.btn-toggle::before {\n\twidth: 1.25em;\n\tline-height: 0;\n\tcontent: url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='rgba%280,0,0,.5%29' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M5 14l6-6-6-6'/%3e%3c/svg%3e\");\n\ttransition: transform 0.35s ease;\n\ttransform-origin: 0.5em 50%;\n}\n\n.btn-toggle[aria-expanded=\"true\"] {\n\tcolor: rgba(0, 0, 0, 0.85);\n}\n\n.btn-toggle[aria-expanded=\"true\"]::before {\n\ttransform: rotate(90deg);\n}\n\n.btn-toggle-nav a {\n\tpadding: 0.1875rem 0.5rem;\n\tmargin-top: 0.125rem;\n\tmargin-left: 1.25rem;\n}\n\n.btn-toggle-nav a:hover,\n.btn-toggle-nav a:focus {\n\tbackground-color: #e9d78a;\n}\n\n.scrollarea {\n\toverflow-y: auto;\n}\n\n.bd-placeholder-img {\n\tfont-size: 1.125rem;\n\ttext-anchor: middle;\n\t-webkit-user-select: none;\n\t-moz-user-select: none;\n\tuser-select: none;\n}\n\n@media (min-width: 768px) {\n\t.bd-placeholder-img-lg {\n\t\tfont-size: 3.5rem;\n\t}\n}\n\n.b-example-sectionider {\n\theight: 3rem;\n\tbackground-color: rgba(0, 0, 0, 0.1);\n\tborder: solid rgba(0, 0, 0, 0.15);\n\tborder-width: 1px 0;\n\tbox-shadow: inset 0 0.5em 1.5em rgba(0, 0, 0, 0.1),\n\t\tinset 0 0.125em 0.5em rgba(0, 0, 0, 0.15);\n}\n\n.b-example-vr {\n\tflex-shrink: 0;\n\twidth: 1.5rem;\n\theight: 100vh;\n}\n\n.bi {\n\tvertical-align: -0.125em;\n\tfill: currentColor;\n}\n\n.nav-scroller {\n\tposition: relative;\n\tz-index: 2;\n\theight: 2.75rem;\n\toverflow-y: hidden;\n}\n\n.nav-scroller .nav {\n\tdisplay: flex;\n\tflex-wrap: nowrap;\n\tpadding-bottom: 1rem;\n\tmargin-top: -1px;\n\toverflow-x: auto;\n\ttext-align: center;\n\twhite-space: nowrap;\n\t-webkit-overflow-scrolling: touch;\n}\n\n.bn {\n\tbackground-color: #ebc002;\n}\n\n.bn:hover {\n\tbackground-color: #947902;\n}\n</style >\n\n<script>\n\timport axios from \"axios\";\n\timport en from \"../assets/en.js\";\n\timport pt from \"../assets/pt.js\";\n\timport { notify } from \"@kyvg/vue3-notification\";\n\timport { mapActions, mapGetters } from \"vuex\";\n\timport {\n\t\tIS_USER_AUTHENTICATED_GETTER,\n\t\tLOGOUT_ACTION,\n\t\tGET_USER_LEVEL_GETTER,\n\t\tGET_USER_NAME_GETTER,\n\t\tGET_USER_AVATAR_GETTER,\n\t\tGET_USER_ID_GETTER,\n\t\tGET_USER_TOKEN_GETTER,\n\t\tGET_NUMEVENTS_GETTER,\n\t\tAUTO_NUMEVENTS_ACTION,\n\t} from \"../store/storeconstants\";\n\texport default {\n\t\tname: \"Sidebar\",\n\t\tmixins: [en, pt],\n\t\tdata: function () {\n\t\t\tconst lang = localStorage.getItem(\"lang\") || \"pt\";\n\t\t\treturn {\n\t\t\t\tlogo: require(\"../assets/logo.png\"),\n\t\t\t\tlang: lang,\n\t\t\t\ttimer: \"\",\n\t\t\t\tloged: false,\n\t\t\t};\n\t\t},\n\t\tcomputed: {\n\t\t\t...mapGetters(\"auth\", {\n\t\t\t\tisAuthenticated: IS_USER_AUTHENTICATED_GETTER,\n\t\t\t\tlevel: GET_USER_LEVEL_GETTER,\n\t\t\t\tname: GET_USER_NAME_GETTER,\n\t\t\t\timg: GET_USER_AVATAR_GETTER,\n\t\t\t\ttoken: GET_USER_TOKEN_GETTER,\n\t\t\t\t_id: GET_USER_ID_GETTER,\n\t\t\t\t_numEvents: GET_NUMEVENTS_GETTER,\n\t\t\t\tauth: localStorage.getItem(\"auth\"),\n\t\t\t}),\n\t\t},\n\t\tmounted() {\n\t\t\tthis.getNumEvents();\n\t\t\tthis.timer = setInterval(this.getNumEvents, 1000);\n\t\t},\n\t\tbeforeUnmount() {\n\t\t\tclearInterval(this.timer);\n\t\t\tthis.timer = null;\n\t\t},\n\t\tmethods: {\n\t\t\t...mapActions(\"auth\", {\n\t\t\t\t_logout: LOGOUT_ACTION,\n\t\t\t\t_numEventsChng: AUTO_NUMEVENTS_ACTION,\n\t\t\t}),\n\t\t\tasync numEventsChng(num) {\n\t\t\t\tawait this._numEventsChng(num);\n\t\t\t},\n\t\t\tasync getNumEvents() {\n\t\t\t\tif (this.isAuthenticated) {\n\t\t\t\t\tawait axios\n\t\t\t\t\t\t.get(\"https://bhsapi.duartecota.com/event/num/\" + this._id, {\n\t\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\t\tAuthorization: this.token,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\t\tif (response.data.body > 0) {\n\t\t\t\t\t\t\t\tthis.numEventsChng({\n\t\t\t\t\t\t\t\t\tnumEvents: response.data.body,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.numEventsChng({\n\t\t\t\t\t\t\t\t\tnumEvents: null,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch(() => {\n\t\t\t\t\t\t\tnotify({\n\t\t\t\t\t\t\t\ttitle: this.translate(\"notifErrorTitle\"),\n\t\t\t\t\t\t\t\ttext: this.translate(\"mesProblem\"),\n\t\t\t\t\t\t\t\ttype: \"error\",\n\t\t\t\t\t\t\t\tduration: 3000,\n\t\t\t\t\t\t\t\tspeed: 500,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tlogout() {\n\t\t\t\tthis._logout();\n\t\t\t\tclearInterval(this.timer);\n\t\t\t\tthis.$router.replace(\"home\");\n\t\t\t},\n\t\t\taccount() {\n\t\t\t\tthis.$router.replace(\"account\");\n\t\t\t},\n\t\t\thandleChange(event) {\n\t\t\t\tlocalStorage.setItem(\"lang\", event.target.value);\n\t\t\t\tlocation.reload(true);\n\t\t\t},\n\t\t\ttranslate(prop) {\n\t\t\t\treturn this[this.lang][prop];\n\t\t\t},\n\t\t},\n\t};\n</script>\n\n\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}