{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelCheckbox as _vModelCheckbox, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-76760534\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"scrolling-component\",\n  ref: \"scrollcomponent\"\n};\nconst _hoisted_2 = {\n  class: \"container my-body\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"text-center mt-5\"\n}, \"CRIAR NOTIFICAÇÃO/AVISO\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"row mt-5\"\n};\nconst _hoisted_5 = {\n  class: \"col-md-6\"\n};\nconst _hoisted_6 = {\n  for: \"title\",\n  class: \"form-label\"\n};\nconst _hoisted_7 = {\n  class: \"row mt-4\"\n};\nconst _hoisted_8 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_9 = {\n  for: \"title\",\n  class: \"form-label\"\n};\nconst _hoisted_10 = {\n  class: \"row mt-4\"\n};\nconst _hoisted_11 = {\n  class: \"col-md-12\"\n};\nconst _hoisted_12 = {\n  for: \"text\",\n  class: \"form-label\"\n};\nconst _hoisted_13 = {\n  class: \"row mt-4\"\n};\nconst _hoisted_14 = {\n  class: \"form-check\"\n};\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"subscribe_news\"\n}, \" Enviar notificação por email\", -1 /* HOISTED */));\nconst _hoisted_16 = {\n  class: \"form-check mt-2\"\n};\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-check-label\",\n  for: \"subscribe_news\"\n}, \" Publicar na página Avisos\", -1 /* HOISTED */));\nconst _hoisted_18 = {\n  class: \"text-center\"\n};\nconst _hoisted_19 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"section\", {\n  class: \"spacer\"\n}, null, -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"section\", _hoisted_2, [_hoisted_3, $data.isShow ? (_openBlock(), _createElementBlock(\"section\", {\n    key: 0,\n    role: \"alert\",\n    class: _normalizeClass('mt-3 alert alert-' + $data.message.type)\n  }, _toDisplayString($data.message.msg), 3 /* TEXT, CLASS */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"form\", {\n    class: \"form-signin\",\n    onSubmit: _cache[5] || (_cache[5] = _withModifiers((...args) => $options.createNotif && $options.createNotif(...args), [\"prevent\"]))\n  }, [_createElementVNode(\"section\", _hoisted_4, [_createElementVNode(\"section\", _hoisted_5, [_createElementVNode(\"label\", _hoisted_6, \"Título (max. 26 caracteres)- total de caracteres: \" + _toDisplayString($data.form.title.length), 1 /* TEXT */), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.title = $event),\n    class: \"form-control\",\n    id: \"title\",\n    placeholder: \"título...\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.title]])])]), _createElementVNode(\"section\", _hoisted_7, [_createElementVNode(\"section\", _hoisted_8, [_createElementVNode(\"label\", _hoisted_9, \"Resumo (max. 55 caracteres)- total de caracteres: \" + _toDisplayString($data.form.summary.length), 1 /* TEXT */), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.summary = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"title\",\n    rows: \"5\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.summary]])])]), _createElementVNode(\"section\", _hoisted_10, [_createElementVNode(\"section\", _hoisted_11, [_createElementVNode(\"label\", _hoisted_12, \"Texto (max. 180 caracteres) - total de caracteres: \" + _toDisplayString($data.form.text.length), 1 /* TEXT */), _withDirectives(_createElementVNode(\"textarea\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.form.text = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"text\",\n    rows: \"5\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.text]])])]), _createElementVNode(\"section\", _hoisted_13, [_createElementVNode(\"section\", null, [_createElementVNode(\"section\", _hoisted_14, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-check-input\",\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => $data.form.notifEmail = $event),\n    value: \"\",\n    id: \"notifEmail\",\n    checked: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.form.notifEmail]]), _hoisted_15]), _createElementVNode(\"section\", _hoisted_16, [_withDirectives(_createElementVNode(\"input\", {\n    class: \"form-check-input\",\n    type: \"checkbox\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $data.form.notifPage = $event),\n    value: \"\",\n    id: \"notifPage\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelCheckbox, $data.form.notifPage]]), _hoisted_17])])])], 32 /* HYDRATE_EVENTS */), _createElementVNode(\"section\", _hoisted_18, [_createElementVNode(\"button\", {\n    type: \"submit\",\n    onClick: _cache[6] || (_cache[6] = (...args) => $options.createNotif && $options.createNotif(...args)),\n    class: \"btn btn-outline-primary mt-4 me-4 my-button\"\n  }, \" CRIAR \"), _createElementVNode(\"button\", {\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.cleanForm && $options.cleanForm(...args)),\n    type: \"button\",\n    class: \"btn btn-outline-primary mt-4 me-4 my-button\"\n  }, \" LIMPAR \"), _createElementVNode(\"button\", {\n    onClick: _cache[8] || (_cache[8] = $event => $options.leave()),\n    type: \"button\",\n    class: \"btn btn-outline-primary mt-4 my-button\"\n  }, \" SAIR \")]), _hoisted_19])], 512 /* NEED_PATCH */);\n}","map":{"version":3,"mappings":"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","names":["class","ref","_createElementVNode","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$data","role","type","msg","onSubmit","$options","_hoisted_4","_hoisted_5","_hoisted_6","title","length","id","placeholder","_hoisted_7","_hoisted_8","_hoisted_9","summary","rows","_hoisted_10","_hoisted_11","_hoisted_12","text","_hoisted_13","_hoisted_14","notifEmail","value","checked","_hoisted_15","_hoisted_16","notifPage","_hoisted_17","_hoisted_18","onClick","_hoisted_19"],"sourceRoot":"","sources":["C:\\Users\\duart\\Desktop\\bhivesenseweb\\bhivesenseweb\\src\\views\\Notif.vue"],"sourcesContent":["/*\r\nMEIW - Programação Web Avançada - projeto final\r\nAuhtor: Duarte Cota\r\nDescription: implementation of the Criar Notificação\r\n*/\r\n\r\n<template>\r\n  <section class=\"scrolling-component\" ref=\"scrollcomponent\">\r\n    <section class=\"container my-body\">\r\n      <h1 class=\"text-center mt-5\">CRIAR NOTIFICAÇÃO/AVISO</h1>\r\n      <section\r\n        v-if=\"isShow\"\r\n        role=\"alert\"\r\n        v-bind:class=\"'mt-3 alert alert-' + message.type\"\r\n      >\r\n        {{ message.msg }}\r\n      </section>\r\n      <form class=\"form-signin\" v-on:submit.prevent=\"createNotif\">\r\n        <section class=\"row mt-5\">\r\n          <section class=\"col-md-6\">\r\n            <label for=\"title\" class=\"form-label\"\r\n              >Título (max. 26 caracteres)- total de caracteres:\r\n              {{ form.title.length }}</label\r\n            >\r\n            <input\r\n              type=\"text\"\r\n              v-model=\"form.title\"\r\n              class=\"form-control\"\r\n              id=\"title\"\r\n              placeholder=\"título...\"\r\n            />\r\n          </section>\r\n        </section>\r\n        <section class=\"row mt-4\">\r\n          <section class=\"col-md-12\">\r\n            <label for=\"title\" class=\"form-label\"\r\n              >Resumo (max. 55 caracteres)- total de caracteres:\r\n              {{ form.summary.length }}</label\r\n            >\r\n            <textarea\r\n              v-model=\"form.summary\"\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"title\"\r\n              rows=\"5\"\r\n            ></textarea>\r\n          </section>\r\n        </section>\r\n        <section class=\"row mt-4\">\r\n          <section class=\"col-md-12\">\r\n            <label for=\"text\" class=\"form-label\"\r\n              >Texto (max. 180 caracteres) - total de caracteres:\r\n              {{ form.text.length }}</label\r\n            >\r\n            <textarea\r\n              v-model=\"form.text\"\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"text\"\r\n              rows=\"5\"\r\n            ></textarea>\r\n          </section>\r\n        </section>\r\n        <section class=\"row mt-4\">\r\n          <section>\r\n            <section class=\"form-check\">\r\n              <input\r\n                class=\"form-check-input\"\r\n                type=\"checkbox\"\r\n                v-model=\"form.notifEmail\"\r\n                value=\"\"\r\n                id=\"notifEmail\"\r\n                checked\r\n              />\r\n              <label class=\"form-check-label\" for=\"subscribe_news\">\r\n                Enviar notificação por email</label\r\n              >\r\n            </section>\r\n            <section class=\"form-check mt-2\">\r\n              <input\r\n                class=\"form-check-input\"\r\n                type=\"checkbox\"\r\n                v-model=\"form.notifPage\"\r\n                value=\"\"\r\n                id=\"notifPage\"\r\n              />\r\n              <label class=\"form-check-label\" for=\"subscribe_news\">\r\n                Publicar na página Avisos</label\r\n              >\r\n            </section>\r\n          </section>\r\n        </section>\r\n      </form>\r\n      <section class=\"text-center\">\r\n        <button\r\n          type=\"submit\"\r\n          v-on:click=\"createNotif\"\r\n          class=\"btn btn-outline-primary mt-4 me-4 my-button\"\r\n        >\r\n          CRIAR\r\n        </button>\r\n        <button\r\n          v-on:click=\"cleanForm\"\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary mt-4 me-4 my-button\"\r\n        >\r\n          LIMPAR\r\n        </button>\r\n        <button\r\n          @click=\"leave()\"\r\n          type=\"button\"\r\n          class=\"btn btn-outline-primary mt-4 my-button\"\r\n        >\r\n          SAIR\r\n        </button>\r\n      </section>\r\n      <section class=\"spacer\"></section>\r\n    </section>\r\n  </section>\r\n</template>\r\n\r\n<style scoped>\r\n.my-button {\r\n  width: 120px;\r\n}\r\nselect option[disabled]:first-child {\r\n  display: none;\r\n}\r\n.my-body {\r\n  margin-top: 0px;\r\n}\r\n.spacer {\r\n  height: 200px;\r\n}\r\n.top-btn {\r\n  font-weight: bold;\r\n  width: 100px;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport { mapMutations } from \"vuex\";\r\nimport { LOADING_SPINNER_SHOW_MUTATION } from \"../store/storeconstants\";\r\nexport default {\r\n  name: \"submit\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        title: \"\",\r\n        summary: \"\",\r\n        text: \"\",\r\n        notifEmail: true,\r\n        notifPage: false,\r\n      },\r\n      message: {\r\n        type: \"\",\r\n        msg: \"\",\r\n      },\r\n      isShow: false,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations({\r\n      showLoader: LOADING_SPINNER_SHOW_MUTATION,\r\n    }),\r\n    async createNotif() {\r\n      this.isShow = false;\r\n      this.message.type = \"\";\r\n      this.message.msg = \"\";\r\n      if (this.checkForm() == true) {\r\n        this.message.type = \"\";\r\n        this.message.msg = \"\";\r\n        if (\r\n          !this.checkTitleLength() ||\r\n          !this.checkSummaryLength() ||\r\n          !this.checkTextLength()\r\n        ) {\r\n          this.message.type = \"\";\r\n          this.message.msg = \"\";\r\n          (this.message.type = \"warning\"),\r\n            (this.message.msg = \"Número de caracteres inválido\");\r\n          this.isShow = true;\r\n          return;\r\n        }\r\n        this.showLoader(true);\r\n        let postData = {\r\n          title: this.form.title,\r\n          summary: this.form.summary,\r\n          text: this.form.text,\r\n          notifEmail: this.form.notifEmail,\r\n          notifPage: this.form.notifPage,\r\n        };\r\n        await axios\r\n          .post(\"https://cprob-api.herokuapp.com/notification\", postData)\r\n          //.post(\"http://localhost:3000/notification\", postData)\r\n          .then((response) => {\r\n            if (response.data.http == 201) {\r\n              this.showLoader(false);\r\n              this.message.type = \"success\";\r\n              this.message.msg = \"Notificação criada com sucesso.\";\r\n              this.isShow = true;\r\n            } else if (response.data.http == 200) {\r\n              this.showLoader(false);\r\n              this.message.type = \"warning\";\r\n              this.message.msg = \"Notificação existente.\";\r\n              this.isShow = true;\r\n            } else {\r\n              this.showLoader(false);\r\n              this.message.type = \"danger\";\r\n              this.message.msg = \"Ocorreu um problema, tente de novo...\";\r\n              this.isShow = true;\r\n            }\r\n          })\r\n          .catch(() => {\r\n            this.error = \"Valores inválidos!\";\r\n            this.showLoader(false);\r\n          });\r\n      } else {\r\n        this.isShow = true;\r\n        this.message.type = \"danger\";\r\n        this.message.msg = \"Todos os campos deve estar preenchidos!\";\r\n      }\r\n    },\r\n    cleanForm() {\r\n      (this.form.title = \"\"),\r\n        (this.form.summary = \"\"),\r\n        (this.form.text = \"\"),\r\n        (this.form.notifEmail = true),\r\n        (this.form.notifPage = false);\r\n      this.isShow = false;\r\n    },\r\n    leave() {\r\n      this.$router.replace(\"/Admin\");\r\n    },\r\n    checkForm() {\r\n      if (\r\n        this.form.title != \"\" &&\r\n        this.form.summary != \"\" &&\r\n        this.form.text != \"\"\r\n      )\r\n        return true;\r\n      else return false;\r\n    },\r\n    checkTitleLength() {\r\n      if (this.form.title.length <= 26) return true;\r\n      else return false;\r\n    },\r\n    checkSummaryLength() {\r\n      if (this.form.summary.length <= 55) return true;\r\n      else return false;\r\n    },\r\n    checkTextLength() {\r\n      if (this.form.text.length <= 180) return true;\r\n      else return false;\r\n    },\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}