{"ast":null,"code":"/*\r\nMEIW - Programação Web Avançada - projeto final\r\nAuhtor: Duarte Cota\r\nDescription: implementation of routes and related constrains\r\n*/\n\nimport { createRouter, createWebHistory } from 'vue-router';\nimport store from '../store/store';\nimport Dashboard from '../views/Dashboard';\nimport { IS_USER_AUTHENTICATED_GETTER } from '../store/storeconstants';\nimport Edit from '../views/Editapiary.vue';\nconst routes = [{\n  path: '',\n  component: Dashboard,\n  children: [{\n    path: '',\n    component: () => import('../views/Home.vue'),\n    meta: {\n      auth: false\n    }\n  }, {\n    path: 'login',\n    component: () => import('../views/Login.vue'),\n    meta: {\n      auth: false\n    }\n  }, {\n    path: 'newaccount',\n    component: () => import('../views/Enrollment.vue'),\n    meta: {\n      auth: false\n    }\n  }, {\n    path: 'account',\n    component: () => import('../views/Account.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: 'users',\n    component: () => import('../views/Users.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: 'newdevice',\n    component: () => import('../views/Newdevice.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: 'apiaries',\n    component: () => import('../views/Apiaries.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: 'newapiary',\n    component: () => import('../views/Newapiary.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: 'editapiary/:id',\n    name: 'Editapiary',\n    props: true,\n    component: Edit,\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: 'newdevice',\n    component: () => import('../views/Newdevice.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }]\n}];\nconst router = createRouter({\n  history: createWebHistory(process.env.BASE_URL),\n  routes\n});\nrouter.beforeEach((to, from, next) => {\n  if (to.meta.requiresAuth && !store.getters[`auth/${IS_USER_AUTHENTICATED_GETTER}`]) {\n    next({\n      path: 'login',\n      query: {\n        redirectTo: to.path\n      }\n    });\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["createRouter","createWebHistory","store","Dashboard","IS_USER_AUTHENTICATED_GETTER","Edit","routes","path","component","children","meta","auth","requiresAuth","name","props","router","history","process","env","BASE_URL","beforeEach","to","from","next","getters","query","redirectTo"],"sources":["C:/Users/duart/OneDrive - PGA/Ambiente de Trabalho/bhivesenseweb/bhivesenseweb/src/router/index.js"],"sourcesContent":["/*\r\nMEIW - Programação Web Avançada - projeto final\r\nAuhtor: Duarte Cota\r\nDescription: implementation of routes and related constrains\r\n*/\r\n\r\nimport { createRouter, createWebHistory } from 'vue-router'\r\nimport store from '../store/store'\r\nimport Dashboard from '../views/Dashboard'\r\nimport { IS_USER_AUTHENTICATED_GETTER } from '../store/storeconstants'\r\nimport Edit from '../views/Editapiary.vue'\r\n\r\nconst routes = [{\r\n    path: '',\r\n    component: Dashboard,\r\n    children: [{\r\n            path: '',\r\n            component: () =>\r\n                import ('../views/Home.vue'),\r\n            meta: { auth: false }\r\n        },\r\n        {\r\n            path: 'login',\r\n            component: () =>\r\n                import ('../views/Login.vue'),\r\n            meta: { auth: false }\r\n        },\r\n        {\r\n            path: 'newaccount',\r\n            component: () =>\r\n                import ('../views/Enrollment.vue'),\r\n            meta: { auth: false }\r\n        },\r\n        {\r\n            path: 'account',\r\n            component: () =>\r\n                import ('../views/Account.vue'),\r\n            meta: {\r\n                requiresAuth: true,\r\n            }\r\n        },\r\n        {\r\n            path: 'users',\r\n            component: () =>\r\n                import ('../views/Users.vue'),\r\n            meta: {\r\n                requiresAuth: true,\r\n            }\r\n        },\r\n        {\r\n            path: 'newdevice',\r\n            component: () =>\r\n                import ('../views/Newdevice.vue'),\r\n            meta: {\r\n                requiresAuth: true,\r\n            }\r\n        },\r\n        {\r\n            path: 'apiaries',\r\n            component: () =>\r\n                import ('../views/Apiaries.vue'),\r\n            meta: {\r\n                requiresAuth: true,\r\n            }\r\n        },\r\n        {\r\n            path: 'newapiary',\r\n            component: () =>\r\n                import ('../views/Newapiary.vue'),\r\n            meta: {\r\n                requiresAuth: true,\r\n            }\r\n        },\r\n        {\r\n            path: 'editapiary/:id',\r\n            name: 'Editapiary',\r\n            props: true,\r\n            component: Edit,\r\n            meta: {\r\n                requiresAuth: true,\r\n            },\r\n        },\r\n        {\r\n            path: 'newdevice',\r\n            component: () =>\r\n                import ('../views/Newdevice.vue'),\r\n            meta: {\r\n                requiresAuth: true,\r\n            }\r\n        },\r\n    ]\r\n}]\r\n\r\nconst router = createRouter({\r\n    history: createWebHistory(process.env.BASE_URL),\r\n    routes\r\n})\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    if (to.meta.requiresAuth && !store.getters[`auth/${IS_USER_AUTHENTICATED_GETTER}`]) {\r\n        next({\r\n            path: 'login',\r\n            query: {\r\n                redirectTo: to.path\r\n            }\r\n        })\r\n    } else {\r\n        next()\r\n    }\r\n})\r\n\r\nexport default router"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEA,SAASA,YAAY,EAAEC,gBAAgB,QAAQ,YAAY;AAC3D,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAOC,SAAS,MAAM,oBAAoB;AAC1C,SAASC,4BAA4B,QAAQ,yBAAyB;AACtE,OAAOC,IAAI,MAAM,yBAAyB;AAE1C,MAAMC,MAAM,GAAG,CAAC;EACZC,IAAI,EAAE,EAAE;EACRC,SAAS,EAAEL,SAAS;EACpBM,QAAQ,EAAE,CAAC;IACHF,IAAI,EAAE,EAAE;IACRC,SAAS,EAAE,MACP,MAAM,CAAE,mBAAmB,CAAC;IAChCE,IAAI,EAAE;MAAEC,IAAI,EAAE;IAAM;EACxB,CAAC,EACD;IACIJ,IAAI,EAAE,OAAO;IACbC,SAAS,EAAE,MACP,MAAM,CAAE,oBAAoB,CAAC;IACjCE,IAAI,EAAE;MAAEC,IAAI,EAAE;IAAM;EACxB,CAAC,EACD;IACIJ,IAAI,EAAE,YAAY;IAClBC,SAAS,EAAE,MACP,MAAM,CAAE,yBAAyB,CAAC;IACtCE,IAAI,EAAE;MAAEC,IAAI,EAAE;IAAM;EACxB,CAAC,EACD;IACIJ,IAAI,EAAE,SAAS;IACfC,SAAS,EAAE,MACP,MAAM,CAAE,sBAAsB,CAAC;IACnCE,IAAI,EAAE;MACFE,YAAY,EAAE;IAClB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,OAAO;IACbC,SAAS,EAAE,MACP,MAAM,CAAE,oBAAoB,CAAC;IACjCE,IAAI,EAAE;MACFE,YAAY,EAAE;IAClB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAE,MACP,MAAM,CAAE,wBAAwB,CAAC;IACrCE,IAAI,EAAE;MACFE,YAAY,EAAE;IAClB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,UAAU;IAChBC,SAAS,EAAE,MACP,MAAM,CAAE,uBAAuB,CAAC;IACpCE,IAAI,EAAE;MACFE,YAAY,EAAE;IAClB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAE,MACP,MAAM,CAAE,wBAAwB,CAAC;IACrCE,IAAI,EAAE;MACFE,YAAY,EAAE;IAClB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,gBAAgB;IACtBM,IAAI,EAAE,YAAY;IAClBC,KAAK,EAAE,IAAI;IACXN,SAAS,EAAEH,IAAI;IACfK,IAAI,EAAE;MACFE,YAAY,EAAE;IAClB;EACJ,CAAC,EACD;IACIL,IAAI,EAAE,WAAW;IACjBC,SAAS,EAAE,MACP,MAAM,CAAE,wBAAwB,CAAC;IACrCE,IAAI,EAAE;MACFE,YAAY,EAAE;IAClB;EACJ,CAAC;AAET,CAAC,CAAC;AAEF,MAAMG,MAAM,GAAGf,YAAY,CAAC;EACxBgB,OAAO,EAAEf,gBAAgB,CAACgB,OAAO,CAACC,GAAG,CAACC,QAAQ,CAAC;EAC/Cb;AACJ,CAAC,CAAC;AAEFS,MAAM,CAACK,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,IAAIF,EAAE,CAACX,IAAI,CAACE,YAAY,IAAI,CAACV,KAAK,CAACsB,OAAO,CAAE,QAAOpB,4BAA6B,EAAC,CAAC,EAAE;IAChFmB,IAAI,CAAC;MACDhB,IAAI,EAAE,OAAO;MACbkB,KAAK,EAAE;QACHC,UAAU,EAAEL,EAAE,CAACd;MACnB;IACJ,CAAC,CAAC;EACN,CAAC,MAAM;IACHgB,IAAI,EAAE;EACV;AACJ,CAAC,CAAC;AAEF,eAAeR,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}