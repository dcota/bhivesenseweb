{"ast":null,"code":"import { toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-26084dc2\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"jumbotron d-flex align-items-center min-vh-100\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"alert alert-danger\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"form-signin-heading\"\n}, \"Login\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-lg btn-primary btn-block mt-4 bn\",\n  type: \"submit\"\n}, \" Submit \", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"section\", _hoisted_2, [_createElementVNode(\"form\", {\n    class: \"form-signin\",\n    onSubmit: _cache[2] || (_cache[2] = _withModifiers((...args) => $options.login && $options.login(...args), [\"prevent\"])),\n    style: {\n      \"border-radius\": \"30px\"\n    }\n  }, [$data.error ? (_openBlock(), _createElementBlock(\"section\", _hoisted_3, _toDisplayString($data.error), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true), _hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.form.username = $event),\n    class: \"form-control mt-4\",\n    id: \"username\",\n    placeholder: \"username\",\n    required: \"\",\n    autofocus: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.username]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.form.password = $event),\n    class: \"form-control mt-4\",\n    id: \"password\",\n    placeholder: \"password\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.form.password]]), _hoisted_5], 32 /* HYDRATE_EVENTS */)])]);\n}","map":{"version":3,"mappings":";;;EAOWA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAiD;;;EAEnDA,KAAK,EAAC;;gEACfC,oBAA0C;EAAtCD,KAAK,EAAC;AAAqB,GAAC,OAAK;gEAKrCC,oBAES;EAFDD,KAAK,EAAC,0CAA0C;EAACE,IAAI,EAAC;GAAS,UAEvE;;;uBAXNC,oBAcU,WAdVC,UAcU,GAbRH,oBAYU,WAZVI,UAYU,GAXRJ,oBAUO;IAVDD,KAAK,EAAC,aAAa;IAAMM,QAAM,wDAAUC,yCAAK;IAAEC,KAA6B,EAA7B;MAAA;IAAA;MACVC,WAAK,kBAA/CN,oBAAsE,WAAtEO,UAAsE,mBAAlBD,WAAK,uDACzDE,UAA0C,kBAC1CV,oBAC6B;IADtBC,IAAI,EAAC,MAAM;+DAAUO,UAAI,CAACG,QAAQ;IAAEZ,KAAK,EAAC,mBAAmB;IAACa,EAAE,EAAC,UAAU;IAACC,WAAW,EAAC,UAAU;IACvGC,QAAQ,EAAC,EAAE;IAACC,SAAS,EAAC;iDADIP,UAAI,CAACG,QAAQ,qBAEzCX,oBACgB;IADTC,IAAI,EAAC,UAAU;+DAAUO,UAAI,CAACQ,QAAQ;IAAEjB,KAAK,EAAC,mBAAmB;IAACa,EAAE,EAAC,UAAU;IAACC,WAAW,EAAC,UAAU;IAC3GC,QAAQ,EAAC;iDADqBN,UAAI,CAACQ,QAAQ,KAE7CC,UAES","names":["class","_createElementVNode","type","_createElementBlock","_hoisted_1","_hoisted_2","onSubmit","$options","style","$data","_hoisted_3","_hoisted_4","username","id","placeholder","required","autofocus","password","_hoisted_5"],"sourceRoot":"","sources":["C:\\Users\\duart\\Desktop\\bhivesenseweb\\bhivesenseweb\\src\\views\\Login.vue"],"sourcesContent":["/*\r\nMEIW - Programação Web Avançada - projeto final\r\nAuhtor: Duarte Cota\r\nDescription: implementation of the view Login\r\n*/\r\n\r\n<template>\r\n  <section class=\"container\">\r\n    <section class=\"jumbotron d-flex align-items-center min-vh-100 \">\r\n      <form class=\"form-signin\" v-on:submit.prevent=\"login\" style=\"border-radius: 30px ;\">\r\n        <section class=\"alert alert-danger\" v-if=\"error\">{{ error }}</section>\r\n        <h2 class=\"form-signin-heading\">Login</h2>\r\n        <input type=\"text\" v-model=\"form.username\" class=\"form-control mt-4\" id=\"username\" placeholder=\"username\"\r\n          required=\"\" autofocus=\"\" />\r\n        <input type=\"password\" v-model=\"form.password\" class=\"form-control mt-4\" id=\"password\" placeholder=\"password\"\r\n          required=\"\" />\r\n        <button class=\"btn btn-lg btn-primary btn-block mt-4 bn\" type=\"submit\">\r\n          Submit\r\n        </button>\r\n      </form>\r\n    </section>\r\n  </section>\r\n</template>\r\n\r\n<style scoped>\r\n.bn {\r\n  background-color: #ebc002;\r\n  border-color: #ebc002\r\n}\r\n\r\n.bn:hover {\r\n  background-color: #947902;\r\n  border-color: #947902;\r\n}\r\n\r\n.form-signin {\r\n  max-width: 380px;\r\n  padding: 15px 35px 45px;\r\n  margin: 0 auto;\r\n  background-color: #fff;\r\n  border: 1px solid rgba(0, 0, 0, 0.1);\r\n  text-align: center;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport { mapActions, mapGetters, mapMutations } from \"vuex\";\r\nimport {\r\n  LOADING_SPINNER_SHOW_MUTATION,\r\n  LOGIN_ACTION,\r\n  GET_USER_LEVEL_GETTER,\r\n} from \"../store/storeconstants\";\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        username: \"\",\r\n        password: \"\",\r\n      },\r\n      error: \"\",\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters(\"auth\", {\r\n      level: GET_USER_LEVEL_GETTER,\r\n    }),\r\n  },\r\n  methods: {\r\n    ...mapActions(\"auth\", {\r\n      _login: LOGIN_ACTION,\r\n    }),\r\n    ...mapMutations({\r\n      showLoader: LOADING_SPINNER_SHOW_MUTATION,\r\n    }),\r\n    async login() {\r\n      this.error = \"\";\r\n      this.showLoader(true);\r\n      let response = await this._login({\r\n        username: this.form.username,\r\n        password: this.form.password,\r\n      }).catch(() => {\r\n        this.error = \"Username ou password incorreta!\";\r\n        this.showLoader(false);\r\n      });\r\n      if (response) {\r\n        this.showLoader(false);\r\n        if (this.level == \"admin\") this.$router.replace(\"/\");\r\n        else if (this.level == \"beekeeper\") this.$router.replace(\"/\");\r\n      } else {\r\n        this.error = \"Username ou password incorreta!\";\r\n        this.showLoader(false);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}