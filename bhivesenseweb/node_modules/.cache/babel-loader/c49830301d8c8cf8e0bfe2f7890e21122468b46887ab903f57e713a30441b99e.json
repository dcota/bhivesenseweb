{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nimport en from \"../assets/en.js\";\nimport pt from \"../assets/pt.js\";\nimport { notify } from \"@kyvg/vue3-notification\";\nimport { defineComponent } from \"vue\";\nimport { GoogleMap, Marker, InfoWindow } from \"vue3-google-map\";\nimport { mapGetters, mapActions } from \"vuex\";\nimport { GET_USER_TOKEN_GETTER, GET_USER_LEVEL_GETTER, GET_USER_ID_GETTER } from \"../store/storeconstants\";\nexport default defineComponent({\n  mixins: [en, pt],\n  components: {\n    GoogleMap,\n    Marker,\n    InfoWindow\n  },\n  setup() {\n    const center = {\n      lat: parseFloat(localStorage.getItem(\"lat\")),\n      lng: parseFloat(localStorage.getItem(\"lon\"))\n    };\n    const markerOptions = {\n      position: center,\n      label: \"\",\n      title: \"Hive\"\n    };\n    return {\n      center,\n      markerOptions\n    };\n  },\n  data: function () {\n    const lang = localStorage.getItem(\"lang\") || \"pt\";\n    return {\n      apiaries: [],\n      lang: lang,\n      isShow: true,\n      showMap: true,\n      address: \"\",\n      location: \"\",\n      observations: \"\"\n    };\n  },\n  computed: {\n    ...mapGetters(\"auth\", {\n      token: GET_USER_TOKEN_GETTER,\n      level: GET_USER_LEVEL_GETTER,\n      _id: GET_USER_ID_GETTER,\n      el: \"#app\"\n    })\n  },\n  mounted() {\n    this.detail();\n    this.showMap = false;\n    this.isShow = false;\n    if (localStorage.getItem(\"lat\") == \"null\" || localStorage.getItem(\"lon\") == \"null\") {\n      notify({\n        title: this.translate(\"notifWarningTitle\"),\n        text: this.translate(\"warnMap\"),\n        type: \"warn\",\n        duration: 3000,\n        speed: 500\n      });\n    } else {\n      this.showMap = true;\n    }\n  },\n  methods: {\n    translate(prop) {\n      return this[this.lang][prop];\n    },\n    async detail() {\n      this.isShow = true;\n      await axios.get(\"https://bhsapi.duartecota.com/apiary/one/\" + localStorage.getItem(\"apiaryIDtoget\"), {\n        headers: {\n          Authorization: this.token\n        }\n      }).then(response => {\n        console.log(response);\n        this.address = response.data.body.address;\n        this.observations = response.data.body.observations;\n        this.location = response.data.body.location;\n        this.isShow = false;\n        return true;\n      }).catch(() => {\n        notify({\n          title: this.translate(\"notifErrorTitle\"),\n          text: this.translate(\"mesProblem\"),\n          type: \"error\",\n          duration: 3000,\n          speed: 500\n        });\n        this.isShow = false;\n        return false;\n      });\n    },\n    back() {\n      if (localStorage.getItem(\"lastroute\") == \"/hives\") this.$router.push(\"hives\");else if (localStorage.getItem(\"lastrooute\") == \"/'production'\") this.$router.push(\"production\");else this.$router.push(\"hivedetails\");\n    },\n    teste() {\n      alert(\"teste\");\n    }\n  }\n});","map":{"version":3,"mappings":"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","names":["axios","en","pt","notify","defineComponent","GoogleMap","Marker","InfoWindow","mapGetters","mapActions","GET_USER_TOKEN_GETTER","GET_USER_LEVEL_GETTER","GET_USER_ID_GETTER","mixins","components","setup","center","lat","parseFloat","localStorage","getItem","lng","markerOptions","position","label","title","data","lang","apiaries","isShow","showMap","address","location","observations","computed","token","level","_id","el","mounted","detail","translate","text","type","duration","speed","methods","prop","get","headers","Authorization","then","response","console","log","body","catch","back","$router","push","teste","alert"],"sourceRoot":"","sources":["C:\\Users\\duart\\Desktop\\bhivesenseweb\\bhivesenseweb\\src\\views\\Map.vue"],"sourcesContent":["<template>\r\n\t<section class=\"container my-body\">\r\n\t\t<h2 class=\"my-text-color\">{{ translate(\"devicesAllTitle\") }}</h2>\r\n\t\t<section class=\"line-1\"></section>\r\n\t\t<section>\r\n\t\t\t<button @click=\"back()\" type=\"button\" class=\"btn mt-4 my-button\">\r\n\t\t\t\t<i class=\"fas fa-arrow-left me-1 act-btn\" aria-hidden=\"true\"></i>\r\n\t\t\t\t{{ translate(\"btnBack\") }}\r\n\t\t\t</button>\r\n\t\t</section>\r\n\t\t<section class=\"mt-4\" v-if=\"showMap\">\r\n\t\t\t<GoogleMap\r\n\t\t\t\tapi-key=\"AIzaSyBS5cccM97lkMCpieTfkCKC4oiyY-r5vOI\"\r\n\t\t\t\tstyle=\"width: 100%; height: calc(100vh - 200px)\"\r\n\t\t\t\t:center=\"center\"\r\n\t\t\t\t:zoom=\"18\"\r\n\t\t\t>\r\n\t\t\t\t<Marker :options=\"markerOptions\">\r\n\t\t\t\t\t<!--<InfoWindow :options=\"{ position: center, content: 'Hello World!' }\" />-->\r\n\t\t\t\t\t<InfoWindow>\r\n\t\t\t\t\t\t<div id=\"contet\">\r\n\t\t\t\t\t\t\t<div id=\"siteNotice\"></div>\r\n\t\t\t\t\t\t\t<h2 id=\"firstHeading\" class=\"firstHeading\">Apiary</h2>\r\n\t\t\t\t\t\t\t<div id=\"bodyContent\">\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<b>{{ translate(\"modalApiaryLocation\") }}{{ location }}</b>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<b>{{ translate(\"modalApiaryAddress\") }}{{ address }}</b>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\t<b\r\n\t\t\t\t\t\t\t\t\t\t>{{ translate(\"modalApiaryObservations\")\r\n\t\t\t\t\t\t\t\t\t\t}}{{ observations }}</b\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</InfoWindow>\r\n\t\t\t\t</Marker>\r\n\t\t\t</GoogleMap>\r\n\t\t</section>\r\n\r\n\t\t<section class=\"text-center\">\r\n\t\t\t<section v-if=\"isShow\" class=\"text-center\">\r\n\t\t\t\t<section class=\"spinner-border mt-4\" role=\"status\">\r\n\t\t\t\t\t<span class=\"visually-hidden\">Loading...</span>\r\n\t\t\t\t</section>\r\n\t\t\t\t<section class=\"mb-2\">{{ translate(\"spinnerTxt\") }}</section>\r\n\t\t\t</section>\r\n\t\t</section>\r\n\t</section>\r\n</template>\r\n    \r\n<style scoped>\r\n.bn_card {\r\n\tbackground-color: #ebc002;\r\n\tborder-radius: 25px;\r\n\twidth: 50px;\r\n}\r\n\r\n.bn_card:hover {\r\n\tbackground-color: #947902;\r\n}\r\n.spacer {\r\n\theight: 200px;\r\n}\r\n</style>\r\n<script>\r\n\timport axios from \"axios\";\r\n\timport en from \"../assets/en.js\";\r\n\timport pt from \"../assets/pt.js\";\r\n\timport { notify } from \"@kyvg/vue3-notification\";\r\n\timport { defineComponent } from \"vue\";\r\n\timport { GoogleMap, Marker, InfoWindow } from \"vue3-google-map\";\r\n\timport { mapGetters, mapActions } from \"vuex\";\r\n\timport {\r\n\t\tGET_USER_TOKEN_GETTER,\r\n\t\tGET_USER_LEVEL_GETTER,\r\n\t\tGET_USER_ID_GETTER,\r\n\t} from \"../store/storeconstants\";\r\n\r\n\texport default defineComponent({\r\n\t\tmixins: [en, pt],\r\n\t\tcomponents: { GoogleMap, Marker, InfoWindow },\r\n\t\tsetup() {\r\n\t\t\tconst center = {\r\n\t\t\t\tlat: parseFloat(localStorage.getItem(\"lat\")),\r\n\t\t\t\tlng: parseFloat(localStorage.getItem(\"lon\")),\r\n\t\t\t};\r\n\t\t\tconst markerOptions = {\r\n\t\t\t\tposition: center,\r\n\t\t\t\tlabel: \"\",\r\n\t\t\t\ttitle: \"Hive\",\r\n\t\t\t};\r\n\t\t\treturn { center, markerOptions };\r\n\t\t},\r\n\t\tdata: function () {\r\n\t\t\tconst lang = localStorage.getItem(\"lang\") || \"pt\";\r\n\t\t\treturn {\r\n\t\t\t\tapiaries: [],\r\n\t\t\t\tlang: lang,\r\n\t\t\t\tisShow: true,\r\n\t\t\t\tshowMap: true,\r\n\t\t\t\taddress: \"\",\r\n\t\t\t\tlocation: \"\",\r\n\t\t\t\tobservations: \"\",\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapGetters(\"auth\", {\r\n\t\t\t\ttoken: GET_USER_TOKEN_GETTER,\r\n\t\t\t\tlevel: GET_USER_LEVEL_GETTER,\r\n\t\t\t\t_id: GET_USER_ID_GETTER,\r\n\t\t\t\tel: \"#app\",\r\n\t\t\t}),\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.detail();\r\n\t\t\tthis.showMap = false;\r\n\t\t\tthis.isShow = false;\r\n\t\t\tif (\r\n\t\t\t\tlocalStorage.getItem(\"lat\") == \"null\" ||\r\n\t\t\t\tlocalStorage.getItem(\"lon\") == \"null\"\r\n\t\t\t) {\r\n\t\t\t\tnotify({\r\n\t\t\t\t\ttitle: this.translate(\"notifWarningTitle\"),\r\n\t\t\t\t\ttext: this.translate(\"warnMap\"),\r\n\t\t\t\t\ttype: \"warn\",\r\n\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\tspeed: 500,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.showMap = true;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\ttranslate(prop) {\r\n\t\t\t\treturn this[this.lang][prop];\r\n\t\t\t},\r\n\t\t\tasync detail() {\r\n\t\t\t\tthis.isShow = true;\r\n\t\t\t\tawait axios\r\n\t\t\t\t\t.get(\r\n\t\t\t\t\t\t\"https://bhsapi.duartecota.com/apiary/one/\" +\r\n\t\t\t\t\t\t\tlocalStorage.getItem(\"apiaryIDtoget\"),\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\t\tAuthorization: this.token,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t)\r\n\t\t\t\t\t.then((response) => {\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tthis.address = response.data.body.address;\r\n\t\t\t\t\t\tthis.observations = response.data.body.observations;\r\n\t\t\t\t\t\tthis.location = response.data.body.location;\r\n\t\t\t\t\t\tthis.isShow = false;\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(() => {\r\n\t\t\t\t\t\tnotify({\r\n\t\t\t\t\t\t\ttitle: this.translate(\"notifErrorTitle\"),\r\n\t\t\t\t\t\t\ttext: this.translate(\"mesProblem\"),\r\n\t\t\t\t\t\t\ttype: \"error\",\r\n\t\t\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\t\t\tspeed: 500,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tthis.isShow = false;\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tback() {\r\n\t\t\t\tif (localStorage.getItem(\"lastroute\") == \"/hives\")\r\n\t\t\t\t\tthis.$router.push(\"hives\");\r\n\t\t\t\telse if (localStorage.getItem(\"lastrooute\") == \"/'production'\")\r\n\t\t\t\t\tthis.$router.push(\"production\");\r\n\t\t\t\telse this.$router.push(\"hivedetails\");\r\n\t\t\t},\r\n\t\t\tteste() {\r\n\t\t\t\talert(\"teste\");\r\n\t\t\t},\r\n\t\t},\r\n\t});\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}