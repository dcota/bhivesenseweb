{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { ref, inject, watch, computed, onMounted, onUnmounted, defineComponent, openBlock, createElementBlock, normalizeClass, reactive, provide, resolveComponent, createElementVNode, renderSlot, createBlock, createCommentVNode, withCtx, mergeProps, Fragment, renderList, normalizeStyle, toDisplayString, createTextVNode } from 'vue';\nfunction _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}\n\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nfunction _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}\n\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nfunction _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}\nfunction _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}\n\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nfunction _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n      combined[combinedIdx] = result;\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n      combinedIdx += 1;\n    }\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n}\n\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      const sumArgs = (...args) => R.sum(args);\n *\n *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curryN = /*#__PURE__*/\n_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n  return _arity(length, _curryN(length, [], fn));\n});\n\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nfunction _curry3(fn) {\n  return function f3(a, b, c) {\n    switch (arguments.length) {\n      case 0:\n        return f3;\n      case 1:\n        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        });\n      case 2:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _curry1(function (_c) {\n          return fn(a, b, _c);\n        });\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {\n          return fn(_a, _b, c);\n        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b, c);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b, c);\n        }) : _isPlaceholder(c) ? _curry1(function (_c) {\n          return fn(a, b, _c);\n        }) : fn(a, b, c);\n    }\n  };\n}\n\n/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nvar _isArray = Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};\nfunction _isTransformer(obj) {\n  return obj != null && typeof obj['@@transducer/step'] === 'function';\n}\n\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a function with one of the given method names, it will\n * execute that function (functor case). Otherwise, if it is a transformer,\n * uses transducer created by [transducerCreator] to return a new transformer\n * (transducer case).\n * Otherwise, it will default to executing [fn].\n *\n * @private\n * @param {Array} methodNames properties to check for a custom implementation\n * @param {Function} transducerCreator transducer factory if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\n\nfunction _dispatchable(methodNames, transducerCreator, fn) {\n  return function () {\n    if (arguments.length === 0) {\n      return fn();\n    }\n    var obj = arguments[arguments.length - 1];\n    if (!_isArray(obj)) {\n      var idx = 0;\n      while (idx < methodNames.length) {\n        if (typeof obj[methodNames[idx]] === 'function') {\n          return obj[methodNames[idx]].apply(obj, Array.prototype.slice.call(arguments, 0, -1));\n        }\n        idx += 1;\n      }\n      if (_isTransformer(obj)) {\n        var transducer = transducerCreator.apply(null, Array.prototype.slice.call(arguments, 0, -1));\n        return transducer(obj);\n      }\n    }\n    return fn.apply(this, arguments);\n  };\n}\nvar _xfBase = {\n  init: function () {\n    return this.xf['@@transducer/init']();\n  },\n  result: function (result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};\nfunction _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n  return result;\n}\nfunction _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}\n\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @private\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      _isArrayLike([]); //=> true\n *      _isArrayLike(true); //=> false\n *      _isArrayLike({}); //=> false\n *      _isArrayLike({length: 10}); //=> false\n *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n *      _isArrayLike({nodeType: 1, length: 1}) // => false\n */\n\nvar _isArrayLike = /*#__PURE__*/\n_curry1(function isArrayLike(x) {\n  if (_isArray(x)) {\n    return true;\n  }\n  if (!x) {\n    return false;\n  }\n  if (typeof x !== 'object') {\n    return false;\n  }\n  if (_isString(x)) {\n    return false;\n  }\n  if (x.length === 0) {\n    return true;\n  }\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n  return false;\n});\nvar XWrap = /*#__PURE__*/\nfunction () {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n  XWrap.prototype['@@transducer/init'] = function () {\n    throw new Error('init not implemented on XWrap');\n  };\n  XWrap.prototype['@@transducer/result'] = function (acc) {\n    return acc;\n  };\n  XWrap.prototype['@@transducer/step'] = function (acc, x) {\n    return this.f(acc, x);\n  };\n  return XWrap;\n}();\nfunction _xwrap(fn) {\n  return new XWrap(fn);\n}\n\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n * @see R.partial\n * @example\n *\n *      const log = R.bind(console.log, console);\n *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}\n *      // logs {a: 2}\n * @symb R.bind(f, o)(a, b) = f.call(o, a, b)\n */\n\nvar bind = /*#__PURE__*/\n_curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function () {\n    return fn.apply(thisObj, arguments);\n  });\n});\nfunction _arrayReduce(xf, acc, list) {\n  var idx = 0;\n  var len = list.length;\n  while (idx < len) {\n    acc = xf['@@transducer/step'](acc, list[idx]);\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n    idx += 1;\n  }\n  return xf['@@transducer/result'](acc);\n}\nfunction _iterableReduce(xf, acc, iter) {\n  var step = iter.next();\n  while (!step.done) {\n    acc = xf['@@transducer/step'](acc, step.value);\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n    step = iter.next();\n  }\n  return xf['@@transducer/result'](acc);\n}\nfunction _methodReduce(xf, acc, obj, methodName) {\n  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n}\nvar symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\nfunction _reduce(fn, acc, list) {\n  if (typeof fn === 'function') {\n    fn = _xwrap(fn);\n  }\n  if (_isArrayLike(list)) {\n    return _arrayReduce(fn, acc, list);\n  }\n  if (typeof list['fantasy-land/reduce'] === 'function') {\n    return _methodReduce(fn, acc, list, 'fantasy-land/reduce');\n  }\n  if (list[symIterator] != null) {\n    return _iterableReduce(fn, acc, list[symIterator]());\n  }\n  if (typeof list.next === 'function') {\n    return _iterableReduce(fn, acc, list);\n  }\n  if (typeof list.reduce === 'function') {\n    return _methodReduce(fn, acc, list, 'reduce');\n  }\n  throw new TypeError('reduce: list must be array or iterable');\n}\nvar XMap = /*#__PURE__*/\nfunction () {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n  XMap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n  return XMap;\n}();\nvar _xmap = /*#__PURE__*/\n_curry2(function _xmap(f, xf) {\n  return new XMap(f, xf);\n});\nfunction _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\nvar toString$1 = Object.prototype.toString;\nvar _isArguments = /*#__PURE__*/\nfunction () {\n  return toString$1.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString$1.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\nvar hasEnumBug = ! /*#__PURE__*/\n{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\nvar hasArgsEnumBug = /*#__PURE__*/\nfunction () {\n  return arguments.propertyIsEnumerable('length');\n}();\nvar contains = function contains(list, item) {\n  var idx = 0;\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n    idx += 1;\n  }\n  return false;\n};\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values, R.toPairs\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\n\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ? /*#__PURE__*/\n_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) : /*#__PURE__*/\n_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n  var prop, nIdx;\n  var ks = [];\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n      nIdx -= 1;\n    }\n  }\n  return ks;\n});\n\n/**\n * Takes a function and\n * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n * applies the function to each of the functor's values, and returns\n * a functor of the same shape.\n *\n * Ramda provides suitable `map` implementations for `Array` and `Object`,\n * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * Also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @see R.transduce, R.addIndex, R.pluck, R.project\n * @example\n *\n *      const double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n * @symb R.map(f, [a, b]) = [f(a), f(b)]\n * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n * @symb R.map(f, functor_o) = functor_o.map(f)\n */\n\nvar map$1 = /*#__PURE__*/\n_curry2( /*#__PURE__*/\n_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function () {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n    case '[object Object]':\n      return _reduce(function (acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n    default:\n      return _map(fn, functor);\n  }\n}));\nvar map$2 = map$1;\n\n/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */\nvar _isInteger = Number.isInteger || function _isInteger(n) {\n  return n << 0 === n;\n};\n\n/**\n * Returns the nth element of the given list or string. If n is negative the\n * element at index length + n is returned.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> [a] -> a | Undefined\n * @sig Number -> String -> String\n * @param {Number} offset\n * @param {*} list\n * @return {*}\n * @example\n *\n *      const list = ['foo', 'bar', 'baz', 'quux'];\n *      R.nth(1, list); //=> 'bar'\n *      R.nth(-1, list); //=> 'quux'\n *      R.nth(-99, list); //=> undefined\n *\n *      R.nth(2, 'abc'); //=> 'c'\n *      R.nth(3, 'abc'); //=> ''\n * @symb R.nth(-1, [a, b, c]) = c\n * @symb R.nth(0, [a, b, c]) = a\n * @symb R.nth(1, [a, b, c]) = b\n */\n\nvar nth = /*#__PURE__*/\n_curry2(function nth(offset, list) {\n  var idx = offset < 0 ? list.length + offset : offset;\n  return _isString(list) ? list.charAt(idx) : list[idx];\n});\nvar nth$1 = nth;\n\n/**\n * Returns a function that when supplied an object returns the indicated\n * property of that object, if it exists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig Idx -> {s: a} -> a | Undefined\n * @param {String|Number} p The property name or array index\n * @param {Object} obj The object to query\n * @return {*} The value at `obj.p`.\n * @see R.path, R.props, R.pluck, R.project, R.nth\n * @example\n *\n *      R.prop('x', {x: 100}); //=> 100\n *      R.prop('x', {}); //=> undefined\n *      R.prop(0, [100]); //=> 100\n *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4\n */\n\nvar prop = /*#__PURE__*/\n_curry2(function prop(p, obj) {\n  if (obj == null) {\n    return;\n  }\n  return _isInteger(p) ? nth$1(p, obj) : obj[p];\n});\nvar prop$1 = prop;\n\n/**\n * Returns a single item by iterating through the list, successively calling\n * the iterator function and passing it an accumulator value and the current\n * value from the array, and then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*. It may use\n * [`R.reduced`](#reduced) to shortcut the iteration.\n *\n * The arguments' order of [`reduceRight`](#reduceRight)'s iterator function\n * is *(value, acc)*.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.reduce` method. For more details\n * on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n *\n * Dispatches to the `reduce` method of the third argument, if present. When\n * doing so, it is up to the user to handle the [`R.reduced`](#reduced)\n * shortcuting, as this is not implemented by `reduce`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduced, R.addIndex, R.reduceRight\n * @example\n *\n *      R.reduce(R.subtract, 0, [1, 2, 3, 4]) // => ((((0 - 1) - 2) - 3) - 4) = -10\n *      //          -               -10\n *      //         / \\              / \\\n *      //        -   4           -6   4\n *      //       / \\              / \\\n *      //      -   3   ==>     -3   3\n *      //     / \\              / \\\n *      //    -   2           -1   2\n *      //   / \\              / \\\n *      //  0   1            0   1\n *\n * @symb R.reduce(f, a, [b, c, d]) = f(f(f(a, b), c), d)\n */\n\nvar reduce = /*#__PURE__*/\n_curry3(_reduce);\nvar reduce$1 = reduce;\n\n/**\n * Returns a list of all the enumerable own properties of the supplied object.\n * Note that the order of the output array is not guaranteed across different\n * JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [v]\n * @param {Object} obj The object to extract values from\n * @return {Array} An array of the values of the object's own properties.\n * @see R.valuesIn, R.keys, R.toPairs\n * @example\n *\n *      R.values({a: 1, b: 2, c: 3}); //=> [1, 2, 3]\n */\n\nvar values = /*#__PURE__*/\n_curry1(function values(obj) {\n  var props = keys(obj);\n  var len = props.length;\n  var vals = [];\n  var idx = 0;\n  while (idx < len) {\n    vals[idx] = obj[props[idx]];\n    idx += 1;\n  }\n  return vals;\n});\nvar values$1 = values;\nfunction _isFunction(x) {\n  var type = Object.prototype.toString.call(x);\n  return type === '[object Function]' || type === '[object AsyncFunction]' || type === '[object GeneratorFunction]' || type === '[object AsyncGeneratorFunction]';\n}\n\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\nvar type = /*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\nfunction _pipe(f, g) {\n  return function () {\n    return g.call(this, f.apply(this, arguments));\n  };\n}\n\n/**\n * This checks whether a function has a [methodname] function. If it isn't an\n * array it will execute that function otherwise it will default to the ramda\n * implementation.\n *\n * @private\n * @param {Function} fn ramda implementation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\n\nfunction _checkForMethod(methodname, fn) {\n  return function () {\n    var length = arguments.length;\n    if (length === 0) {\n      return fn();\n    }\n    var obj = arguments[length - 1];\n    return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, Array.prototype.slice.call(arguments, 0, length - 1));\n  };\n}\n\n/**\n * Returns the elements of the given list or string (or object with a `slice`\n * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n *\n * Dispatches to the `slice` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @sig Number -> Number -> String -> String\n * @param {Number} fromIndex The start index (inclusive).\n * @param {Number} toIndex The end index (exclusive).\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n */\n\nvar slice = /*#__PURE__*/\n_curry3( /*#__PURE__*/\n_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n  return Array.prototype.slice.call(list, fromIndex, toIndex);\n}));\n\n/**\n * Returns all but the first element of the given list or string (or object\n * with a `tail` method).\n *\n * Dispatches to the `slice` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.head, R.init, R.last\n * @example\n *\n *      R.tail([1, 2, 3]);  //=> [2, 3]\n *      R.tail([1, 2]);     //=> [2]\n *      R.tail([1]);        //=> []\n *      R.tail([]);         //=> []\n *\n *      R.tail('abc');  //=> 'bc'\n *      R.tail('ab');   //=> 'b'\n *      R.tail('a');    //=> ''\n *      R.tail('');     //=> ''\n */\n\nvar tail = /*#__PURE__*/\n_curry1( /*#__PURE__*/\n_checkForMethod('tail', /*#__PURE__*/\nslice(1, Infinity)));\nvar tail$1 = tail;\n\n/**\n * Performs left-to-right function composition. The first argument may have\n * any arity; the remaining arguments must be unary.\n *\n * In some libraries this function is named `sequence`.\n *\n * **Note:** The result of pipe is not automatically curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n * @param {...Function} functions\n * @return {Function}\n * @see R.compose\n * @example\n *\n *      const f = R.pipe(Math.pow, R.negate, R.inc);\n *\n *      f(3, 4); // -(3^4) + 1\n * @symb R.pipe(f, g, h)(a, b) = h(g(f(a, b)))\n * @symb R.pipe(f, g, h)(a)(b) = h(g(f(a)))(b)\n */\n\nfunction pipe() {\n  if (arguments.length === 0) {\n    throw new Error('pipe requires at least one argument');\n  }\n  return _arity(arguments[0].length, reduce$1(_pipe, arguments[0], tail$1(arguments)));\n}\nfunction _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n  return list;\n}\nfunction _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n    idx += 1;\n  }\n  return false;\n}\nfunction _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}\n\n// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\nvar _objectIs$1 = typeof Object.is === 'function' ? Object.is : _objectIs;\n\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparison of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n  var b = _arrayFromIterator(bIterator);\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  } // if *a* array contains any element that is not included in *b*\n\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\nfunction _equals(a, b, stackA, stackB) {\n  if (_objectIs$1(a, b)) {\n    return true;\n  }\n  var typeA = type(a);\n  if (typeA !== type(b)) {\n    return false;\n  }\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n      break;\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs$1(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n      break;\n    case 'Date':\n      if (!_objectIs$1(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n      break;\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n      break;\n  }\n  var idx = stackA.length - 1;\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n    idx -= 1;\n  }\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n  var keysA = keys(a);\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n  while (idx >= 0) {\n    var key = keysA[idx];\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n    idx -= 1;\n  }\n  return true;\n}\n\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\n\nvar equals = /*#__PURE__*/\n_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\nfunction _indexOf(list, a, idx) {\n  var inf, item; // Array.prototype.indexOf doesn't exist below IE9\n\n  if (typeof list.indexOf === 'function') {\n    switch (typeof a) {\n      case 'number':\n        if (a === 0) {\n          // manually crawl the list to distinguish between +0 and -0\n          inf = 1 / a;\n          while (idx < list.length) {\n            item = list[idx];\n            if (item === 0 && 1 / item === inf) {\n              return idx;\n            }\n            idx += 1;\n          }\n          return -1;\n        } else if (a !== a) {\n          // NaN\n          while (idx < list.length) {\n            item = list[idx];\n            if (typeof item === 'number' && item !== item) {\n              return idx;\n            }\n            idx += 1;\n          }\n          return -1;\n        } // non-zero numbers can utilise Set\n\n        return list.indexOf(a, idx);\n      // all these types can utilise Set\n\n      case 'string':\n      case 'boolean':\n      case 'function':\n      case 'undefined':\n        return list.indexOf(a, idx);\n      case 'object':\n        if (a === null) {\n          // null can utilise Set\n          return list.indexOf(a, idx);\n        }\n    }\n  } // anything else not covered above, defer to R.equals\n\n  while (idx < list.length) {\n    if (equals(list[idx], a)) {\n      return idx;\n    }\n    idx += 1;\n  }\n  return -1;\n}\nfunction _includes(a, list) {\n  return _indexOf(list, a, 0) >= 0;\n}\nfunction _quote(s) {\n  var escaped = s.replace(/\\\\/g, '\\\\\\\\').replace(/[\\b]/g, '\\\\b') // \\b matches word boundary; [\\b] matches backspace\n  .replace(/\\f/g, '\\\\f').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\t/g, '\\\\t').replace(/\\v/g, '\\\\v').replace(/\\0/g, '\\\\0');\n  return '\"' + escaped.replace(/\"/g, '\\\\\"') + '\"';\n}\n\n/**\n * Polyfill from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString>.\n */\nvar pad = function pad(n) {\n  return (n < 10 ? '0' : '') + n;\n};\nvar _toISOString = typeof Date.prototype.toISOString === 'function' ? function _toISOString(d) {\n  return d.toISOString();\n} : function _toISOString(d) {\n  return d.getUTCFullYear() + '-' + pad(d.getUTCMonth() + 1) + '-' + pad(d.getUTCDate()) + 'T' + pad(d.getUTCHours()) + ':' + pad(d.getUTCMinutes()) + ':' + pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';\n};\nfunction _complement(f) {\n  return function () {\n    return !f.apply(this, arguments);\n  };\n}\nfunction _filter(fn, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n  while (idx < len) {\n    if (fn(list[idx])) {\n      result[result.length] = list[idx];\n    }\n    idx += 1;\n  }\n  return result;\n}\nfunction _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}\nvar XFilter = /*#__PURE__*/\nfunction () {\n  function XFilter(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n  XFilter.prototype['@@transducer/init'] = _xfBase.init;\n  XFilter.prototype['@@transducer/result'] = _xfBase.result;\n  XFilter.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n  return XFilter;\n}();\nvar _xfilter = /*#__PURE__*/\n_curry2(function _xfilter(f, xf) {\n  return new XFilter(f, xf);\n});\n\n/**\n * Takes a predicate and a `Filterable`, and returns a new filterable of the\n * same type containing the members of the given filterable which satisfy the\n * given predicate. Filterable objects include plain objects or any object\n * that has a filter method such as `Array`.\n *\n * Dispatches to the `filter` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array} Filterable\n * @see R.reject, R.transduce, R.addIndex\n * @example\n *\n *      const isEven = n => n % 2 === 0;\n *\n *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.filter(isEven, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar filter$1 = /*#__PURE__*/\n_curry2( /*#__PURE__*/\n_dispatchable(['fantasy-land/filter', 'filter'], _xfilter, function (pred, filterable) {\n  return _isObject(filterable) ? _reduce(function (acc, key) {\n    if (pred(filterable[key])) {\n      acc[key] = filterable[key];\n    }\n    return acc;\n  }, {}, keys(filterable)) :\n  // else\n  _filter(pred, filterable);\n}));\n\n/**\n * The complement of [`filter`](#filter).\n *\n * Acts as a transducer if a transformer is given in list position. Filterable\n * objects include plain objects or any object that has a filter method such\n * as `Array`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array}\n * @see R.filter, R.transduce, R.addIndex\n * @example\n *\n *      const isOdd = (n) => n % 2 !== 0;\n *\n *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.reject(isOdd, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar reject = /*#__PURE__*/\n_curry2(function reject(pred, filterable) {\n  return filter$1(_complement(pred), filterable);\n});\nfunction _toString(x, seen) {\n  var recur = function recur(y) {\n    var xs = seen.concat([x]);\n    return _includes(y, xs) ? '<Circular>' : _toString(y, xs);\n  }; //  mapPairs :: (Object, [String]) -> [String]\n\n  var mapPairs = function (obj, keys) {\n    return _map(function (k) {\n      return _quote(k) + ': ' + recur(obj[k]);\n    }, keys.slice().sort());\n  };\n  switch (Object.prototype.toString.call(x)) {\n    case '[object Arguments]':\n      return '(function() { return arguments; }(' + _map(recur, x).join(', ') + '))';\n    case '[object Array]':\n      return '[' + _map(recur, x).concat(mapPairs(x, reject(function (k) {\n        return /^\\d+$/.test(k);\n      }, keys(x)))).join(', ') + ']';\n    case '[object Boolean]':\n      return typeof x === 'object' ? 'new Boolean(' + recur(x.valueOf()) + ')' : x.toString();\n    case '[object Date]':\n      return 'new Date(' + (isNaN(x.valueOf()) ? recur(NaN) : _quote(_toISOString(x))) + ')';\n    case '[object Null]':\n      return 'null';\n    case '[object Number]':\n      return typeof x === 'object' ? 'new Number(' + recur(x.valueOf()) + ')' : 1 / x === -Infinity ? '-0' : x.toString(10);\n    case '[object String]':\n      return typeof x === 'object' ? 'new String(' + recur(x.valueOf()) + ')' : _quote(x);\n    case '[object Undefined]':\n      return 'undefined';\n    default:\n      if (typeof x.toString === 'function') {\n        var repr = x.toString();\n        if (repr !== '[object Object]') {\n          return repr;\n        }\n      }\n      return '{' + mapPairs(x, keys(x)).join(', ') + '}';\n  }\n}\n\n/**\n * Returns the string representation of the given value. `eval`'ing the output\n * should result in a value equivalent to the input value. Many of the built-in\n * `toString` methods do not satisfy this requirement.\n *\n * If the given value is an `[object Object]` with a `toString` method other\n * than `Object.prototype.toString`, this method is invoked with no arguments\n * to produce the return value. This means user-defined constructor functions\n * can provide a suitable `toString` method. For example:\n *\n *     function Point(x, y) {\n *       this.x = x;\n *       this.y = y;\n *     }\n *\n *     Point.prototype.toString = function() {\n *       return 'new Point(' + this.x + ', ' + this.y + ')';\n *     };\n *\n *     R.toString(new Point(1, 2)); //=> 'new Point(1, 2)'\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category String\n * @sig * -> String\n * @param {*} val\n * @return {String}\n * @example\n *\n *      R.toString(42); //=> '42'\n *      R.toString('abc'); //=> '\"abc\"'\n *      R.toString([1, 2, 3]); //=> '[1, 2, 3]'\n *      R.toString({foo: 1, bar: 2, baz: 3}); //=> '{\"bar\": 2, \"baz\": 3, \"foo\": 1}'\n *      R.toString(new Date('2001-02-03T04:05:06Z')); //=> 'new Date(\"2001-02-03T04:05:06.000Z\")'\n */\n\nvar toString = /*#__PURE__*/\n_curry1(function toString(val) {\n  return _toString(val, []);\n});\n\n/**\n * Returns a curried equivalent of the provided function. The curried function\n * has two unusual capabilities. First, its arguments needn't be provided one\n * at a time. If `f` is a ternary function and `g` is `R.curry(f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (* -> a) -> (* -> a)\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curryN, R.partial\n * @example\n *\n *      const addFourNumbers = (a, b, c, d) => a + b + c + d;\n *\n *      const curriedAddFourNumbers = R.curry(addFourNumbers);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curry = /*#__PURE__*/\n_curry1(function curry(fn) {\n  return curryN(fn.length, fn);\n});\nvar curry$1 = curry;\n\n/**\n * Turns a named method with a specified arity into a function that can be\n * called directly supplied with arguments and a target object.\n *\n * The returned function is curried and accepts `arity + 1` parameters where\n * the final parameter is the target object.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig Number -> String -> (a -> b -> ... -> n -> Object -> *)\n * @param {Number} arity Number of arguments the returned function should take\n *        before the target object.\n * @param {String} method Name of any of the target object's methods to call.\n * @return {Function} A new curried function.\n * @see R.construct\n * @example\n *\n *      const sliceFrom = R.invoker(1, 'slice');\n *      sliceFrom(6, 'abcdefghijklm'); //=> 'ghijklm'\n *      const sliceFrom6 = R.invoker(2, 'slice')(6);\n *      sliceFrom6(8, 'abcdefghijklm'); //=> 'gh'\n *\n *      const dog = {\n *        speak: async () => 'Woof!'\n *      };\n *      const speak = R.invoker(0, 'speak');\n *      speak(dog).then(console.log) //~> 'Woof!'\n *\n * @symb R.invoker(0, 'method')(o) = o['method']()\n * @symb R.invoker(1, 'method')(a, o) = o['method'](a)\n * @symb R.invoker(2, 'method')(a, b, o) = o['method'](a, b)\n */\n\nvar invoker = /*#__PURE__*/\n_curry2(function invoker(arity, method) {\n  return curryN(arity + 1, function () {\n    var target = arguments[arity];\n    if (target != null && _isFunction(target[method])) {\n      return target[method].apply(target, Array.prototype.slice.call(arguments, 0, arity));\n    }\n    throw new TypeError(toString(target) + ' does not have a method named \"' + method + '\"');\n  });\n});\nvar invoker$1 = invoker;\n\n/**\n * See if an object (i.e. `val`) is an instance of the supplied constructor. This\n * function will check up the inheritance chain, if any.\n * If `val` was created using `Object.create`, `R.is(Object, val) === true`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Type\n * @sig (* -> {*}) -> a -> Boolean\n * @param {Object} ctor A constructor\n * @param {*} val The value to test\n * @return {Boolean}\n * @example\n *\n *      R.is(Object, {}); //=> true\n *      R.is(Number, 1); //=> true\n *      R.is(Object, 1); //=> false\n *      R.is(String, 's'); //=> true\n *      R.is(String, new String('')); //=> true\n *      R.is(Object, new String('')); //=> true\n *      R.is(Object, 's'); //=> false\n *      R.is(Number, {}); //=> false\n */\n\nvar is = /*#__PURE__*/\n_curry2(function is(Ctor, val) {\n  return val instanceof Ctor || val != null && (val.constructor === Ctor || Ctor.name === 'Object' && typeof val === 'object');\n});\nvar is$1 = is;\n\n/**\n * Returns a string made by inserting the `separator` between each element and\n * concatenating all the elements into a single string.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig String -> [a] -> String\n * @param {Number|String} separator The string used to separate the elements.\n * @param {Array} xs The elements to join into a string.\n * @return {String} str The string made by concatenating `xs` with `separator`.\n * @see R.split\n * @example\n *\n *      const spacer = R.join(' ');\n *      spacer(['a', 2, 3.4]);   //=> 'a 2 3.4'\n *      R.join('|', [1, 2, 3]);    //=> '1|2|3'\n */\n\nvar join = /*#__PURE__*/\ninvoker$1(1, 'join');\nvar join$1 = join;\n\n/**\n * Creates a new object with the own properties of the two provided objects. If\n * a key exists in both objects, the provided function is applied to the key\n * and the values associated with the key in each object, with the result being\n * used as the value associated with the key in the returned object.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeDeepWithKey, R.merge, R.mergeWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeWithKey(concatValues,\n *                     { a: true, thing: 'foo', values: [10, 20] },\n *                     { b: true, thing: 'bar', values: [15, 35] });\n *      //=> { a: true, b: true, thing: 'bar', values: [10, 20, 15, 35] }\n * @symb R.mergeWithKey(f, { x: 1, y: 2 }, { y: 5, z: 3 }) = { x: 1, y: f('y', 2, 5), z: 3 }\n */\n\nvar mergeWithKey = /*#__PURE__*/\n_curry3(function mergeWithKey(fn, l, r) {\n  var result = {};\n  var k;\n  for (k in l) {\n    if (_has(k, l)) {\n      result[k] = _has(k, r) ? fn(k, l[k], r[k]) : l[k];\n    }\n  }\n  for (k in r) {\n    if (_has(k, r) && !_has(k, result)) {\n      result[k] = r[k];\n    }\n  }\n  return result;\n});\n\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to the key and associated values\n *   using the resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWithKey, R.mergeDeepWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeDeepWithKey(concatValues,\n *                         { a: true, c: { thing: 'foo', values: [10, 20] }},\n *                         { b: true, c: { thing: 'bar', values: [15, 35] }});\n *      //=> { a: true, b: true, c: { thing: 'bar', values: [10, 20, 15, 35] }}\n */\n\nvar mergeDeepWithKey = /*#__PURE__*/\n_curry3(function mergeDeepWithKey(fn, lObj, rObj) {\n  return mergeWithKey(function (k, lVal, rVal) {\n    if (_isObject(lVal) && _isObject(rVal)) {\n      return mergeDeepWithKey(fn, lVal, rVal);\n    } else {\n      return fn(k, lVal, rVal);\n    }\n  }, lObj, rObj);\n});\n\n/**\n * Creates a new object with the own properties of the first object merged with\n * the own properties of the second object. If a key exists in both objects:\n * - and both values are objects, the two values will be recursively merged\n * - otherwise the value from the first object will be used.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig {a} -> {a} -> {a}\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.merge, R.mergeDeepRight, R.mergeDeepWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepLeft({ name: 'fred', age: 10, contact: { email: 'moo@example.com' }},\n *                      { age: 40, contact: { email: 'baa@example.com' }});\n *      //=> { name: 'fred', age: 10, contact: { email: 'moo@example.com' }}\n */\n\nvar mergeDeepLeft = /*#__PURE__*/\n_curry2(function mergeDeepLeft(lObj, rObj) {\n  return mergeDeepWithKey(function (k, lVal, rVal) {\n    return lVal;\n  }, lObj, rObj);\n});\nvar mergeDeepLeft$1 = mergeDeepLeft;\n\n/**\n * Returns a partial copy of an object omitting the keys specified.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig [String] -> {String: *} -> {String: *}\n * @param {Array} names an array of String property names to omit from the new object\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with properties from `names` not on it.\n * @see R.pick\n * @example\n *\n *      R.omit(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, c: 3}\n */\n\nvar omit = /*#__PURE__*/\n_curry2(function omit(names, obj) {\n  var result = {};\n  var index = {};\n  var idx = 0;\n  var len = names.length;\n  while (idx < len) {\n    index[names[idx]] = 1;\n    idx += 1;\n  }\n  for (var prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n  return result;\n});\nvar omit$1 = omit;\n\n/**\n * Returns a partial copy of an object containing only the keys that satisfy\n * the supplied predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @sig ((v, k) -> Boolean) -> {k: v} -> {k: v}\n * @param {Function} pred A predicate to determine whether or not a key\n *        should be included on the output object.\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with only properties that satisfy `pred`\n *         on it.\n * @see R.pick, R.filter\n * @example\n *\n *      const isUpperCase = (val, key) => key.toUpperCase() === key;\n *      R.pickBy(isUpperCase, {a: 1, b: 2, A: 3, B: 4}); //=> {A: 3, B: 4}\n */\n\nvar pickBy = /*#__PURE__*/\n_curry2(function pickBy(test, obj) {\n  var result = {};\n  for (var prop in obj) {\n    if (test(obj[prop], prop, obj)) {\n      result[prop] = obj[prop];\n    }\n  }\n  return result;\n});\nvar pickBy$1 = pickBy;\n\n/**\n * Splits a string into an array of strings based on the given\n * separator.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category String\n * @sig (String | RegExp) -> String -> [String]\n * @param {String|RegExp} sep The pattern.\n * @param {String} str The string to separate into an array.\n * @return {Array} The array of strings from `str` separated by `sep`.\n * @see R.join\n * @example\n *\n *      const pathComponents = R.split('/');\n *      R.tail(pathComponents('/usr/local/bin/node')); //=> ['usr', 'local', 'bin', 'node']\n *\n *      R.split('.', 'a.b.c.xyz.d'); //=> ['a', 'b', 'c', 'xyz', 'd']\n */\n\nvar split = /*#__PURE__*/\ninvoker$1(1, 'split');\nvar split$1 = split;\n\n/**\n * The lower case version of a string.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category String\n * @sig String -> String\n * @param {String} str The string to lower case.\n * @return {String} The lower case version of `str`.\n * @see R.toUpper\n * @example\n *\n *      R.toLower('XYZ'); //=> 'xyz'\n */\n\nvar toLower = /*#__PURE__*/\ninvoker$1(0, 'toLowerCase');\nvar toLower$1 = toLower;\n\n/**\n * Creates a new object out of a list of keys and a list of values.\n * Key/value pairing is truncated to the length of the shorter of the two lists.\n * Note: `zipObj` is equivalent to `pipe(zip, fromPairs)`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig [String] -> [*] -> {String: *}\n * @param {Array} keys The array that will be properties on the output object.\n * @param {Array} values The list of values on the output object.\n * @return {Object} The object made by pairing up same-indexed elements of `keys` and `values`.\n * @example\n *\n *      R.zipObj(['a', 'b', 'c'], [1, 2, 3]); //=> {a: 1, b: 2, c: 3}\n */\n\nvar zipObj = /*#__PURE__*/\n_curry2(function zipObj(keys, values) {\n  var idx = 0;\n  var len = Math.min(keys.length, values.length);\n  var out = {};\n  while (idx < len) {\n    out[keys[idx]] = values[idx];\n    idx += 1;\n  }\n  return out;\n});\nvar zipObj$1 = zipObj;\npipe(toLower$1, split$1(' '), join$1('-'));\nconst getCol = curry$1((col, df) => {\n  if (is$1(Number)) {\n    return map$2(v => nth$1(col, v) || '', df).filter(x => x !== '');\n  }\n  return map$2(prop$1(col), df);\n});\nconst mapKeys = (fn, data) => zipObj$1(map$2(fn, keys(data)), values$1(data));\nconst kebabize = str => {\n  return str.split('').map((letter, idx) => {\n    return letter.toUpperCase() === letter ? `${idx !== 0 ? '-' : ''}${letter.toLowerCase()}` : letter;\n  }).join('');\n};\nfunction ascending$1(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction descending$1(a, b) {\n  return a == null || b == null ? NaN : b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\nfunction bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending$1;\n    compare2 = (d, x) => ascending$1(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending$1 || f === descending$1 ? f : zero$1;\n    compare2 = f;\n    delta = f;\n  }\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = lo + hi >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = lo + hi >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n  return {\n    left,\n    center,\n    right\n  };\n}\nfunction zero$1() {\n  return 0;\n}\nfunction number$2(x) {\n  return x === null ? NaN : +x;\n}\nconst ascendingBisect = bisector(ascending$1);\nconst bisectRight = ascendingBisect.right;\nconst bisectCenter = bisector(number$2).center;\nfunction extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\nclass InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {\n      _intern: {\n        value: new Map()\n      },\n      _key: {\n        value: key\n      }\n    });\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\nfunction intern_get({\n  _intern,\n  _key\n}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\nfunction intern_set({\n  _intern,\n  _key\n}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\nfunction intern_delete({\n  _intern,\n  _key\n}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\nvar e10 = Math.sqrt(50),\n  e5 = Math.sqrt(10),\n  e2 = Math.sqrt(2);\nfunction ticks(start, stop, count) {\n  var reverse,\n    i = -1,\n    n,\n    ticks,\n    step;\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n  if (step > 0) {\n    let r0 = Math.round(start / step),\n      r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step),\n      r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n  if (reverse) ticks.reverse();\n  return ticks;\n}\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n    power = Math.floor(Math.log(step) / Math.LN10),\n    error = step / Math.pow(10, power);\n  return power >= 0 ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power) : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n    step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n    error = step0 / step1;\n  if (error >= e10) step1 *= 10;else if (error >= e5) step1 *= 5;else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\nfunction max$1(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null && (max < value || max === undefined && value >= value)) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (max < value || max === undefined && value >= value)) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\nfunction min$1(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null && (min > value || min === undefined && value >= value)) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (min > value || min === undefined && value >= value)) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\nfunction range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n  var i = -1,\n    n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n    range = new Array(n);\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n  return range;\n}\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0:\n      break;\n    case 1:\n      this.range(domain);\n      break;\n    default:\n      this.range(range).domain(domain);\n      break;\n  }\n  return this;\n}\nfunction initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0:\n      break;\n    case 1:\n      {\n        if (typeof domain === \"function\") this.interpolator(domain);else this.range(domain);\n        break;\n      }\n    default:\n      {\n        this.domain(domain);\n        if (typeof interpolator === \"function\") this.interpolator(interpolator);else this.range(interpolator);\n        break;\n      }\n  }\n  return this;\n}\nconst implicit = Symbol(\"implicit\");\nfunction ordinal() {\n  var index = new InternMap(),\n    domain = [],\n    range = [],\n    unknown = implicit;\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n  scale.domain = function (_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  scale.copy = function () {\n    return ordinal(domain, range).unknown(unknown);\n  };\n  initRange.apply(scale, arguments);\n  return scale;\n}\nfunction band() {\n  var scale = ordinal().unknown(undefined),\n    domain = scale.domain,\n    ordinalRange = scale.range,\n    r0 = 0,\n    r1 = 1,\n    step,\n    bandwidth,\n    round = false,\n    paddingInner = 0,\n    paddingOuter = 0,\n    align = 0.5;\n  delete scale.unknown;\n  function rescale() {\n    var n = domain().length,\n      reverse = r1 < r0,\n      start = reverse ? r1 : r0,\n      stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = range(n).map(function (i) {\n      return start + step * i;\n    });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n  scale.domain = function (_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n  scale.range = function (_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n  scale.rangeRound = function (_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n  scale.bandwidth = function () {\n    return bandwidth;\n  };\n  scale.step = function () {\n    return step;\n  };\n  scale.round = function (_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n  scale.padding = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n  scale.paddingInner = function (_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n  scale.paddingOuter = function (_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n  scale.align = function (_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n  scale.copy = function () {\n    return band(domain(), [r0, r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align);\n  };\n  return initRange.apply(rescale(), arguments);\n}\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\nfunction Color() {}\nvar darker = 0.7;\nvar brighter = 1 / darker;\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n  reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n  reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n  reHex = /^#([0-9a-f]{3,8})$/,\n  reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n  reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n  reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n  reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n  reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n  reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor(), this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n  : l === 3 ? new Rgb(m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, (m & 0xf) << 4 | m & 0xf, 1) // #f00\n  : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n  : l === 4 ? rgba(m >> 12 & 0xf | m >> 8 & 0xf0, m >> 8 & 0xf | m >> 4 & 0xf0, m >> 4 & 0xf | m & 0xf0, ((m & 0xf) << 4 | m & 0xf) / 0xff) // #f000\n  : null // invalid hex\n  ) : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n  : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n  : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n  : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n  : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n  : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n  : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n  : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0) : null;\n}\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb();\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\nfunction rgb$1(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Rgb, rgb$1, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return -0.5 <= this.r && this.r < 255.5 && -0.5 <= this.g && this.g < 255.5 && -0.5 <= this.b && this.b < 255.5 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  hex: rgb_formatHex,\n  // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;else if (l <= 0 || l >= 1) h = s = NaN;else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl();\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n    g = o.g / 255,\n    b = o.b / 255,\n    min = Math.min(r, g, b),\n    max = Math.max(r, g, b),\n    h = NaN,\n    s = max - min,\n    l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;else if (g === max) h = (b - r) / s + 2;else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n      s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n      l = this.l,\n      m2 = l + (l < 0.5 ? l : 1 - l) * s,\n      m1 = 2 * l - m2;\n    return new Rgb(hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2), hsl2rgb(h, m1, m2), hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2), this.opacity);\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s)) && 0 <= this.l && this.l <= 1 && 0 <= this.opacity && this.opacity <= 1;\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60 : h < 180 ? m2 : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60 : m1) * 255;\n}\nconst radians = Math.PI / 180;\nconst degrees = 180 / Math.PI;\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n  Xn = 0.96422,\n  Yn = 1,\n  Zn = 0.82521,\n  t0 = 4 / 29,\n  t1 = 6 / 29,\n  t2 = 3 * t1 * t1,\n  t3 = t1 * t1 * t1;\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n    g = rgb2lrgb(o.g),\n    b = rgb2lrgb(o.b),\n    y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn),\n    x,\n    z;\n  if (r === g && g === b) x = z = y;else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\nfunction lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\nfunction Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n      x = isNaN(this.a) ? y : y + this.a / 500,\n      z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(lrgb2rgb(3.1338561 * x - 1.6168667 * y - 0.4906146 * z), lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z), lrgb2rgb(0.0719453 * x - 0.2289914 * y + 1.4052427 * z), this.opacity);\n  }\n}));\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\nfunction hcl$1(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\nfunction Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\ndefine(Hcl, hcl$1, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\nvar constant$3 = x => () => x;\nfunction linear$1(a, d) {\n  return function (t) {\n    return a + t * d;\n  };\n}\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function (t) {\n    return Math.pow(a + t * b, y);\n  };\n}\nfunction hue(a, b) {\n  var d = b - a;\n  return d ? linear$1(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant$3(isNaN(a) ? b : a);\n}\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function (a, b) {\n    return b - a ? exponential(a, b, y) : constant$3(isNaN(a) ? b : a);\n  };\n}\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear$1(a, d) : constant$3(isNaN(a) ? b : a);\n}\nvar rgb = function rgbGamma(y) {\n  var color = gamma(y);\n  function rgb(start, end) {\n    var r = color((start = rgb$1(start)).r, (end = rgb$1(end)).r),\n      g = color(start.g, end.g),\n      b = color(start.b, end.b),\n      opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n  rgb.gamma = rgbGamma;\n  return rgb;\n}(1);\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n    c = b.slice(),\n    i;\n  return function (t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n    na = a ? Math.min(nb, a.length) : 0,\n    x = new Array(na),\n    c = new Array(nb),\n    i;\n  for (i = 0; i < na; ++i) x[i] = interpolate(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n  return function (t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\nfunction date(a, b) {\n  var d = new Date();\n  return a = +a, b = +b, function (t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function (t) {\n    return a * (1 - t) + b * t;\n  };\n}\nfunction object(a, b) {\n  var i = {},\n    c = {},\n    k;\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n  return function (t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n  reB = new RegExp(reA.source, \"g\");\nfunction zero(b) {\n  return function () {\n    return b;\n  };\n}\nfunction one(b) {\n  return function (t) {\n    return b(t) + \"\";\n  };\n}\nfunction string(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0,\n    // scan index for next number in b\n    am,\n    // current match in a\n    bm,\n    // current match in b\n    bs,\n    // string preceding current number in b, if any\n    i = -1,\n    // index in s\n    s = [],\n    // string constants and placeholders\n    q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a)) && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) {\n      // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) {\n      // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else {\n      // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({\n        i: i,\n        x: interpolateNumber(am, bm)\n      });\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? q[0] ? one(q[0].x) : zero(b) : (b = q.length, function (t) {\n    for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n    return s.join(\"\");\n  });\n}\nfunction interpolate(a, b) {\n  var t = typeof b,\n    c;\n  return b == null || t === \"boolean\" ? constant$3(b) : (t === \"number\" ? interpolateNumber : t === \"string\" ? (c = color(b)) ? (b = c, rgb) : string : b instanceof color ? rgb : b instanceof Date ? date : isNumberArray(b) ? numberArray : Array.isArray(b) ? genericArray : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object : interpolateNumber)(a, b);\n}\nfunction interpolateRound(a, b) {\n  return a = +a, b = +b, function (t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\nfunction hcl(hue) {\n  return function (start, end) {\n    var h = hue((start = hcl$1(start)).h, (end = hcl$1(end)).h),\n      c = nogamma(start.c, end.c),\n      l = nogamma(start.l, end.l),\n      opacity = nogamma(start.opacity, end.opacity);\n    return function (t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  };\n}\nvar interpolateHcl = hcl(hue);\nfunction constants(x) {\n  return function () {\n    return x;\n  };\n}\nfunction number$1(x) {\n  return +x;\n}\nvar unit = [0, 1];\nfunction identity$3(x) {\n  return x;\n}\nfunction normalize$1(a, b) {\n  return (b -= a = +a) ? function (x) {\n    return (x - a) / b;\n  } : constants(isNaN(b) ? NaN : 0.5);\n}\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function (x) {\n    return Math.max(a, Math.min(b, x));\n  };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0],\n    d1 = domain[1],\n    r0 = range[0],\n    r1 = range[1];\n  if (d1 < d0) d0 = normalize$1(d1, d0), r0 = interpolate(r1, r0);else d0 = normalize$1(d0, d1), r0 = interpolate(r0, r1);\n  return function (x) {\n    return r0(d0(x));\n  };\n}\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n    d = new Array(j),\n    r = new Array(j),\n    i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n  while (++i < j) {\n    d[i] = normalize$1(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n  return function (x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\nfunction copy$1(source, target) {\n  return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown());\n}\nfunction transformer$1() {\n  var domain = unit,\n    range = unit,\n    interpolate$1 = interpolate,\n    transform,\n    untransform,\n    unknown,\n    clamp = identity$3,\n    piecewise,\n    output,\n    input;\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity$3) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate$1)))(transform(clamp(x)));\n  }\n  scale.invert = function (y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n  scale.domain = function (_) {\n    return arguments.length ? (domain = Array.from(_, number$1), rescale()) : domain.slice();\n  };\n  scale.range = function (_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n  scale.rangeRound = function (_) {\n    return range = Array.from(_), interpolate$1 = interpolateRound, rescale();\n  };\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = _ ? true : identity$3, rescale()) : clamp !== identity$3;\n  };\n  scale.interpolate = function (_) {\n    return arguments.length ? (interpolate$1 = _, rescale()) : interpolate$1;\n  };\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  return function (t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\nfunction continuous() {\n  return transformer$1()(identity$3, identity$3);\n}\nfunction formatDecimal(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21 ? x.toLocaleString(\"en\").replace(/,/g, \"\") : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nfunction formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i,\n    coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient, +x.slice(i + 1)];\n}\nfunction exponent(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\nfunction formatGroup(grouping, thousands) {\n  return function (value, width) {\n    var i = value.length,\n      t = [],\n      j = 0,\n      g = grouping[0],\n      length = 0;\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n    return t.reverse().join(thousands);\n  };\n}\nfunction formatNumerals(numerals) {\n  return function (value) {\n    return value.replace(/[0-9]/g, function (i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\nFormatSpecifier.prototype.toString = function () {\n  return this.fill + this.align + this.sign + this.symbol + (this.zero ? \"0\" : \"\") + (this.width === undefined ? \"\" : Math.max(1, this.width | 0)) + (this.comma ? \",\" : \"\") + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0)) + (this.trim ? \"~\" : \"\") + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\":\n        i0 = i1 = i;\n        break;\n      case \"0\":\n        if (i0 === 0) i0 = i;\n        i1 = i;\n        break;\n      default:\n        if (!+s[i]) break out;\n        if (i0 > 0) i0 = 0;\n        break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\nvar prefixExponent;\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n    exponent = d[1],\n    i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n    n = coefficient.length;\n  return i === n ? coefficient : i > n ? coefficient + new Array(i - n + 1).join(\"0\") : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i) : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n    exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1) : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\nvar formatTypes = {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": x => Math.round(x).toString(2),\n  \"c\": x => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": x => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": x => Math.round(x).toString(16).toUpperCase(),\n  \"x\": x => Math.round(x).toString(16)\n};\nfunction identity$2(x) {\n  return x;\n}\nvar map = Array.prototype.map,\n  prefixes = [\"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"µ\", \"m\", \"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"];\nfunction formatLocale(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity$2 : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n    currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n    currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n    decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n    numerals = locale.numerals === undefined ? identity$2 : formatNumerals(map.call(locale.numerals, String)),\n    percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n    minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n    nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n    var fill = specifier.fill,\n      align = specifier.align,\n      sign = specifier.sign,\n      symbol = specifier.symbol,\n      zero = specifier.zero,\n      width = specifier.width,\n      comma = specifier.comma,\n      precision = specifier.precision,\n      trim = specifier.trim,\n      type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || fill === \"0\" && align === \"=\") zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n      suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n      maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6 : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision)) : Math.max(0, Math.min(20, precision));\n    function format(value) {\n      var valuePrefix = prefix,\n        valueSuffix = suffix,\n        i,\n        n,\n        c;\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? sign === \"(\" ? sign : minus : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n        padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\":\n          value = valuePrefix + value + valueSuffix + padding;\n          break;\n        case \"=\":\n          value = valuePrefix + padding + value + valueSuffix;\n          break;\n        case \"^\":\n          value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n          break;\n        default:\n          value = padding + valuePrefix + value + valueSuffix;\n          break;\n      }\n      return numerals(value);\n    }\n    format.toString = function () {\n      return specifier + \"\";\n    };\n    return format;\n  }\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n      e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n      k = Math.pow(10, -e),\n      prefix = prefixes[8 + e / 3];\n    return function (value) {\n      return f(k * value) + prefix;\n    };\n  }\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\nvar locale;\nvar format;\nvar formatPrefix;\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n    precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\":\n      {\n        var value = Math.max(Math.abs(start), Math.abs(stop));\n        if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n        return formatPrefix(specifier, value);\n      }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n        break;\n      }\n    case \"f\":\n    case \"%\":\n      {\n        if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n        break;\n      }\n  }\n  return format(specifier);\n}\nfunction linearish(scale) {\n  var domain = scale.domain;\n  scale.ticks = function (count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n  scale.tickFormat = function (count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n  scale.nice = function (count) {\n    if (count == null) count = 10;\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n    return scale;\n  };\n  return scale;\n}\nfunction linear() {\n  var scale = continuous();\n  scale.copy = function () {\n    return copy$1(scale, linear());\n  };\n  initRange.apply(scale, arguments);\n  return linearish(scale);\n}\nfunction transformer() {\n  var x0 = 0,\n    x1 = 1,\n    t0,\n    t1,\n    k10,\n    transform,\n    interpolator = identity$3,\n    clamp = false,\n    unknown;\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n  scale.domain = function (_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n  scale.clamp = function (_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n  scale.interpolator = function (_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n  function range(interpolate) {\n    return function (_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n  scale.range = range(interpolate);\n  scale.rangeRound = range(interpolateRound);\n  scale.unknown = function (_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n  return function (t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\nfunction copy(source, target) {\n  return target.domain(source.domain()).interpolator(source.interpolator()).clamp(source.clamp()).unknown(source.unknown());\n}\nfunction sequential() {\n  var scale = linearish(transformer()(identity$3));\n  scale.copy = function () {\n    return copy(scale, sequential());\n  };\n  return initInterpolator.apply(scale, arguments);\n}\nclass Scale {\n  constructor(config) {\n    this.config = config;\n    this.createScale(config.type);\n  }\n  createScale(type) {\n    switch (type) {\n      case 'band':\n        this.scale = band();\n        break;\n      case 'linear':\n        this.scale = linear();\n        break;\n    }\n  }\n  changeConfig(config) {\n    this.createScale(config.type);\n    this.config = config;\n  }\n  get type() {\n    return this.config.type;\n  }\n  bandwidth() {\n    if (this.type === 'band') {\n      return this.scale.bandwidth();\n    }\n    return 0;\n  }\n  updateRange(range) {\n    this.scale = this.scale.copy().range(range);\n  }\n  updateDomain(data, stackedData, keys) {\n    const domain = this.config.type === 'band' ? this.categoryDomain(data, keys) : this.numericDomain(data, stackedData, keys);\n    this.scale = this.scale.copy().domain(domain);\n  }\n  map(values) {\n    return values.map(v => this.mapOne(v));\n  }\n  mapOne(val) {\n    const {\n      type\n    } = this.config;\n    if (type === 'band') {\n      return this.scale(val) + this.scale.bandwidth() / 2;\n    }\n    return this.scale(val);\n  }\n  ticks() {\n    const {\n      type\n    } = this.config;\n    if (this.config.tickValues !== undefined) {\n      return this.config.tickValues;\n    }\n    if (type === 'band') {\n      return this.scale.domain();\n    }\n    return this.scale.ticks(this.config.ticks || 5);\n  }\n  categoryDomain(data, keys) {\n    const values = keys.reduce((arr, key) => arr.concat(getCol(key, data)), []);\n    return Array.from(new Set(values));\n  }\n  numericDomain(data, stackedData, keys) {\n    const {\n      domain\n    } = this.config;\n    const values = keys.reduce((arr, key) => arr.concat(getCol(key, data)), []);\n    const valueMax = max$1(stackedData, arr => max$1(arr, x => max$1(x))) || 0;\n    const valueMin = min$1(stackedData, arr => min$1(arr, x => min$1(x))) || 0;\n    const [dataMin, dataMax] = extent(Array.from(new Set(values.concat([valueMin, valueMax]))));\n    // eslint-disable-next-line no-eval\n    const yMin = eval(`\n      let dataMin = ${dataMin || 0}\n      ${domain[0]}\n    `);\n    // eslint-disable-next-line no-eval\n    const yMax = eval(`\n      let dataMax = ${dataMax || 0}\n      ${domain[1]}\n    `);\n    return [yMin, yMax];\n  }\n}\nclass Scales {\n  constructor(config) {\n    this.config = config;\n    this.primary = new Scale(config.primary);\n    this.secondary = new Scale(config.secondary);\n  }\n  changeConfig(config) {\n    this.config = config;\n    this.primary.changeConfig(config.primary);\n    this.secondary.changeConfig(config.secondary);\n  }\n  updateRange(canvas, direction) {\n    if (direction === 'horizontal') {\n      this.primary.updateRange([canvas.x, canvas.width]);\n      this.secondary.updateRange([canvas.height, canvas.y]);\n    } else if (direction === 'vertical') {\n      this.primary.updateRange([canvas.y, canvas.height]);\n      this.secondary.updateRange([canvas.x, canvas.width]);\n    }\n  }\n  updateDomain(data, stackedData, keys) {\n    this.primary.updateDomain(data, stackedData, getCol(0, keys));\n    this.secondary.updateDomain(data, stackedData, getCol(1, keys));\n  }\n}\nconst pi$1 = Math.PI,\n  tau$1 = 2 * pi$1,\n  epsilon$2 = 1e-6,\n  tauEpsilon = tau$1 - epsilon$2;\nfunction Path() {\n  this._x0 = this._y0 =\n  // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\nfunction path() {\n  return new Path();\n}\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function (x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function () {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function (x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function (x1, y1, x, y) {\n    this._ += \"Q\" + +x1 + \",\" + +y1 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function (x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + +x1 + \",\" + +y1 + \",\" + +x2 + \",\" + +y2 + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function (x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n      y0 = this._y1,\n      x21 = x2 - x1,\n      y21 = y2 - y1,\n      x01 = x0 - x1,\n      y01 = y0 - y1,\n      l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon$2)) ;\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon$2) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n        y20 = y2 - y0,\n        l21_2 = x21 * x21 + y21 * y21,\n        l20_2 = x20 * x20 + y20 * y20,\n        l21 = Math.sqrt(l21_2),\n        l01 = Math.sqrt(l01_2),\n        l = r * Math.tan((pi$1 - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n        t01 = l / l01,\n        t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon$2) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + +(y01 * x20 > x01 * y20) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function (x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n      dy = r * Math.sin(a0),\n      x0 = x + dx,\n      y0 = y + dy,\n      cw = 1 ^ ccw,\n      da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon$2 || Math.abs(this._y1 - y0) > epsilon$2) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau$1 + tau$1;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon$2) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + +(da >= pi$1) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function (x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + +w + \"v\" + +h + \"h\" + -w + \"Z\";\n  },\n  toString: function () {\n    return this._;\n  }\n};\nfunction constant$2(x) {\n  return function constant() {\n    return x;\n  };\n}\nconst abs = Math.abs;\nconst atan2 = Math.atan2;\nconst cos = Math.cos;\nconst max = Math.max;\nconst min = Math.min;\nconst sin = Math.sin;\nconst sqrt = Math.sqrt;\nconst epsilon$1 = 1e-12;\nconst pi = Math.PI;\nconst halfPi = pi / 2;\nconst tau = 2 * pi;\nfunction acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\nfunction asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0,\n    y10 = y1 - y0,\n    x32 = x3 - x2,\n    y32 = y3 - y2,\n    t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon$1) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n    y01 = y0 - y1,\n    lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n    ox = lo * y01,\n    oy = -lo * x01,\n    x11 = x0 + ox,\n    y11 = y0 + oy,\n    x10 = x1 + ox,\n    y10 = y1 + oy,\n    x00 = (x11 + x10) / 2,\n    y00 = (y11 + y10) / 2,\n    dx = x10 - x11,\n    dy = y10 - y11,\n    d2 = dx * dx + dy * dy,\n    r = r1 - rc,\n    D = x11 * y10 - x10 * y11,\n    d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n    cx0 = (D * dy - dx * d) / d2,\n    cy0 = (-D * dx - dy * d) / d2,\n    cx1 = (D * dy + dx * d) / d2,\n    cy1 = (-D * dx + dy * d) / d2,\n    dx0 = cx0 - x00,\n    dy0 = cy0 - y00,\n    dx1 = cx1 - x00,\n    dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\nfunction arc() {\n  var innerRadius = arcInnerRadius,\n    outerRadius = arcOuterRadius,\n    cornerRadius = constant$2(0),\n    padRadius = null,\n    startAngle = arcStartAngle,\n    endAngle = arcEndAngle,\n    padAngle = arcPadAngle,\n    context = null;\n  function arc() {\n    var buffer,\n      r,\n      r0 = +innerRadius.apply(this, arguments),\n      r1 = +outerRadius.apply(this, arguments),\n      a0 = startAngle.apply(this, arguments) - halfPi,\n      a1 = endAngle.apply(this, arguments) - halfPi,\n      da = abs(a1 - a0),\n      cw = a1 > a0;\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon$1)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon$1) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon$1) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n        a11 = a1,\n        a00 = a0,\n        a10 = a1,\n        da0 = da,\n        da1 = da,\n        ap = padAngle.apply(this, arguments) / 2,\n        rp = ap > epsilon$1 && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n        rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n        rc0 = rc,\n        rc1 = rc,\n        t0,\n        t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon$1) {\n        var p0 = asin(rp / r0 * sin(ap)),\n          p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon$1) p0 *= cw ? 1 : -1, a00 += p0, a10 -= p0;else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon$1) p1 *= cw ? 1 : -1, a01 += p1, a11 -= p1;else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n      var x01 = r1 * cos(a01),\n        y01 = r1 * sin(a01),\n        x10 = r0 * cos(a10),\n        y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon$1) {\n        var x11 = r1 * cos(a11),\n          y11 = r1 * sin(a11),\n          x00 = r0 * cos(a00),\n          y00 = r0 * sin(a00),\n          oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n            ay = y01 - oc[1],\n            bx = x11 - oc[0],\n            by = y11 - oc[1],\n            kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n            lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon$1)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon$1) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon$1) || !(da0 > epsilon$1)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon$1) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n    context.closePath();\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n  arc.centroid = function () {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n      a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n  arc.innerRadius = function (_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : innerRadius;\n  };\n  arc.outerRadius = function (_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : outerRadius;\n  };\n  arc.cornerRadius = function (_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant$2(+_), arc) : cornerRadius;\n  };\n  arc.padRadius = function (_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), arc) : padRadius;\n  };\n  arc.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : startAngle;\n  };\n  arc.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : endAngle;\n  };\n  arc.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$2(+_), arc) : padAngle;\n  };\n  arc.context = function (_) {\n    return arguments.length ? (context = _ == null ? null : _, arc) : context;\n  };\n  return arc;\n}\nfunction array$1(x) {\n  return typeof x === \"object\" && \"length\" in x ? x // Array, TypedArray, NodeList, array-like\n  : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n\nfunction Linear(context) {\n  this._context = context;\n}\nLinear.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._point = 0;\n  },\n  lineEnd: function () {\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n      case 1:\n        this._point = 2;\n      // falls through\n      default:\n        this._context.lineTo(x, y);\n        break;\n    }\n  }\n};\nfunction curveLinear(context) {\n  return new Linear(context);\n}\nfunction x(p) {\n  return p[0];\n}\nfunction y(p) {\n  return p[1];\n}\nfunction line(x$1, y$1) {\n  var defined = constant$2(true),\n    context = null,\n    curve = curveLinear,\n    output = null;\n  x$1 = typeof x$1 === \"function\" ? x$1 : x$1 === undefined ? x : constant$2(x$1);\n  y$1 = typeof y$1 === \"function\" ? y$1 : y$1 === undefined ? y : constant$2(y$1);\n  function line(data) {\n    var i,\n      n = (data = array$1(data)).length,\n      d,\n      defined0 = false,\n      buffer;\n    if (context == null) output = curve(buffer = path());\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();else output.lineEnd();\n      }\n      if (defined0) output.point(+x$1(d, i, data), +y$1(d, i, data));\n    }\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n  line.x = function (_) {\n    return arguments.length ? (x$1 = typeof _ === \"function\" ? _ : constant$2(+_), line) : x$1;\n  };\n  line.y = function (_) {\n    return arguments.length ? (y$1 = typeof _ === \"function\" ? _ : constant$2(+_), line) : y$1;\n  };\n  line.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$2(!!_), line) : defined;\n  };\n  line.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n  line.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n  return line;\n}\nfunction area(x0, y0, y1) {\n  var x1 = null,\n    defined = constant$2(true),\n    context = null,\n    curve = curveLinear,\n    output = null;\n  x0 = typeof x0 === \"function\" ? x0 : x0 === undefined ? x : constant$2(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : y0 === undefined ? constant$2(0) : constant$2(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : y1 === undefined ? y : constant$2(+y1);\n  function area(data) {\n    var i,\n      j,\n      k,\n      n = (data = array$1(data)).length,\n      d,\n      defined0 = false,\n      buffer,\n      x0z = new Array(n),\n      y0z = new Array(n);\n    if (context == null) output = curve(buffer = path());\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n  area.x = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$2(+_), x1 = null, area) : x0;\n  };\n  area.x0 = function (_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant$2(+_), area) : x0;\n  };\n  area.x1 = function (_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), area) : x1;\n  };\n  area.y = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$2(+_), y1 = null, area) : y0;\n  };\n  area.y0 = function (_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant$2(+_), area) : y0;\n  };\n  area.y1 = function (_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant$2(+_), area) : y1;\n  };\n  area.lineX0 = area.lineY0 = function () {\n    return arealine().x(x0).y(y0);\n  };\n  area.lineY1 = function () {\n    return arealine().x(x0).y(y1);\n  };\n  area.lineX1 = function () {\n    return arealine().x(x1).y(y0);\n  };\n  area.defined = function (_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant$2(!!_), area) : defined;\n  };\n  area.curve = function (_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n  area.context = function (_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n  return area;\n}\nfunction descending(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\nfunction identity$1(d) {\n  return d;\n}\nfunction pie() {\n  var value = identity$1,\n    sortValues = descending,\n    sort = null,\n    startAngle = constant$2(0),\n    endAngle = constant$2(tau),\n    padAngle = constant$2(0);\n  function pie(data) {\n    var i,\n      n = (data = array$1(data)).length,\n      j,\n      k,\n      sum = 0,\n      index = new Array(n),\n      arcs = new Array(n),\n      a0 = +startAngle.apply(this, arguments),\n      da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n      a1,\n      p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n      pa = p * (da < 0 ? -1 : 1),\n      v;\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function (i, j) {\n      return sortValues(arcs[i], arcs[j]);\n    });else if (sort != null) index.sort(function (i, j) {\n      return sort(data[i], data[j]);\n    });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n    return arcs;\n  }\n  pie.value = function (_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$2(+_), pie) : value;\n  };\n  pie.sortValues = function (_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n  pie.sort = function (_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n  pie.startAngle = function (_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : startAngle;\n  };\n  pie.endAngle = function (_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : endAngle;\n  };\n  pie.padAngle = function (_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant$2(+_), pie) : padAngle;\n  };\n  return pie;\n}\nfunction sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n    h1 = x2 - that._x1,\n    s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n    s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n    p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n    y0 = that._y0,\n    x1 = that._x1,\n    y1 = that._y1,\n    dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\nfunction MonotoneX(context) {\n  this._context = context;\n}\nMonotoneX.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1);\n        break;\n      case 3:\n        point(this, this._t0, slope2(this, this._t0));\n        break;\n    }\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    var t1 = NaN;\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n      case 1:\n        this._point = 2;\n        break;\n      case 2:\n        this._point = 3;\n        point(this, slope2(this, t1 = slope3(this, x, y)), t1);\n        break;\n      default:\n        point(this, this._t0, t1 = slope3(this, x, y));\n        break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n};\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\nfunction ReflectContext(context) {\n  this._context = context;\n}\nReflectContext.prototype = {\n  moveTo: function (x, y) {\n    this._context.moveTo(y, x);\n  },\n  closePath: function () {\n    this._context.closePath();\n  },\n  lineTo: function (x, y) {\n    this._context.lineTo(y, x);\n  },\n  bezierCurveTo: function (x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x);\n  }\n};\nfunction monotoneX(context) {\n  return new MonotoneX(context);\n}\nfunction monotoneY(context) {\n  return new MonotoneY(context);\n}\nfunction Natural(context) {\n  this._context = context;\n}\nNatural.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function () {\n    var x = this._x,\n      y = this._y,\n      n = x.length;\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n          py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n    if (this._line || this._line !== 0 && n === 1) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function (x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n    n = x.length - 1,\n    m,\n    a = new Array(n),\n    b = new Array(n),\n    r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\nfunction curveNatural(context) {\n  return new Natural(context);\n}\nfunction Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\nStep.prototype = {\n  areaStart: function () {\n    this._line = 0;\n  },\n  areaEnd: function () {\n    this._line = NaN;\n  },\n  lineStart: function () {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function () {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || this._line !== 0 && this._point === 1) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function (x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0:\n        this._point = 1;\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y);\n        break;\n      case 1:\n        this._point = 2;\n      // falls through\n      default:\n        {\n          if (this._t <= 0) {\n            this._context.lineTo(this._x, y);\n            this._context.lineTo(x, y);\n          } else {\n            var x1 = this._x * (1 - this._t) + x * this._t;\n            this._context.lineTo(x1, this._y);\n            this._context.lineTo(x1, y);\n          }\n          break;\n        }\n    }\n    this._x = x, this._y = y;\n  }\n};\nfunction curveStep(context) {\n  return new Step(context, 0.5);\n}\nfunction stepAfter(context) {\n  return new Step(context, 1);\n}\nfunction none$1(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\nfunction stackOrderNone(series) {\n  var n = series.length,\n    o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\nfunction stackValue(d, key) {\n  return d[key];\n}\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\nfunction stack() {\n  var keys = constant$2([]),\n    order = stackOrderNone,\n    offset = none$1,\n    value = stackValue;\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n      i,\n      n = sz.length,\n      j = -1,\n      oz;\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n    for (i = 0, oz = array$1(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n    offset(sz, oz);\n    return sz;\n  }\n  stack.keys = function (_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant$2(Array.from(_)), stack) : keys;\n  };\n  stack.value = function (_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant$2(+_), stack) : value;\n  };\n  stack.order = function (_) {\n    return arguments.length ? (order = _ == null ? stackOrderNone : typeof _ === \"function\" ? _ : constant$2(Array.from(_)), stack) : order;\n  };\n  stack.offset = function (_) {\n    return arguments.length ? (offset = _ == null ? none$1 : _, stack) : offset;\n  };\n  return stack;\n}\nconst defaultConfig = {\n  size: {\n    width: 500,\n    height: 400\n  },\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  direction: 'horizontal',\n  axis: {\n    primary: {\n      domain: ['dataMin', 'dataMax'],\n      type: 'band'\n    },\n    secondary: {\n      domain: ['dataMin', 'dataMax'],\n      type: 'linear'\n    }\n  },\n  axisSpace: {\n    x: 40,\n    y: 20\n  }\n};\nclass Chart {\n  constructor(data, config) {\n    this.data = data;\n    this.layers = [];\n    this.config = mergeDeepLeft$1(pickBy$1(p => p !== undefined, config), defaultConfig);\n    this.scales = new Scales(this.config.axis);\n    this.updates = ref(0);\n  }\n  get bandScale() {\n    if (this.scales.primary.type === 'band') return this.scales.primary;\n    if (this.scales.secondary.type === 'band') return this.scales.secondary;\n    return null;\n  }\n  get canvas() {\n    const {\n      margin,\n      size\n    } = this.config;\n    const axisSpace = this.config.axisSpace;\n    if (this.config.axis.primary.hide) {\n      axisSpace.y = 0;\n    }\n    if (this.config.axis.secondary.hide) {\n      axisSpace.x = 0;\n    }\n    return {\n      x: margin.left + axisSpace.x,\n      y: margin.top,\n      width: size.width - margin.right,\n      height: size.height - margin.bottom - axisSpace.y\n    };\n  }\n  getStackedData(keys) {\n    return stack().keys(keys).order(stackOrderNone)(this.data);\n  }\n  changeData(data) {\n    this.data = data;\n    this.update('data');\n  }\n  changeConfig(config) {\n    this.config = mergeDeepLeft$1(pickBy$1(p => p !== undefined, config), this.config);\n    this.scales.changeConfig(this.config.axis);\n    this.update('config');\n  }\n  addLayer(layer) {\n    this.layers.push(layer);\n    this.update('layers');\n  }\n  removeLayer(id) {\n    this.layers = this.layers.filter(l => l.id !== id);\n    this.update('layers');\n  }\n  getLayers(type) {\n    if (type) {\n      return this.layers.filter(l => l.type === type);\n    }\n    return this.layers;\n  }\n  getData(keys) {\n    return keys.reduce((arr, key) => arr.concat(getCol(key, this.data)), []);\n  }\n  getKeys(idx = -1, type = null) {\n    const keys = this.layers.filter(l => {\n      if (type) return l.type === type;\n      return true;\n    }).map(l => l.dataKeys);\n    if (idx === -1) {\n      return keys;\n    }\n    return getCol(idx, keys);\n  }\n  getStackedKeys(idx = -1, type = null) {\n    const keys = this.layers.filter(l => {\n      if (type) return l.type === type && l.props.stacked;\n      return l.props.stacked;\n    }).map(l => l.dataKeys);\n    if (idx === -1) {\n      return keys;\n    }\n    return getCol(idx, keys);\n  }\n  update(_) {\n    const stackedData = this.getStackedData(this.getStackedKeys(1));\n    this.scales.updateRange(this.canvas, this.config.direction);\n    this.scales.updateDomain(this.data, stackedData, this.getKeys());\n    this.updates.value += 1;\n    // console.log('update from:', from)\n  }\n}\n\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\nvar namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\nfunction namespace(name) {\n  var prefix = name += \"\",\n    i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {\n    space: namespaces[prefix],\n    local: name\n  } : name; // eslint-disable-line no-prototype-builtins\n}\n\nfunction creatorInherit(name) {\n  return function () {\n    var document = this.ownerDocument,\n      uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml ? document.createElement(name) : document.createElementNS(uri, name);\n  };\n}\nfunction creatorFixed(fullname) {\n  return function () {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local ? creatorFixed : creatorInherit)(fullname);\n}\nfunction none() {}\nfunction selector(selector) {\n  return selector == null ? none : function () {\n    return this.querySelector(selector);\n  };\n}\nfunction selection_select(select) {\n  if (typeof select !== \"function\") select = selector(select);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n  return new Selection(subgroups, this._parents);\n}\n\n// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nfunction array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\nfunction empty() {\n  return [];\n}\nfunction selectorAll(selector) {\n  return selector == null ? empty : function () {\n    return this.querySelectorAll(selector);\n  };\n}\nfunction arrayAll(select) {\n  return function () {\n    return array(select.apply(this, arguments));\n  };\n}\nfunction selection_selectAll(select) {\n  if (typeof select === \"function\") select = arrayAll(select);else select = selectorAll(select);\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n  return new Selection(subgroups, parents);\n}\nfunction matcher(selector) {\n  return function () {\n    return this.matches(selector);\n  };\n}\nfunction childMatcher(selector) {\n  return function (node) {\n    return node.matches(selector);\n  };\n}\nvar find = Array.prototype.find;\nfunction childFind(match) {\n  return function () {\n    return find.call(this.children, match);\n  };\n}\nfunction childFirst() {\n  return this.firstElementChild;\n}\nfunction selection_selectChild(match) {\n  return this.select(match == null ? childFirst : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\nvar filter = Array.prototype.filter;\nfunction children() {\n  return Array.from(this.children);\n}\nfunction childrenFilter(match) {\n  return function () {\n    return filter.call(this.children, match);\n  };\n}\nfunction selection_selectChildren(match) {\n  return this.selectAll(match == null ? children : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\nfunction selection_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n  return new Selection(subgroups, this._parents);\n}\nfunction sparse(update) {\n  return new Array(update.length);\n}\nfunction selection_enter() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\nfunction EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function (child) {\n    return this._parent.insertBefore(child, this._next);\n  },\n  insertBefore: function (child, next) {\n    return this._parent.insertBefore(child, next);\n  },\n  querySelector: function (selector) {\n    return this._parent.querySelector(selector);\n  },\n  querySelectorAll: function (selector) {\n    return this._parent.querySelectorAll(selector);\n  }\n};\nfunction constant$1(x) {\n  return function () {\n    return x;\n  };\n}\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n    node,\n    groupLength = group.length,\n    dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n    node,\n    nodeByKeyValue = new Map(),\n    groupLength = group.length,\n    dataLength = data.length,\n    keyValues = new Array(groupLength),\n    keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && nodeByKeyValue.get(keyValues[i]) === node) {\n      exit[i] = node;\n    }\n  }\n}\nfunction datum(node) {\n  return node.__data__;\n}\nfunction selection_data(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n  var bind = key ? bindKey : bindIndex,\n    parents = this._parents,\n    groups = this._groups;\n  if (typeof value !== \"function\") value = constant$1(value);\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n      group = groups[j],\n      groupLength = group.length,\n      data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n      dataLength = data.length,\n      enterGroup = enter[j] = new Array(dataLength),\n      updateGroup = update[j] = new Array(dataLength),\n      exitGroup = exit[j] = new Array(groupLength);\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data ? data // Array, TypedArray, NodeList, array-like\n  : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n\nfunction selection_exit() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(),\n    update = this,\n    exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove();else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\nfunction selection_merge(context) {\n  var selection = context.selection ? context.selection() : context;\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n  return new Selection(merges, this._parents);\n}\nfunction selection_order() {\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n  return this;\n}\nfunction selection_sort(compare) {\n  if (!compare) compare = ascending;\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n  return new Selection(sortgroups, this._parents).order();\n}\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\nfunction selection_nodes() {\n  return Array.from(this);\n}\nfunction selection_node() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n  return null;\n}\nfunction selection_size() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\nfunction selection_empty() {\n  return !this.node();\n}\nfunction selection_each(callback) {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n  return this;\n}\nfunction attrRemove(name) {\n  return function () {\n    this.removeAttribute(name);\n  };\n}\nfunction attrRemoveNS(fullname) {\n  return function () {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\nfunction attrConstant(name, value) {\n  return function () {\n    this.setAttribute(name, value);\n  };\n}\nfunction attrConstantNS(fullname, value) {\n  return function () {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\nfunction attrFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);else this.setAttribute(name, v);\n  };\n}\nfunction attrFunctionNS(fullname, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local ? node.getAttributeNS(fullname.space, fullname.local) : node.getAttribute(fullname);\n  }\n  return this.each((value == null ? fullname.local ? attrRemoveNS : attrRemove : typeof value === \"function\" ? fullname.local ? attrFunctionNS : attrFunction : fullname.local ? attrConstantNS : attrConstant)(fullname, value));\n}\nfunction defaultView(node) {\n  return node.ownerDocument && node.ownerDocument.defaultView // node is a Node\n  || node.document && node // node is a Window\n  || node.defaultView; // node is a Document\n}\n\nfunction styleRemove(name) {\n  return function () {\n    this.style.removeProperty(name);\n  };\n}\nfunction styleConstant(name, value, priority) {\n  return function () {\n    this.style.setProperty(name, value, priority);\n  };\n}\nfunction styleFunction(name, value, priority) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);else this.style.setProperty(name, v, priority);\n  };\n}\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1 ? this.each((value == null ? styleRemove : typeof value === \"function\" ? styleFunction : styleConstant)(name, value, priority == null ? \"\" : priority)) : styleValue(this.node(), name);\n}\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name) || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\nfunction propertyRemove(name) {\n  return function () {\n    delete this[name];\n  };\n}\nfunction propertyConstant(name, value) {\n  return function () {\n    this[name] = value;\n  };\n}\nfunction propertyFunction(name, value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];else this[name] = v;\n  };\n}\nfunction selection_property(name, value) {\n  return arguments.length > 1 ? this.each((value == null ? propertyRemove : typeof value === \"function\" ? propertyFunction : propertyConstant)(name, value)) : this.node()[name];\n}\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\nClassList.prototype = {\n  add: function (name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function (name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function (name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\nfunction classedAdd(node, names) {\n  var list = classList(node),\n    i = -1,\n    n = names.length;\n  while (++i < n) list.add(names[i]);\n}\nfunction classedRemove(node, names) {\n  var list = classList(node),\n    i = -1,\n    n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\nfunction classedTrue(names) {\n  return function () {\n    classedAdd(this, names);\n  };\n}\nfunction classedFalse(names) {\n  return function () {\n    classedRemove(this, names);\n  };\n}\nfunction classedFunction(names, value) {\n  return function () {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n  if (arguments.length < 2) {\n    var list = classList(this.node()),\n      i = -1,\n      n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n  return this.each((typeof value === \"function\" ? classedFunction : value ? classedTrue : classedFalse)(names, value));\n}\nfunction textRemove() {\n  this.textContent = \"\";\n}\nfunction textConstant(value) {\n  return function () {\n    this.textContent = value;\n  };\n}\nfunction textFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\nfunction selection_text(value) {\n  return arguments.length ? this.each(value == null ? textRemove : (typeof value === \"function\" ? textFunction : textConstant)(value)) : this.node().textContent;\n}\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\nfunction htmlConstant(value) {\n  return function () {\n    this.innerHTML = value;\n  };\n}\nfunction htmlFunction(value) {\n  return function () {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\nfunction selection_html(value) {\n  return arguments.length ? this.each(value == null ? htmlRemove : (typeof value === \"function\" ? htmlFunction : htmlConstant)(value)) : this.node().innerHTML;\n}\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\nfunction selection_raise() {\n  return this.each(raise);\n}\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\nfunction selection_lower() {\n  return this.each(lower);\n}\nfunction selection_append(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function () {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\nfunction constantNull() {\n  return null;\n}\nfunction selection_insert(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n    select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function () {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\nfunction selection_remove() {\n  return this.each(remove);\n}\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false),\n    parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true),\n    parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\nfunction selection_datum(value) {\n  return arguments.length ? this.property(\"__data__\", value) : this.node().__data__;\n}\nfunction contextListener(listener) {\n  return function (event) {\n    listener.call(this, event, this.__data__);\n  };\n}\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function (t) {\n    var name = \"\",\n      i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {\n      type: t,\n      name: name\n    };\n  });\n}\nfunction onRemove(typename) {\n  return function () {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;else delete this.__on;\n  };\n}\nfunction onAdd(typename, value, options) {\n  return function () {\n    var on = this.__on,\n      o,\n      listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {\n      type: typename.type,\n      name: typename.name,\n      value: value,\n      listener: listener,\n      options: options\n    };\n    if (!on) this.__on = [o];else on.push(o);\n  };\n}\nfunction selection_on(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"),\n    i,\n    n = typenames.length,\n    t;\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n    event = window.CustomEvent;\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;else event.initEvent(type, false, false);\n  }\n  node.dispatchEvent(event);\n}\nfunction dispatchConstant(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params);\n  };\n}\nfunction dispatchFunction(type, params) {\n  return function () {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\" ? dispatchFunction : dispatchConstant)(type, params));\n}\nfunction* selection_iterator() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\nvar root = [null];\nfunction Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\nfunction selection_selection() {\n  return this;\n}\nSelection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\nfunction select(selector) {\n  return typeof selector === \"string\" ? new Selection([[document.querySelector(selector)]], [document.documentElement]) : new Selection([[selector]], root);\n}\nfunction sourceEvent(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\nfunction pointer(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\nfunction identity(x) {\n  return x;\n}\nvar top = 1,\n  right = 2,\n  bottom = 3,\n  left = 4,\n  epsilon = 1e-6;\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\nfunction number(scale) {\n  return d => +scale(d);\n}\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\nfunction entering() {\n  return !this.__axis;\n}\nfunction axis(orient, scale) {\n  var tickArguments = [],\n    tickValues = null,\n    tickFormat = null,\n    tickSizeInner = 6,\n    tickSizeOuter = 6,\n    tickPadding = 3,\n    offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n    k = orient === top || orient === left ? -1 : 1,\n    x = orient === left || orient === right ? \"x\" : \"y\",\n    transform = orient === top || orient === bottom ? translateX : translateY;\n  function axis(context) {\n    var values = tickValues == null ? scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain() : tickValues,\n      format = tickFormat == null ? scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity : tickFormat,\n      spacing = Math.max(tickSizeInner, 0) + tickPadding,\n      range = scale.range(),\n      range0 = +range[0] + offset,\n      range1 = +range[range.length - 1] + offset,\n      position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n      selection = context.selection ? context.selection() : context,\n      path = selection.selectAll(\".domain\").data([null]),\n      tick = selection.selectAll(\".tick\").data(values, scale).order(),\n      tickExit = tick.exit(),\n      tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n      line = tick.select(\"line\"),\n      text = tick.select(\"text\");\n    path = path.merge(path.enter().insert(\"path\", \".tick\").attr(\"class\", \"domain\").attr(\"stroke\", \"currentColor\"));\n    tick = tick.merge(tickEnter);\n    line = line.merge(tickEnter.append(\"line\").attr(\"stroke\", \"currentColor\").attr(x + \"2\", k * tickSizeInner));\n    text = text.merge(tickEnter.append(\"text\").attr(\"fill\", \"currentColor\").attr(x, k * spacing).attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n      tickExit = tickExit.transition(context).attr(\"opacity\", epsilon).attr(\"transform\", function (d) {\n        return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\");\n      });\n      tickEnter.attr(\"opacity\", epsilon).attr(\"transform\", function (d) {\n        var p = this.parentNode.__axis;\n        return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset);\n      });\n    }\n    tickExit.remove();\n    path.attr(\"d\", orient === left || orient === right ? tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1 : tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1);\n    tick.attr(\"opacity\", 1).attr(\"transform\", function (d) {\n      return transform(position(d) + offset);\n    });\n    line.attr(x + \"2\", k * tickSizeInner);\n    text.attr(x, k * spacing).text(format);\n    selection.filter(entering).attr(\"fill\", \"none\").attr(\"font-size\", 10).attr(\"font-family\", \"sans-serif\").attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n    selection.each(function () {\n      this.__axis = position;\n    });\n  }\n  axis.scale = function (_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n  axis.ticks = function () {\n    return tickArguments = Array.from(arguments), axis;\n  };\n  axis.tickArguments = function (_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n  axis.tickValues = function (_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n  axis.tickFormat = function (_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n  axis.tickSize = function (_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n  axis.tickSizeInner = function (_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n  axis.tickSizeOuter = function (_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n  axis.tickPadding = function (_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n  axis.offset = function (_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n  return axis;\n}\nfunction axisBottom(scale) {\n  return axis(bottom, scale);\n}\nfunction axisLeft(scale) {\n  return axis(left, scale);\n}\nvar useChart = () => {\n  const chart = inject('chart');\n  return chart;\n};\nvar usePoints = (dataKeys, props = {\n  stacked: false,\n  type: 'line'\n}) => {\n  const points = ref([]);\n  const chart = useChart();\n  const {\n    stacked,\n    type\n  } = props;\n  function getPoints(key, values) {\n    const {\n      primary,\n      secondary\n    } = chart.scales;\n    if (chart.config.direction === 'horizontal') {\n      const res = values.map(val => {\n        return {\n          x: primary.mapOne(val.data[key]),\n          y: secondary.mapOne(val[1]),\n          props: {\n            values: [...val],\n            data: val.data\n          }\n        };\n      }).filter(p => !isNaN(p.x) && !isNaN(p.y));\n      console.log(res);\n      return res;\n    } else if (chart.config.direction === 'vertical') {\n      return values.map(val => {\n        return {\n          x: secondary.mapOne(val[1]),\n          y: primary.mapOne(val.data[key]),\n          props: {\n            values: [...val],\n            data: val.data\n          }\n        };\n      }).filter(p => !isNaN(p.x) && !isNaN(p.y));\n    }\n    return [];\n  }\n  function update() {\n    const keys = chart.getStackedKeys(1, type);\n    const [primaryKey, secondaryKey] = dataKeys;\n    const stack = chart.getStackedData(stacked ? keys : [dataKeys[1]]);\n    const data = stack.find(s => s.key === secondaryKey);\n    if (data) {\n      points.value = getPoints(primaryKey, data);\n    }\n  }\n  watch(chart.updates, () => {\n    update();\n    console.log('update');\n  }, {\n    immediate: true\n  });\n  return {\n    points\n  };\n};\nvar useMouse = () => {\n  const mouse = inject('chartMouse', {\n    index: -1,\n    position: {\n      x: 0,\n      y: 0\n    },\n    hover: false\n  });\n  return mouse;\n};\nvar useBars = (dataKeys, props = {\n  maxWidth: -1,\n  gap: 5,\n  stacked: false,\n  type: 'bar'\n}) => {\n  const bars = ref([]);\n  const chart = useChart();\n  const {\n    stacked,\n    type,\n    gap\n  } = props;\n  function scales() {\n    const {\n      primary,\n      secondary\n    } = chart.scales;\n    const bandScale = primary.type === 'band' ? primary : secondary;\n    const linearScale = primary.type === 'band' ? secondary : primary;\n    return {\n      bandScale,\n      linearScale\n    };\n  }\n  function getIndex() {\n    if (stacked) {\n      return 0;\n    }\n    const barLayers = chart.getLayers(type);\n    const idx = barLayers.findIndex(l => l.dataKeys.join(',') === dataKeys.join(','));\n    return idx > -1 ? idx : 0;\n  }\n  function getBarWidth() {\n    const {\n      bandScale\n    } = scales();\n    const maxWidth = props.maxWidth > -1 ? Math.min(bandScale.bandwidth() - gap, props.maxWidth) : bandScale.bandwidth() - gap;\n    const barLayers = chart.getLayers(type);\n    return barLayers.length > 0 && !stacked ? maxWidth / barLayers.length : maxWidth;\n  }\n  function getDiffWidth() {\n    if (stacked) {\n      return 0;\n    }\n    const {\n      bandScale\n    } = scales();\n    const max = bandScale.bandwidth() - gap;\n    const total = chart.getLayers(type).length * getBarWidth();\n    return (max - total) / 2;\n  }\n  function getBars(key, values) {\n    const {\n      bandScale,\n      linearScale\n    } = scales();\n    const index = getIndex();\n    const barSize = getBarWidth();\n    const diff = getDiffWidth();\n    return values.map(val => {\n      const rect = {\n        x: 0,\n        y: 0,\n        width: 0,\n        height: 0,\n        props: {\n          values: [...val],\n          data: val.data\n        }\n      };\n      const xVal = bandScale.scale(val.data[key]);\n      const [yVal0, yVal1] = linearScale.map(val);\n      if (chart.config.direction === 'horizontal') {\n        rect.y = Math.min(yVal0, yVal1);\n        rect.height = Math.abs(yVal0 - yVal1);\n        rect.x = diff + xVal + index * barSize + gap / 2;\n        rect.width = barSize;\n      } else if (chart.config.direction === 'vertical') {\n        rect.x = Math.min(yVal0, yVal1);\n        rect.width = Math.abs(yVal0 - yVal1);\n        rect.y = diff + xVal + index * barSize + gap / 2;\n        rect.height = barSize;\n      }\n      return rect;\n    });\n    // console.log(values)\n  }\n\n  function update() {\n    const keys = stacked ? chart.getStackedKeys(1, type) : [dataKeys[1]];\n    const [primaryKey, secondaryKey] = dataKeys;\n    const stack = chart.getStackedData(keys);\n    const data = stack.find(s => s.key === secondaryKey);\n    if (data) {\n      bars.value = getBars(primaryKey, data);\n    }\n  }\n  watch(chart.updates, () => {\n    update();\n  });\n  return {\n    bars\n  };\n};\nvar useTooltip = () => {\n  const mouse = useMouse();\n  const chart = useChart();\n  const show = computed(() => mouse.hover);\n  const position = ref({\n    x: 0,\n    y: 0\n  });\n  const payload = ref({});\n  watch(mouse, () => {\n    const {\n      primary\n    } = chart.scales;\n    const keys = chart.getKeys(0);\n    const vals = chart.getData(keys);\n    const [x] = primary.map([vals[mouse.index]]);\n    if (x) {\n      if (chart.config.direction === 'horizontal') {\n        position.value = {\n          x,\n          y: mouse.position.y\n        };\n      } else if (chart.config.direction === 'vertical') {\n        position.value = {\n          x: mouse.position.x,\n          y: x\n        };\n      } else {\n        position.value = {\n          x: mouse.position.x,\n          y: mouse.position.y\n        };\n      }\n    }\n    // const dKeys = chart.getKeys(1)\n    const d = chart.data[mouse.index];\n    if (d) {\n      payload.value = Object.assign(Object.assign({}, d), {\n        idx: mouse.index\n      });\n    }\n  });\n  return {\n    position,\n    payload,\n    show\n  };\n};\nvar useResize = el => {\n  const width = ref(0);\n  const height = ref(0);\n  let observer = null;\n  let resizeCallback = null;\n  function onUpdate(w, h) {\n    width.value = w;\n    height.value = h;\n    if (resizeCallback) {\n      resizeCallback();\n    }\n  }\n  function onResize(callback) {\n    resizeCallback = callback;\n  }\n  onMounted(() => {\n    observer = new window.ResizeObserver(entries => {\n      const w = entries[0].contentRect.width;\n      const h = entries[0].contentRect.height;\n      onUpdate(w, h);\n    });\n    observer.observe(el.value);\n  });\n  onUnmounted(() => {\n    observer.disconnect();\n  });\n  return {\n    width,\n    height,\n    onResize\n  };\n};\nvar script$d = defineComponent({\n  name: 'Axis',\n  props: {\n    position: {\n      type: String,\n      default: 'bottom'\n    },\n    rotate: {\n      type: Boolean,\n      default: false\n    },\n    isPrimary: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const el = ref();\n    const chart = useChart();\n    const axis = computed(() => {\n      return props.position === 'bottom' ? axisBottom : axisLeft;\n    });\n    const canvas = ref(chart.canvas);\n    const defaultConfig = {\n      ticks: 5\n    };\n    function drawAxis() {\n      if (chart.data.length > 0) {\n        const {\n          primary,\n          secondary\n        } = chart.scales;\n        const current = props.isPrimary ? primary : secondary;\n        const config = Object.assign({}, props.isPrimary ? primary.config : secondary.config, defaultConfig);\n        const ax = axis.value(current.scale);\n        if (config.format) {\n          ax.tickFormat(config.format);\n        }\n        if (config.ticks !== undefined) {\n          ax.ticks(config.ticks);\n        }\n        if (config.tickValues !== undefined) {\n          ax.tickValues(config.tickValues);\n        }\n        if (config.useConfig) {\n          config.useConfig(ax);\n        }\n        const res = select(el.value).call(ax);\n        if (props.position === 'bottom' && props.rotate) {\n          res.selectAll('text').attr('y', 0).attr('x', 9).attr('dy', '.35em').attr('transform', 'rotate(90)').style('text-anchor', 'start');\n        }\n        return ax;\n      }\n      return null;\n    }\n    watch(() => props.isPrimary, () => {\n      drawAxis();\n    });\n    watch(chart.updates, () => {\n      canvas.value = chart.canvas;\n      drawAxis();\n    });\n    return {\n      el,\n      canvas\n    };\n  }\n});\nconst _hoisted_1$b = [\"transform\"];\nconst _hoisted_2$8 = [\"transform\"];\nfunction render$d(_ctx, _cache, $props, $setup, $data, $options) {\n  return _ctx.position === 'bottom' ? (openBlock(), createElementBlock(\"g\", {\n    key: 0,\n    class: normalizeClass(`layer-axis-x`),\n    ref: \"el\",\n    transform: `translate(0, ${_ctx.canvas.height})`\n  }, null, 8 /* PROPS */, _hoisted_1$b)) : (openBlock(), createElementBlock(\"g\", {\n    key: 1,\n    class: normalizeClass(`layer-axis-y`),\n    ref: \"el\",\n    transform: `translate(${_ctx.canvas.x}, 0)`\n  }, null, 8 /* PROPS */, _hoisted_2$8));\n}\nscript$d.render = render$d;\nscript$d.__file = \"src/components/Axis/index.vue\";\nvar script$c = defineComponent({\n  name: 'Chart',\n  components: {\n    Axis: script$d\n  },\n  props: {\n    data: {\n      type: Array,\n      default: () => []\n    },\n    margin: {\n      type: Object,\n      default: () => ({\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      }),\n      required: false\n    },\n    size: {\n      type: Object,\n      default: () => ({\n        width: 500,\n        height: 400\n      }),\n      required: false\n    },\n    direction: {\n      type: String,\n      default: 'horizontal',\n      required: false\n    },\n    axis: {\n      type: Object,\n      required: false\n    },\n    config: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const chartEl = ref(null);\n    const axLeftEl = ref();\n    const axBottomEl = ref();\n    const axisSpace = reactive({\n      x: 40,\n      y: 20\n    });\n    const chart = new Chart(props.data, props.config);\n    const rotateX = computed(() => props.axis && props.axis.primary && props.axis.primary.rotate);\n    const hideX = computed(() => {\n      return props.axis && props.axis.primary && props.axis.primary.hide;\n    });\n    const hideY = computed(() => {\n      return props.axis && props.axis.secondary && props.axis.secondary.hide;\n    });\n    const mouse = reactive({\n      index: -1,\n      position: {\n        x: 0,\n        y: 0\n      },\n      hover: false\n    });\n    provide('chart', chart);\n    provide('chartMouse', mouse);\n    // Data change\n    watch(() => props.data, () => {\n      if (chart) chart.changeData(props.data);\n    }, {\n      immediate: true\n    });\n    // Config change\n    watch(() => props.config, () => {\n      if (chart) chart.changeConfig(props.config);\n    });\n    watch(() => [Object.assign({}, axisSpace), props.direction, props.size, props.margin, props.axis], () => {\n      if (chart) {\n        chart.changeConfig({\n          axisSpace: Object.assign({}, axisSpace),\n          direction: props.direction,\n          size: props.size,\n          margin: props.margin,\n          axis: props.axis\n        });\n      }\n    }, {\n      immediate: true\n    });\n    const resizeObserver = new ResizeObserver(entries => {\n      for (const entry of entries) {\n        if (axBottomEl.value && entry.target === axBottomEl.value.$el) {\n          axisSpace.y = entry.contentRect.height;\n        } else if (axLeftEl.value && entry.target === axLeftEl.value.$el) {\n          axisSpace.x = entry.contentRect.width;\n        }\n      }\n    });\n    onMounted(() => {\n      if (axBottomEl.value) {\n        resizeObserver.observe(axBottomEl.value.$el);\n      }\n      if (axLeftEl.value) {\n        resizeObserver.observe(axLeftEl.value.$el);\n      }\n    });\n    onUnmounted(() => {\n      resizeObserver.disconnect();\n    });\n    function onMouseOut() {\n      if (props.config.controlHover === false) {\n        return;\n      }\n      mouse.index = -1;\n      mouse.hover = false;\n    }\n    function onMouseMove(e) {\n      if (props.config.controlHover === false) {\n        return;\n      }\n      mouse.hover = true;\n      mouse.position = {\n        x: pointer(e)[0],\n        y: pointer(e)[1]\n      };\n      const {\n        primary\n      } = chart.scales;\n      const keys = chart.getKeys(0);\n      const vals = chart.getData(keys);\n      if (chart.config.direction === 'horizontal') {\n        if (primary.type === 'band') {\n          const band = primary.bandwidth();\n          const delta = mouse.position.x - chart.canvas.x;\n          mouse.index = Math.round((delta + band / 2) / band) - 1;\n        } else {\n          mouse.index = bisectCenter(vals, primary.scale.invert(mouse.position.x));\n        }\n      } else if (chart.config.direction === 'vertical') {\n        if (primary.type === 'band') {\n          const band = primary.bandwidth();\n          const delta = mouse.position.y - chart.canvas.y;\n          mouse.index = Math.round((delta + band / 2) / band) - 1;\n        } else {\n          mouse.index = bisectCenter(vals, primary.scale.invert(mouse.position.y));\n        }\n      }\n    }\n    // function onTest() {\n    //   if (chart) {\n    //     const ticks = chart.scales.primary.ticks()\n    //     console.log(ticks)\n    //   }\n    // }\n    return {\n      axBottomEl,\n      axLeftEl,\n      chartEl,\n      hideX,\n      hideY,\n      rotateX,\n      onMouseMove,\n      onMouseOut\n    };\n  }\n});\nconst _hoisted_1$a = {\n  class: \"chart\",\n  ref: \"chartEl\"\n};\nconst _hoisted_2$7 = [\"width\", \"height\", \"viewBox\"];\nconst _hoisted_3$6 = {\n  class: \"layers\"\n};\nconst _hoisted_4$3 = {\n  class: \"axis\"\n};\nconst _hoisted_5$3 = {\n  class: \"widgets\"\n};\nfunction render$c(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_axis = resolveComponent(\"axis\");\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$a, [(openBlock(), createElementBlock(\"svg\", {\n    width: _ctx.size.width,\n    height: _ctx.size.height,\n    viewBox: `0 0 ${_ctx.size.width} ${_ctx.size.height}`,\n    onPointermove: _cache[0] || (_cache[0] = (...args) => _ctx.onMouseMove && _ctx.onMouseMove(...args)),\n    onPointerleave: _cache[1] || (_cache[1] = (...args) => _ctx.onMouseOut && _ctx.onMouseOut(...args))\n  }, [createElementVNode(\"g\", _hoisted_3$6, [renderSlot(_ctx.$slots, \"layers\")]), createElementVNode(\"g\", _hoisted_4$3, [!_ctx.hideX ? (openBlock(), createBlock(_component_axis, {\n    key: 0,\n    position: \"bottom\",\n    ref: \"axBottomEl\",\n    rotate: _ctx.rotateX,\n    isPrimary: _ctx.direction === 'horizontal'\n  }, null, 8 /* PROPS */, [\"rotate\", \"isPrimary\"])) : createCommentVNode(\"v-if\", true), !_ctx.hideY ? (openBlock(), createBlock(_component_axis, {\n    key: 1,\n    position: \"left\",\n    ref: \"axLeftEl\",\n    isPrimary: _ctx.direction === 'vertical'\n  }, null, 8 /* PROPS */, [\"isPrimary\"])) : createCommentVNode(\"v-if\", true)])], 40 /* PROPS, HYDRATE_EVENTS */, _hoisted_2$7)), createElementVNode(\"div\", _hoisted_5$3, [renderSlot(_ctx.$slots, \"widgets\")])], 512 /* NEED_PATCH */);\n}\n\nfunction styleInject(css, ref) {\n  if (ref === void 0) ref = {};\n  var insertAt = ref.insertAt;\n  if (!css || typeof document === 'undefined') {\n    return;\n  }\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\nvar css_248z$1 = \"\\n.chart {\\n  position: relative;\\n}\\n\";\nstyleInject(css_248z$1);\nscript$c.render = render$c;\nscript$c.__file = \"src/components/Chart/index.vue\";\nvar script$b = defineComponent({\n  name: 'Layer',\n  props: {\n    type: {\n      type: String,\n      default: 'custom'\n    },\n    dataKeys: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const chart = useChart();\n    const id = new Date().getTime().toString();\n    const extraProps = inject('layerProps', {});\n    onMounted(() => {\n      chart.addLayer({\n        id,\n        type: props.type,\n        dataKeys: props.dataKeys,\n        props: extraProps\n      });\n    });\n    onUnmounted(() => {\n      chart.removeLayer(id);\n    });\n    return {};\n  }\n});\nfunction render$b(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"g\", {\n    class: normalizeClass(`layer-${_ctx.type}`)\n  }, [renderSlot(_ctx.$slots, \"default\")], 2 /* CLASS */);\n}\n\nscript$b.render = render$b;\nscript$b.__file = \"src/components/Layer/index.vue\";\nvar script$a = defineComponent({\n  name: 'AreaComponent',\n  components: {\n    Layer: script$b\n  },\n  props: {\n    areaStyle: {\n      type: Object,\n      required: false\n    },\n    dataKeys: {\n      type: Object,\n      required: true\n    },\n    type: {\n      type: String,\n      default: () => 'normal'\n    },\n    gap: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props) {\n    const chart = useChart();\n    const {\n      stacked\n    } = inject('layerProps', {\n      stacked: false\n    });\n    const {\n      points\n    } = usePoints(props.dataKeys, {\n      stacked: false,\n      type: 'area'\n    });\n    const {\n      bars\n    } = useBars(props.dataKeys, {\n      stacked,\n      type: 'area',\n      gap: props.gap,\n      maxWidth: -1\n    });\n    const d = ref('');\n    const lineType = type => {\n      // console.log(type, chart.config.direction)\n      const map = {\n        normal: curveLinear,\n        natural: curveNatural,\n        step: curveStep,\n        monotone: chart.config.direction === 'horizontal' ? monotoneX : monotoneY\n      };\n      return map[type];\n    };\n    const buildArea = () => {\n      console.log(points.value);\n      const {\n        secondary\n      } = chart.scales;\n      if (stacked) {\n        return area().curve(lineType(props.type)).x0(p => p.x + p.width / 2).y0(p => p.y).x1(p => p.x + p.width / 2).y1(p => p.y + p.height);\n      }\n      if (chart.config.direction === 'vertical') {\n        return area().curve(lineType(props.type)).y0(p => p.y).y1(p => p.y).x0(p => p.x).x1(() => secondary.scale(0));\n      }\n      return area().curve(lineType(props.type)).x0(p => p.x).x1(p => p.x).y0(p => p.y).y1(() => secondary.scale(0));\n    };\n    const getStyle = computed(() => {\n      return () => Object.assign({\n        fill: 'blue',\n        fillOpacity: 0.25,\n        stroke: 'none'\n      }, props.areaStyle);\n    });\n    const toKebabCase = data => mapKeys(kebabize, data);\n    watch(points, () => {\n      d.value = stacked ? buildArea()(bars.value) : buildArea()(points.value);\n    });\n    return {\n      d,\n      getStyle,\n      toKebabCase\n    };\n  }\n});\nconst _hoisted_1$9 = [\"d\"];\nfunction render$a(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Layer = resolveComponent(\"Layer\");\n  return openBlock(), createBlock(_component_Layer, {\n    type: \"area\",\n    dataKeys: _ctx.dataKeys\n  }, {\n    default: withCtx(() => [createElementVNode(\"path\", mergeProps(_ctx.toKebabCase(_ctx.getStyle()), {\n      d: _ctx.d\n    }), null, 16 /* FULL_PROPS */, _hoisted_1$9)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"dataKeys\"]);\n}\nscript$a.render = render$a;\nscript$a.__file = \"src/components/Area/index.vue\";\nvar script$9 = defineComponent({\n  name: 'LineComponent',\n  components: {\n    Layer: script$b\n  },\n  props: {\n    lineStyle: {\n      type: Object,\n      required: false\n    },\n    dotStyle: {\n      type: Object,\n      required: false\n    },\n    hideDot: {\n      type: Boolean,\n      default: false\n    },\n    dataKeys: {\n      type: Object,\n      required: true\n    },\n    type: {\n      type: String,\n      default: () => 'normal'\n    }\n  },\n  setup(props) {\n    const {\n      stacked\n    } = inject('layerProps', {\n      stacked: false\n    });\n    const mouse = useMouse();\n    const chart = useChart();\n    const d = ref('');\n    const {\n      points\n    } = usePoints(props.dataKeys, {\n      stacked,\n      type: 'line'\n    });\n    const lineType = {\n      normal: curveLinear,\n      natural: curveNatural,\n      step: stepAfter,\n      monotone: monotoneX\n    };\n    function updateLine() {\n      let type = lineType[props.type];\n      if (props.type === 'monotone' && chart.config.direction === 'vertical') {\n        type = monotoneY;\n      }\n      d.value = line().x(p => p.x).y(p => p.y).curve(type)(points.value);\n    }\n    function computeDotStyle(active) {\n      const dotStyle = props.dotStyle;\n      const style = getStyle.value();\n      return Object.assign({\n        r: active ? 5 : 3,\n        stroke: style.stroke,\n        strokeWidth: style.strokeWidth,\n        fill: 'white'\n      }, dotStyle);\n    }\n    const getStyle = computed(() => {\n      if (is$1(Function, props.lineStyle)) {\n        return props.lineStyle;\n      }\n      return () => Object.assign({\n        stroke: '#8884d8',\n        strokeWidth: 2\n      }, props.lineStyle);\n    });\n    const getDotStyle = computed(() => {\n      if (is$1(Function, props.dotStyle)) {\n        return props.dotStyle;\n      }\n      return ({\n        active\n      }) => computeDotStyle(active);\n    });\n    watch(points, () => updateLine());\n    watch(chart.updates, () => updateLine());\n    const toKebabCase = data => mapKeys(kebabize, data);\n    return {\n      d,\n      mouse,\n      points,\n      toKebabCase,\n      getStyle,\n      getDotStyle\n    };\n  }\n});\nconst _hoisted_1$8 = [\"d\"];\nconst _hoisted_2$6 = {\n  key: 0\n};\nconst _hoisted_3$5 = [\"cx\", \"cy\"];\nfunction render$9(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Layer = resolveComponent(\"Layer\");\n  return openBlock(), createBlock(_component_Layer, {\n    dataKeys: _ctx.dataKeys,\n    type: \"line\"\n  }, {\n    default: withCtx(() => [createElementVNode(\"path\", mergeProps({\n      class: \"chart-line\"\n    }, _ctx.toKebabCase(_ctx.getStyle()), {\n      d: _ctx.d,\n      fill: \"none\"\n    }), null, 16 /* FULL_PROPS */, _hoisted_1$8), createCommentVNode(\" :stroke=\\\"stroke\\\"\\n      :stroke-width=\\\"strokeWidth\\\"\\n      stroke-linejoin=\\\"round\\\"\\n      stroke-linecap=\\\"round\\\" \"), !_ctx.hideDot ? (openBlock(), createElementBlock(\"g\", _hoisted_2$6, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.points, (c, i) => {\n      return openBlock(), createElementBlock(\"circle\", mergeProps(_ctx.toKebabCase(_ctx.getDotStyle({\n        active: i === _ctx.mouse.index\n      })), {\n        key: i,\n        cx: c.x,\n        cy: c.y\n      }), null, 16 /* FULL_PROPS */, _hoisted_3$5);\n    }), 128 /* KEYED_FRAGMENT */))])) : createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"dataKeys\"]);\n}\nscript$9.render = render$9;\nscript$9.__file = \"src/components/Line/index.vue\";\nvar script$8 = defineComponent({\n  name: 'Bar',\n  components: {\n    Layer: script$b\n  },\n  props: {\n    selectedBar: {\n      type: Object,\n      default: () => null\n    },\n    barStyle: {\n      type: [Function, Object],\n      default: () => ({\n        fill: 'blue'\n      })\n    },\n    barStyleSelected: {\n      type: [Function, Object],\n      default: () => ({\n        fill: 'darkblue'\n      })\n    },\n    maxWidth: {\n      type: Number,\n      default: -1\n    },\n    dataKeys: {\n      type: Object,\n      required: true\n    },\n    gap: {\n      type: Number,\n      default: 5\n    }\n  },\n  setup(props, {\n    emit\n  }) {\n    const mouse = useMouse();\n    const {\n      stacked,\n      maxWidth\n    } = inject('layerProps', {\n      stacked: false,\n      maxWidth: -1\n    });\n    const {\n      bars\n    } = useBars(props.dataKeys, {\n      maxWidth: Math.max(props.maxWidth, maxWidth),\n      stacked,\n      gap: props.gap,\n      type: 'bar'\n    });\n    const getStyle = computed(() => {\n      if (is$1(Function, props.barStyle)) {\n        return props.barStyle;\n      }\n      return () => props.barStyle;\n    });\n    const getStyleSelected = computed(() => {\n      if (is$1(Function, props.barStyleSelected)) {\n        return props.barStyleSelected;\n      }\n      return () => props.barStyleSelected;\n    });\n    const toKebabCase = data => mapKeys(kebabize, data);\n    function onBarClick(bar, idx) {\n      emit('barClick', Object.assign(Object.assign({}, bar), {\n        idx\n      }));\n    }\n    return {\n      getStyle,\n      getStyleSelected,\n      toKebabCase,\n      bars,\n      mouse,\n      onBarClick\n    };\n  }\n});\nconst _hoisted_1$7 = {\n  key: 0\n};\nconst _hoisted_2$5 = [\"x\", \"y\", \"width\", \"height\", \"onClick\"];\nconst _hoisted_3$4 = [\"x\", \"y\", \"width\", \"height\"];\nfunction render$8(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Layer = resolveComponent(\"Layer\");\n  return openBlock(), createBlock(_component_Layer, {\n    dataKeys: _ctx.dataKeys,\n    type: \"bar\"\n  }, {\n    default: withCtx(() => [_ctx.bars.length === 0 ? (openBlock(), createElementBlock(\"text\", _hoisted_1$7, \"No Data\")) : createCommentVNode(\"v-if\", true), (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.bars, (bar, i) => {\n      return openBlock(), createElementBlock(\"rect\", mergeProps({\n        class: \"chart-bar\"\n      }, _ctx.toKebabCase(_ctx.getStyle({\n        ...bar.props,\n        active: i === _ctx.mouse.index\n      })), {\n        key: i,\n        x: bar.x,\n        y: bar.y,\n        width: bar.width > 0 ? bar.width : 0,\n        height: bar.height > 0 ? bar.height : 0,\n        onClick: () => _ctx.onBarClick(bar, i)\n      }), null, 16 /* FULL_PROPS */, _hoisted_2$5);\n    }), 128 /* KEYED_FRAGMENT */)), _ctx.selectedBar ? (openBlock(), createElementBlock(\"rect\", mergeProps({\n      key: 1,\n      class: \"chart-bar\"\n    }, _ctx.toKebabCase(_ctx.getStyleSelected({\n      ..._ctx.selectedBar.props\n    })), {\n      x: _ctx.selectedBar.x,\n      y: _ctx.selectedBar.y,\n      width: _ctx.selectedBar.width > 0 ? _ctx.selectedBar.width : 0,\n      height: _ctx.selectedBar.height > 0 ? _ctx.selectedBar.height : 0\n    }), null, 16 /* FULL_PROPS */, _hoisted_3$4)) : createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"dataKeys\"]);\n}\nscript$8.render = render$8;\nscript$8.__file = \"src/components/Bar/index.vue\";\nconst PieSort = String;\nvar script$7 = defineComponent({\n  name: 'PieLayer',\n  components: {\n    Layer: script$b\n  },\n  props: {\n    pieStyle: {\n      type: Object,\n      required: false\n    },\n    dataKeys: {\n      type: Object,\n      required: true\n    },\n    sort: {\n      type: PieSort,\n      default: 'desc',\n      required: false\n    },\n    sortFunc: {\n      type: Function,\n      required: false\n    }\n  },\n  setup(props) {\n    var _a;\n    const chart = useChart();\n    const mouse = useMouse();\n    const size = ref(Math.min(chart.canvas.width - chart.canvas.x, chart.canvas.height - chart.canvas.y) / 2);\n    const getStyle = computed(() => {\n      return () => Object.assign({\n        colors: ['#4daf4a', '#377eb8', '#ff7f00', '#984ea3', '#e41a1c'],\n        innerRadius: 2,\n        cornerRadius: 0,\n        padAngle: 0.01\n      }, props.pieStyle);\n    });\n    const style = getStyle.value();\n    const arcs = ref([]);\n    const colors = ordinal(getStyle.value().colors);\n    const arcGen = () => {\n      return arc().outerRadius(size.value).innerRadius(style.innerRadius).cornerRadius(style.cornerRadius).padAngle(style.padAngle);\n    };\n    const transform = ref(`translate(${size.value + chart.canvas.x}, ${size.value + chart.canvas.y})`);\n    let pieSort;\n    switch (props.sort) {\n      case 'desc':\n        pieSort = descending$1;\n        break;\n      case 'asc':\n        pieSort = ascending$1;\n        break;\n      case 'none':\n        pieSort = null;\n        break;\n      case 'custom':\n        pieSort = (_a = props.sortFunc) !== null && _a !== void 0 ? _a : null;\n        break;\n      default:\n        pieSort = null;\n    }\n    function updatePie() {\n      // const key = chart.getKeys(1)\n      const data = chart.getData([props.dataKeys[1]]);\n      arcs.value = pie().sort(pieSort)(data);\n    }\n    function getColor(index) {\n      return colors(index.toString());\n    }\n    function showTooltip(event, index) {\n      mouse.hover = true;\n      mouse.index = index; // - chart.data.length\n      const [x, y] = pointer(event);\n      mouse.position = {\n        x: x + size.value,\n        y: y + size.value\n      };\n    }\n    function hideTooltip() {\n      mouse.hover = false;\n      mouse.index = -1;\n    }\n    function toKebabCase(data) {\n      mapKeys(kebabize, data);\n    }\n    watch(chart.updates, () => {\n      size.value = Math.min(chart.canvas.width - chart.canvas.x, (chart.canvas.height - chart.canvas.y) / 2);\n      transform.value = `translate(${size.value + chart.canvas.x}, ${size.value + chart.canvas.y})`;\n      updatePie();\n    });\n    return {\n      arcs,\n      arcGen,\n      getStyle,\n      transform,\n      getColor,\n      hideTooltip,\n      toKebabCase,\n      showTooltip\n    };\n  }\n});\nconst _hoisted_1$6 = {\n  key: 0\n};\nconst _hoisted_2$4 = [\"transform\"];\nconst _hoisted_3$3 = [\"id\", \"fill\", \"d\", \"onMousemove\"];\nfunction render$7(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Layer = resolveComponent(\"Layer\");\n  return openBlock(), createBlock(_component_Layer, {\n    dataKeys: _ctx.dataKeys,\n    type: \"pie\"\n  }, {\n    default: withCtx(() => [_ctx.arcs.length === 0 ? (openBlock(), createElementBlock(\"text\", _hoisted_1$6, \"No Data\")) : createCommentVNode(\"v-if\", true), createElementVNode(\"g\", {\n      transform: _ctx.transform\n    }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.arcs, (arc, i) => {\n      return openBlock(), createElementBlock(\"path\", mergeProps({\n        key: i,\n        id: `arc-${i}`,\n        class: \"chart-pie\"\n      }, _ctx.toKebabCase(_ctx.getStyle()), {\n        fill: _ctx.getColor(i),\n        d: _ctx.arcGen()(arc),\n        onMousemove: $event => _ctx.showTooltip($event, i),\n        onMouseleave: _cache[0] || (_cache[0] = $event => _ctx.hideTooltip())\n      }), null, 16 /* FULL_PROPS */, _hoisted_3$3);\n    }), 128 /* KEYED_FRAGMENT */))], 8 /* PROPS */, _hoisted_2$4)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"dataKeys\"]);\n}\nscript$7.render = render$7;\nscript$7.__file = \"src/components/Pie/index.vue\";\nvar script$6 = defineComponent({\n  name: 'Responsive',\n  setup() {\n    const el = ref(null);\n    const {\n      width,\n      height\n    } = useResize(el);\n    return {\n      el,\n      width,\n      height\n    };\n  }\n});\nconst _hoisted_1$5 = {\n  ref: \"el\"\n};\nfunction render$6(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$5, [renderSlot(_ctx.$slots, \"main\", {\n    width: _ctx.width,\n    height: _ctx.height\n  })], 512 /* NEED_PATCH */);\n}\n\nscript$6.render = render$6;\nscript$6.__file = \"src/components/Responsive/index.vue\";\nvar script$5 = defineComponent({\n  name: 'Grid',\n  props: {\n    strokeDasharray: {\n      type: String,\n      default: () => '3 3'\n    },\n    hideX: {\n      type: Boolean,\n      default: false\n    },\n    hideY: {\n      type: Boolean,\n      default: false\n    },\n    center: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(props) {\n    const chart = useChart();\n    const data = ref([]);\n    const canvas = ref(null);\n    const xLines = ref([]);\n    const yLines = ref([]);\n    function updateXLines() {\n      const {\n        primary,\n        secondary\n      } = chart.scales;\n      const current = chart.config.direction === 'horizontal' ? secondary : primary;\n      if (current.type === 'band' && !props.center) {\n        const vals = current.map(chart.getData(chart.getKeys(0))).map(x => x + current.bandwidth() / 2);\n        vals.pop();\n        xLines.value = vals;\n      } else {\n        const ticks = current.ticks();\n        xLines.value = current.map(ticks);\n      }\n    }\n    function updateYLines() {\n      const {\n        primary,\n        secondary\n      } = chart.scales;\n      const current = chart.config.direction === 'horizontal' ? primary : secondary;\n      if (current.type === 'band' && !props.center) {\n        const vals = current.map(chart.getData(chart.getKeys(0))).map(x => x + current.bandwidth() / 2);\n        vals.pop();\n        yLines.value = vals;\n      } else {\n        const ticks = current.ticks();\n        yLines.value = current.map(ticks);\n      }\n    }\n    watch(chart.updates, () => {\n      data.value = chart.data;\n      canvas.value = chart.canvas;\n      updateXLines();\n      updateYLines();\n    });\n    return {\n      data,\n      canvas,\n      xLines,\n      yLines\n    };\n  }\n});\nconst _hoisted_1$4 = [\"stroke-dasharray\"];\nconst _hoisted_2$3 = {\n  key: 0,\n  class: \"grid-x\"\n};\nconst _hoisted_3$2 = [\"x1\", \"y1\", \"x2\", \"y2\"];\nconst _hoisted_4$2 = {\n  key: 1,\n  class: \"grid-y\"\n};\nconst _hoisted_5$2 = [\"x1\", \"y1\", \"x2\", \"y2\"];\nconst _hoisted_6$2 = [\"x1\", \"y1\", \"x2\", \"y2\"];\nconst _hoisted_7 = [\"x1\", \"y1\", \"x2\", \"y2\"];\nfunction render$5(_ctx, _cache, $props, $setup, $data, $options) {\n  return _ctx.data.length ? (openBlock(), createElementBlock(\"g\", {\n    key: 0,\n    class: \"layer-grid\",\n    stroke: \"black\",\n    \"stroke-opacity\": \"0.15\",\n    \"stroke-width\": \"1\",\n    \"stroke-dasharray\": _ctx.strokeDasharray\n  }, [!_ctx.hideX ? (openBlock(), createElementBlock(\"g\", _hoisted_2$3, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.xLines, (y, i) => {\n    return openBlock(), createElementBlock(\"line\", {\n      key: i,\n      x1: _ctx.canvas.x,\n      y1: y,\n      x2: _ctx.canvas.width,\n      y2: y\n    }, null, 8 /* PROPS */, _hoisted_3$2);\n  }), 128 /* KEYED_FRAGMENT */))])) : createCommentVNode(\"v-if\", true), !_ctx.hideY ? (openBlock(), createElementBlock(\"g\", _hoisted_4$2, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.yLines, (x, i) => {\n    return openBlock(), createElementBlock(\"line\", {\n      key: i,\n      x1: x,\n      y1: _ctx.canvas.y,\n      x2: x,\n      y2: _ctx.canvas.height\n    }, null, 8 /* PROPS */, _hoisted_5$2);\n  }), 128 /* KEYED_FRAGMENT */))])) : createCommentVNode(\"v-if\", true), createElementVNode(\"g\", null, [createElementVNode(\"line\", {\n    x1: _ctx.canvas.x,\n    y1: _ctx.canvas.y,\n    x2: _ctx.canvas.width,\n    y2: _ctx.canvas.y\n  }, null, 8 /* PROPS */, _hoisted_6$2), createElementVNode(\"line\", {\n    x1: _ctx.canvas.width - 1,\n    y1: _ctx.canvas.y,\n    x2: _ctx.canvas.width - 1,\n    y2: _ctx.canvas.height\n  }, null, 8 /* PROPS */, _hoisted_7)])], 8 /* PROPS */, _hoisted_1$4)) : createCommentVNode(\"v-if\", true);\n}\nscript$5.render = render$5;\nscript$5.__file = \"src/components/Grid/index.vue\";\nvar script$4 = defineComponent({\n  name: 'Tooltip',\n  components: {},\n  props: {\n    format: {\n      type: String,\n      default: ',.0f'\n    },\n    color: {\n      type: String,\n      default: '#7876ec'\n    },\n    hideLine: {\n      type: Boolean,\n      default: false\n    },\n    config: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const el = ref(null);\n    const chart = useChart();\n    const canvas = ref(chart.canvas);\n    const direction = ref(chart.config.direction);\n    const {\n      position,\n      payload,\n      show\n    } = useTooltip();\n    const isRight = computed(() => {\n      return position.value.x >= canvas.value.width / 4 * 3;\n    });\n    const style = computed(() => {\n      if (direction.value === 'vertical') {\n        return {\n          top: position.value.y - 0.5 + 'px',\n          left: canvas.value.x + 'px'\n        };\n      } else if (direction.value === 'horizontal') {\n        return {\n          top: canvas.value.y + 'px',\n          left: position.value.x - 0.5 + 'px'\n        };\n      } else {\n        return {\n          top: canvas.value.y + 'px',\n          left: canvas.value.x + 'px'\n        };\n      }\n    });\n    const styleContent = computed(() => {\n      if (direction.value === 'vertical') {\n        return {\n          top: 5 + 'px',\n          left: position.value.x - 30 + 'px'\n        };\n      } else if (direction.value === 'horizontal') {\n        return {\n          top: position.value.y + 'px',\n          transform: `translateX(${isRight.value ? '-100%' : 0})`\n        };\n      } else {\n        return {\n          top: position.value.y + 'px',\n          left: position.value.x + 'px'\n        };\n      }\n    });\n    const formatValue = (val, formatter) => {\n      return is$1(Function, formatter) ? formatter(val) : is$1(Number, val) ? format(formatter)(val) : val;\n    };\n    const items = computed(() => {\n      return Object.keys(omit$1(['idx'], payload.value)).map(key => {\n        const config = Object.assign({\n          label: key,\n          format: props.format,\n          color: props.color,\n          hide: false\n        }, props.config[key]);\n        return {\n          key,\n          label: config.label,\n          value: payload.value[key],\n          valueFormatted: formatValue(payload.value[key], config.format),\n          color: is$1(Function, config.color) ? config.color(payload.value) : config.color,\n          hide: config.hide\n        };\n      }).filter(i => !i.hide);\n    });\n    watch(chart.updates, () => {\n      direction.value = chart.config.direction;\n      canvas.value = chart.canvas;\n    });\n    return {\n      el,\n      show,\n      canvas,\n      direction,\n      style,\n      styleContent,\n      position,\n      items,\n      isRight\n    };\n  }\n});\nconst _hoisted_1$3 = {\n  key: 0\n};\nfunction render$4(_ctx, _cache, $props, $setup, $data, $options) {\n  return _ctx.show ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    class: \"v-tooltip\",\n    style: normalizeStyle(_ctx.style)\n  }, [createElementVNode(\"div\", {\n    class: \"v-tooltip-content\",\n    style: normalizeStyle(_ctx.styleContent),\n    ref: \"el\"\n  }, [renderSlot(_ctx.$slots, \"default\", {\n    payload: _ctx.items\n  }, () => [createElementVNode(\"div\", {\n    style: normalizeStyle({\n      borderColor: _ctx.color\n    })\n  }, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.items, (item, i) => {\n    return openBlock(), createElementBlock(\"div\", {\n      key: i,\n      style: normalizeStyle({\n        color: item.color\n      })\n    }, [createElementVNode(\"b\", null, toDisplayString(item.label), 1 /* TEXT */), createTextVNode(\": \" + toDisplayString(item.valueFormatted), 1 /* TEXT */)], 4 /* STYLE */);\n  }), 128 /* KEYED_FRAGMENT */))], 4 /* STYLE */)])], 4 /* STYLE */), !_ctx.hideLine ? (openBlock(), createElementBlock(\"div\", _hoisted_1$3, [_ctx.direction === 'horizontal' ? (openBlock(), createElementBlock(\"div\", {\n    key: 0,\n    class: \"v-tooltip-line-vertical\",\n    style: normalizeStyle({\n      height: _ctx.canvas.height + 'px'\n    })\n  }, null, 4 /* STYLE */)) : (openBlock(), createElementBlock(\"div\", {\n    key: 1,\n    class: \"v-tooltip-line-horizontal\",\n    style: normalizeStyle({\n      width: _ctx.canvas.width - 40 + 'px'\n    })\n  }, null, 4 /* STYLE */))])) : createCommentVNode(\"v-if\", true)], 4 /* STYLE */)) : createCommentVNode(\"v-if\", true);\n}\nvar css_248z = \"\\n.v-tooltip[data-v-43da20c6] {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n.v-tooltip-content[data-v-43da20c6] {\\n  position: absolute;\\n  white-space: nowrap;\\n  pointer-events: none;\\n}\\n.v-tooltip-content > div[data-v-43da20c6] {\\n  margin-left: 5px;\\n  margin-right: 5px;\\n  border: 2px solid;\\n  background-color: white;\\n  padding: 8px;\\n  text-align: left;\\n  border-radius: 4px;\\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\\n}\\n.v-tooltip-right[data-v-43da20c6] {\\n  transform: translateX(-100%);\\n  margin-left: 0;\\n}\\n.v-tooltip-line-vertical[data-v-43da20c6] {\\n  top: 0px;\\n  position: absolute;\\n  width: 1px;\\n  background-color: black;\\n  pointer-events: none;\\n  opacity: 0.3;\\n}\\n.v-tooltip-line-horizontal[data-v-43da20c6] {\\n  left: 0px;\\n  position: absolute;\\n  height: 1px;\\n  background-color: black;\\n  pointer-events: none;\\n  opacity: 0.3;\\n}\\n\";\nstyleInject(css_248z);\nscript$4.render = render$4;\nscript$4.__scopeId = \"data-v-43da20c6\";\nscript$4.__file = \"src/components/Tooltip/index.vue\";\nvar script$3 = defineComponent({\n  props: {\n    stacked: {\n      type: Boolean,\n      default: false\n    },\n    maxWidth: {\n      type: Number,\n      default: -1\n    }\n  },\n  setup(props) {\n    provide('layerProps', props);\n  }\n});\nfunction render$3(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", null, [renderSlot(_ctx.$slots, \"default\")]);\n}\nscript$3.render = render$3;\nscript$3.__file = \"src/components/Group/index.vue\";\nvar script$2 = defineComponent({\n  name: 'Grid',\n  props: {\n    value: {\n      type: Number\n    },\n    label: {\n      type: String,\n      default: ''\n    },\n    color: {\n      type: String,\n      default: 'red'\n    },\n    strokeDasharray: {\n      type: String,\n      default: () => '3'\n    },\n    strokeWidth: {\n      type: Number,\n      default: 1\n    },\n    strokeOpacity: {\n      type: Number,\n      default: 0.5\n    }\n  },\n  setup(props) {\n    const chart = useChart();\n    const y = ref(0);\n    const direction = ref('horizontal');\n    const canvas = ref({});\n    watch(chart.updates, () => {\n      if (props.value !== undefined) {\n        y.value = chart.scales.secondary.scale(props.value);\n      }\n      canvas.value = chart.canvas;\n      direction.value = chart.config.direction;\n    }, {\n      immediate: true\n    });\n    watch(() => props.value, () => {\n      y.value = chart.scales.secondary.scale(props.value);\n    }, {\n      immediate: true\n    });\n    return {\n      y,\n      canvas,\n      direction\n    };\n  }\n});\nconst _hoisted_1$2 = {\n  key: 0,\n  class: \"layer-marker\"\n};\nconst _hoisted_2$2 = [\"x\", \"y\", \"fill\"];\nconst _hoisted_3$1 = [\"x1\", \"y1\", \"x2\", \"y2\", \"stroke\", \"stroke-opacity\", \"stroke-width\", \"stroke-dasharray\"];\nconst _hoisted_4$1 = {\n  key: 1,\n  class: \"layer-marker\"\n};\nconst _hoisted_5$1 = [\"x\", \"y\", \"fill\"];\nconst _hoisted_6$1 = [\"x1\", \"y1\", \"x2\", \"y2\", \"stroke\", \"stroke-opacity\", \"stroke-width\", \"stroke-dasharray\"];\nfunction render$2(_ctx, _cache, $props, $setup, $data, $options) {\n  return _ctx.direction === 'horizontal' ? (openBlock(), createElementBlock(\"g\", _hoisted_1$2, [createElementVNode(\"text\", {\n    x: _ctx.canvas.x + 5,\n    y: _ctx.y - 5,\n    \"text-anchor\": \"start\",\n    fill: _ctx.color\n  }, toDisplayString(_ctx.label), 9 /* TEXT, PROPS */, _hoisted_2$2), createElementVNode(\"line\", {\n    x1: _ctx.canvas.x,\n    y1: _ctx.y,\n    x2: _ctx.canvas.width,\n    y2: _ctx.y,\n    stroke: _ctx.color,\n    \"stroke-opacity\": _ctx.strokeOpacity,\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-dasharray\": _ctx.strokeDasharray\n  }, null, 8 /* PROPS */, _hoisted_3$1)])) : (openBlock(), createElementBlock(\"g\", _hoisted_4$1, [createElementVNode(\"text\", {\n    x: _ctx.y + 10,\n    y: _ctx.canvas.y + 5,\n    \"text-anchor\": \"start\",\n    fill: _ctx.color,\n    style: {\n      \"writing-mode\": \"tb\"\n    }\n  }, toDisplayString(_ctx.label), 9 /* TEXT, PROPS */, _hoisted_5$1), createElementVNode(\"line\", {\n    x1: _ctx.y,\n    y1: _ctx.canvas.y,\n    x2: _ctx.y,\n    y2: _ctx.canvas.height,\n    stroke: _ctx.color,\n    \"stroke-opacity\": _ctx.strokeOpacity,\n    \"stroke-width\": _ctx.strokeWidth,\n    \"stroke-dasharray\": _ctx.strokeDasharray\n  }, null, 8 /* PROPS */, _hoisted_6$1)]));\n}\nscript$2.render = render$2;\nscript$2.__file = \"src/components/Marker/index.vue\";\nfunction count(node) {\n  var sum = 0,\n    children = node.children,\n    i = children && children.length;\n  if (!i) sum = 1;else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\nfunction node_count() {\n  return this.eachAfter(count);\n}\nfunction node_each(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\nfunction node_eachBefore(callback, that) {\n  var node = this,\n    nodes = [node],\n    children,\n    i,\n    index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\nfunction node_eachAfter(callback, that) {\n  var node = this,\n    nodes = [node],\n    next = [],\n    children,\n    i,\n    n,\n    index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\nfunction node_find(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\nfunction node_sum(value) {\n  return this.eachAfter(function (node) {\n    var sum = +value(node.data) || 0,\n      children = node.children,\n      i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\nfunction node_sort(compare) {\n  return this.eachBefore(function (node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\nfunction node_path(end) {\n  var start = this,\n    ancestor = leastCommonAncestor(start, end),\n    nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n    bNodes = b.ancestors(),\n    c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\nfunction node_ancestors() {\n  var node = this,\n    nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\nfunction node_descendants() {\n  return Array.from(this);\n}\nfunction node_leaves() {\n  var leaves = [];\n  this.eachBefore(function (node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\nfunction node_links() {\n  var root = this,\n    links = [];\n  root.each(function (node) {\n    if (node !== root) {\n      // Don’t include the root’s parent, if any.\n      links.push({\n        source: node.parent,\n        target: node\n      });\n    }\n  });\n  return links;\n}\nfunction* node_iterator() {\n  var node = this,\n    current,\n    next = [node],\n    children,\n    i,\n    n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\nfunction hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n  var root = new Node(data),\n    node,\n    nodes = [root],\n    child,\n    childs,\n    i,\n    n;\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n  return root.eachBefore(computeHeight);\n}\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\nfunction objectChildren(d) {\n  return d.children;\n}\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\nfunction computeHeight(node) {\n  var height = 0;\n  do node.height = height; while ((node = node.parent) && node.height < ++height);\n}\nfunction Node(data) {\n  this.data = data;\n  this.depth = this.height = 0;\n  this.parent = null;\n}\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\nfunction optional(f) {\n  return f == null ? null : required(f);\n}\nfunction required(f) {\n  if (typeof f !== \"function\") throw new Error();\n  return f;\n}\nfunction constantZero() {\n  return 0;\n}\nfunction constant(x) {\n  return function () {\n    return x;\n  };\n}\nfunction roundNode(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\nfunction treemapDice(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n    node,\n    i = -1,\n    n = nodes.length,\n    k = parent.value && (x1 - x0) / parent.value;\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\nvar preroot = {\n    depth: -1\n  },\n  ambiguous = {},\n  imputed = {};\nfunction defaultId(d) {\n  return d.id;\n}\nfunction defaultParentId(d) {\n  return d.parentId;\n}\nfunction stratify() {\n  var id = defaultId,\n    parentId = defaultParentId,\n    path;\n  function stratify(data) {\n    var nodes = Array.from(data),\n      currentId = id,\n      currentParentId = parentId,\n      n,\n      d,\n      i,\n      root,\n      parent,\n      node,\n      nodeId,\n      nodeKey,\n      nodeByKey = new Map();\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n    root.parent = preroot;\n    root.eachBefore(function (node) {\n      node.depth = node.parent.depth + 1;\n      --n;\n    }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n    return root;\n  }\n  stratify.id = function (x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n  stratify.parentId = function (x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n  stratify.path = function (x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\" ⇥ \"/foo\", \"/foo\" ⇥ \"/\", \"/\" ↦ \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\nfunction treemapSlice(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n    node,\n    i = -1,\n    n = nodes.length,\n    k = parent.value && (y1 - y0) / parent.value;\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\nvar phi = (1 + Math.sqrt(5)) / 2;\nfunction squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n    nodes = parent.children,\n    row,\n    nodeValue,\n    i0 = 0,\n    i1 = 0,\n    n = nodes.length,\n    dx,\n    dy,\n    value = parent.value,\n    sumValue,\n    minValue,\n    maxValue,\n    newRatio,\n    minRatio,\n    alpha,\n    beta;\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) {\n        sumValue -= nodeValue;\n        break;\n      }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {\n      value: sumValue,\n      dice: dx < dy,\n      children: nodes.slice(i0, i1)\n    });\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n  return rows;\n}\nvar squarify = function custom(ratio) {\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n  squarify.ratio = function (x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n  return squarify;\n}(phi);\nfunction treemap() {\n  var tile = squarify,\n    round = false,\n    dx = 1,\n    dy = 1,\n    paddingStack = [0],\n    paddingInner = constantZero,\n    paddingTop = constantZero,\n    paddingRight = constantZero,\n    paddingBottom = constantZero,\n    paddingLeft = constantZero;\n  function treemap(root) {\n    root.x0 = root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n      x0 = node.x0 + p,\n      y0 = node.y0 + p,\n      x1 = node.x1 - p,\n      y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n  treemap.round = function (x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n  treemap.size = function (x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n  treemap.tile = function (x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n  treemap.padding = function (x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n  treemap.paddingInner = function (x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n  treemap.paddingOuter = function (x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n  treemap.paddingTop = function (x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n  treemap.paddingRight = function (x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n  treemap.paddingBottom = function (x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n  treemap.paddingLeft = function (x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n  return treemap;\n}\nvar script$1 = defineComponent({\n  name: 'Treemap',\n  props: {\n    size: {\n      type: Object,\n      default: () => ({\n        width: 500,\n        height: 400\n      }),\n      required: false\n    },\n    margin: {\n      type: Object,\n      default: () => ({\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      })\n    },\n    padding: {\n      type: Number,\n      default: 8\n    },\n    data: {\n      type: Array,\n      default: () => []\n    },\n    dataKeys: {\n      type: Object,\n      required: true\n    },\n    colorFn: {\n      type: Function,\n      default: () => interpolateHcl('#60c96e', '#6b46c1')\n    },\n    rcStyle: {\n      type: Function,\n      required: false\n    }\n  },\n  setup(props) {\n    const el = ref(null);\n    const data = ref(props.data);\n    const selected = ref(null);\n    const canvas = ref({\n      x: props.margin.left,\n      y: props.margin.top,\n      width: props.size.width - props.margin.right,\n      height: props.size.height - props.margin.bottom\n    });\n    const rectangles = ref([]);\n    function getScales() {\n      const values = extent(data.value.map(d => d[props.dataKeys[1]]));\n      const x = linear().domain(values).range([0, 100]).nice();\n      const y = sequential().domain(values).interpolator(props.colorFn());\n      return {\n        x,\n        y\n      };\n    }\n    function buildRectangles() {\n      const {\n        y\n      } = getScales();\n      const res = buildTree(data.value).leaves().map((d, idx) => {\n        return {\n          idx,\n          x0: canvas.value.x + d.x0,\n          x1: canvas.value.x + d.x1,\n          y0: canvas.value.y + d.y0,\n          y1: canvas.value.y + d.y1,\n          width: d.x1 - d.x0,\n          height: d.y1 - d.y0,\n          data: d.data,\n          color: y(d.value) // props.color\n        };\n      });\n\n      return res;\n    }\n    function buildTree(data) {\n      const {\n        x\n      } = getScales();\n      const createTreeMap = treemap().size([canvas.value.width - canvas.value.x, canvas.value.height - canvas.value.y]).padding(props.padding);\n      const treeFn = stratify().id(d => d.name).parentId(d => d.parent);\n      const tree = treeFn([{\n        name: 'root'\n      }].concat(data.map(x => {\n        return {\n          name: x[props.dataKeys[0]],\n          value: x[props.dataKeys[1]],\n          parent: 'root'\n        };\n      })));\n      tree.sum(d => x(d.value));\n      createTreeMap(tree);\n      return tree;\n    }\n    const toKebabCase = data => mapKeys(kebabize, data);\n    const getStyle = r => {\n      const style = {\n        stroke: r.color,\n        strokeWidth: 5,\n        fill: r.color,\n        fillOpacity: 0.9\n      };\n      if (props.rcStyle && typeof props.rcStyle === 'function') {\n        return Object.assign(Object.assign({}, style), props.rcStyle(r));\n      }\n      return style;\n    };\n    function onMouseOver(i) {\n      // console.log('hover', i)\n      selected.value = i;\n    }\n    function onMouseOut() {\n      selected.value = null;\n    }\n    watch(props, () => {\n      data.value = props.data;\n      canvas.value = {\n        x: props.margin.left,\n        y: props.margin.top,\n        width: props.size.width - props.margin.right,\n        height: props.size.height - props.margin.bottom\n      };\n      rectangles.value = buildRectangles();\n    }, {\n      immediate: true\n    });\n    return {\n      el,\n      rectangles,\n      selected,\n      getStyle,\n      toKebabCase,\n      onMouseOver,\n      onMouseOut\n    };\n  }\n});\nconst _hoisted_1$1 = {\n  class: \"treemap\",\n  style: {\n    display: 'flex',\n    position: 'relative'\n  }\n};\nconst _hoisted_2$1 = [\"width\", \"height\", \"viewBox\"];\nconst _hoisted_3 = {\n  class: \"layer-rectangles\"\n};\nconst _hoisted_4 = [\"transform\", \"onMouseover\"];\nconst _hoisted_5 = [\"width\", \"height\"];\nconst _hoisted_6 = {\n  x: 0 + 10,\n  y: 0 + 20,\n  \"font-size\": `15px`,\n  fill: `white`,\n  \"font-weight\": \"bold\"\n};\nfunction render$1(_ctx, _cache, $props, $setup, $data, $options) {\n  return openBlock(), createElementBlock(\"div\", _hoisted_1$1, [(openBlock(), createElementBlock(\"svg\", {\n    width: _ctx.size.width,\n    height: _ctx.size.height,\n    viewBox: `0 0 ${_ctx.size.width} ${_ctx.size.height}`,\n    ref: \"el\"\n  }, [createElementVNode(\"g\", _hoisted_3, [(openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.rectangles, (r, i) => {\n    return openBlock(), createElementBlock(\"g\", {\n      class: normalizeClass([\"rectangle\", {\n        selected: _ctx.selected === i\n      }]),\n      key: i,\n      transform: `translate(${r.x0}, ${r.y0})`,\n      onMouseover: () => _ctx.onMouseOver(i),\n      onMouseleave: _cache[0] || (_cache[0] = (...args) => _ctx.onMouseOut && _ctx.onMouseOut(...args))\n    }, [renderSlot(_ctx.$slots, \"default\", {\n      r: r,\n      selected: _ctx.selected === i\n    }, () => [createElementVNode(\"rect\", mergeProps(_ctx.toKebabCase(_ctx.getStyle(r)), {\n      x: 0,\n      y: 0,\n      width: r.width,\n      height: r.height\n    }), null, 16 /* FULL_PROPS */, _hoisted_5), renderSlot(_ctx.$slots, \"text\", {\n      r: r,\n      selected: _ctx.selected === i\n    }, () => [createElementVNode(\"text\", _hoisted_6, toDisplayString(r.data.name), 1 /* TEXT */)])])], 42 /* CLASS, PROPS, HYDRATE_EVENTS */, _hoisted_4);\n  }), 128 /* KEYED_FRAGMENT */))])], 8 /* PROPS */, _hoisted_2$1)), renderSlot(_ctx.$slots, \"widgets\")]);\n}\nscript$1.render = render$1;\nscript$1.__file = \"src/components/Treemap/index.vue\";\nvar script = defineComponent({\n  name: 'HoverBar',\n  props: {\n    barStyle: {\n      type: Object,\n      default: () => ({\n        'fill-opacity': 0.05\n      })\n    }\n  },\n  setup() {\n    const chart = useChart();\n    const mouse = useMouse();\n    const bar = ref({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    });\n    const direction = ref('horizontal');\n    const canvas = ref({\n      x: 0,\n      y: 0,\n      width: 0,\n      height: 0\n    });\n    watch(chart.updates, () => {\n      canvas.value = chart.canvas;\n      direction.value = chart.config.direction;\n    }, {\n      immediate: true\n    });\n    watch(mouse, () => {\n      if (chart.bandScale) {\n        const vals = chart.getData(chart.getKeys(0));\n        const [x] = chart.bandScale.map([vals[mouse.index]]);\n        const width = chart.bandScale.bandwidth();\n        if (x) {\n          if (chart.config.direction === 'horizontal') {\n            bar.value = {\n              x: x - width / 2,\n              y: 0,\n              width,\n              height: canvas.value.height\n            };\n          } else {\n            bar.value = {\n              x: 40,\n              y: x - width / 2,\n              width: canvas.value.width - 40,\n              height: width\n            };\n          }\n        }\n      }\n    });\n    return {\n      bar,\n      canvas,\n      direction,\n      mouse\n    };\n  }\n});\nconst _hoisted_1 = {\n  key: 0,\n  class: \"layer-hover-bar\"\n};\nconst _hoisted_2 = [\"x\", \"y\", \"width\", \"height\"];\nfunction render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _ctx.mouse.hover ? (openBlock(), createElementBlock(\"g\", _hoisted_1, [createElementVNode(\"rect\", mergeProps({\n    class: \"hover-bar\"\n  }, _ctx.barStyle, {\n    x: _ctx.bar.x,\n    y: _ctx.bar.y,\n    width: _ctx.bar.width > 0 ? _ctx.bar.width : 0,\n    height: _ctx.bar.height > 0 ? _ctx.bar.height : 0\n  }), null, 16 /* FULL_PROPS */, _hoisted_2)])) : createCommentVNode(\"v-if\", true);\n}\nscript.render = render;\nscript.__file = \"src/components/HoverBar/index.vue\";\nvar components = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  Chart: script$c,\n  Layer: script$b,\n  Area: script$a,\n  Line: script$9,\n  Bar: script$8,\n  Pie: script$7,\n  Responsive: script$6,\n  Grid: script$5,\n  Tooltip: script$4,\n  Group: script$3,\n  Marker: script$2,\n  Treemap: script$1,\n  HoverBar: script\n});\n\n// Import vue components\nconst install = function installLib(app) {\n  Object.entries(components).forEach(([componentName, component]) => {\n    app.component(componentName, component);\n  });\n};\nvar index = {\n  install\n};\nexport { script$a as Area, script$8 as Bar, script$c as Chart, script$5 as Grid, script$3 as Group, script as HoverBar, script$b as Layer, script$9 as Line, script$2 as Marker, script$7 as Pie, script$6 as Responsive, script$4 as Tooltip, script$1 as Treemap, index as default, useBars, useChart, useMouse, usePoints, useResize, useTooltip };","map":{"version":3,"mappings":"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CE,IAAI,OAAOA,CAAC,CAAChB,QAAQ,KAAK,UAAU,EAAE;QACpC,IAAI+J,IAAI,GAAG/I,CAAC,CAAChB,QAAQ,EAAE;QAEvB,IAAI+J,IAAI,KAAK,iBAAiB,EAAE;UAC9B,OAAOA,IAAI;QACrB;MACA;MAEM,OAAO,GAAG,GAAGP,QAAQ,CAACxI,CAAC,EAAEuC,IAAI,CAACvC,CAAC,CAAC,CAAC,CAAC2I,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG;EAAC;AAEzD;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI3J,QAAQ,GACZ;AACA1C,OAAO,CAAC,SAAS0C,QAAQ,CAACH,GAAG,EAAE;EAC7B,OAAOsJ,SAAS,CAACtJ,GAAG,EAAE,EAAE,CAAC;AAC3B,CAAC,CAAC;;ACzCF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAImK,KAAK,GACT;AACA1M,OAAO,CAAC,SAAS0M,KAAK,CAACzM,EAAE,EAAE;EACzB,OAAO8B,MAAM,CAAC9B,EAAE,CAACG,MAAM,EAAEH,EAAE,CAAC;AAC9B,CAAC,CAAC;AAEF,cAAeyM,KAAK;;AC9CpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,OAAO,GACX;AACArM,OAAO,CAAC,SAASqM,OAAO,CAACC,KAAK,EAAEC,MAAM,EAAE;EACtC,OAAO9K,MAAM,CAAC6K,KAAK,GAAG,CAAC,EAAE,YAAY;IACnC,IAAIE,MAAM,GAAG3M,SAAS,CAACyM,KAAK,CAAC;IAE7B,IAAIE,MAAM,IAAI,IAAI,IAAI7F,WAAW,CAAC6F,MAAM,CAACD,MAAM,CAAC,CAAC,EAAE;MACjD,OAAOC,MAAM,CAACD,MAAM,CAAC,CAACxM,KAAK,CAACyM,MAAM,EAAE1K,KAAK,CAACK,SAAS,CAACS,KAAK,CAACP,IAAI,CAACxC,SAAS,EAAE,CAAC,EAAEyM,KAAK,CAAC,CAAC;IAC1F;IAEI,MAAM,IAAIzH,SAAS,CAACzC,QAAQ,CAACoK,MAAM,CAAC,GAAG,iCAAiC,GAAGD,MAAM,GAAG,GAAG,CAAC;EAC5F,CAAG,CAAC;AACJ,CAAC,CAAC;AAEF,gBAAeF,OAAO;;ACpDtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAItE,EAAE,GACN;AACA/H,OAAO,CAAC,SAAS+H,EAAE,CAAC0E,IAAI,EAAExK,GAAG,EAAE;EAC7B,OAAOA,GAAG,YAAYwK,IAAI,IAAIxK,GAAG,IAAI,IAAI,KAAKA,GAAG,CAACyG,WAAW,KAAK+D,IAAI,IAAIA,IAAI,CAAC7D,IAAI,KAAK,QAAQ,IAAI,OAAO3G,GAAG,KAAK,QAAQ,CAAC;AAC9H,CAAC,CAAC;AAEF,WAAe8F,EAAE;;AC/BjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIgE,IAAI,GACR;AACAM,SAAO,CAAC,CAAC,EAAE,MAAM,CAAC;AAClB,aAAeN,IAAI;;ACtBnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIW,YAAY,GAChB;AACAhL,OAAO,CAAC,SAASgL,YAAY,CAAC/M,EAAE,EAAEgN,CAAC,EAAEC,CAAC,EAAE;EACtC,IAAIpL,MAAM,GAAG,EAAE;EACf,IAAIqK,CAAC;EAEL,KAAKA,CAAC,IAAIc,CAAC,EAAE;IACX,IAAIzH,IAAI,CAAC2G,CAAC,EAAEc,CAAC,CAAC,EAAE;MACdnL,MAAM,CAACqK,CAAC,CAAC,GAAG3G,IAAI,CAAC2G,CAAC,EAAEe,CAAC,CAAC,GAAGjN,EAAE,CAACkM,CAAC,EAAEc,CAAC,CAACd,CAAC,CAAC,EAAEe,CAAC,CAACf,CAAC,CAAC,CAAC,GAAGc,CAAC,CAACd,CAAC,CAAC;IACvD;EACA;EAEE,KAAKA,CAAC,IAAIe,CAAC,EAAE;IACX,IAAI1H,IAAI,CAAC2G,CAAC,EAAEe,CAAC,CAAC,IAAI,CAAC1H,IAAI,CAAC2G,CAAC,EAAErK,MAAM,CAAC,EAAE;MAClCA,MAAM,CAACqK,CAAC,CAAC,GAAGe,CAAC,CAACf,CAAC,CAAC;IACtB;EACA;EAEE,OAAOrK,MAAM;AACf,CAAC,CAAC;;AC5CF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIqL,gBAAgB,GACpB;AACAnL,OAAO,CAAC,SAASmL,gBAAgB,CAAClN,EAAE,EAAEmN,IAAI,EAAEC,IAAI,EAAE;EAChD,OAAOL,YAAY,CAAC,UAAUb,CAAC,EAAEmB,IAAI,EAAEC,IAAI,EAAE;IAC3C,IAAIhC,SAAS,CAAC+B,IAAI,CAAC,IAAI/B,SAAS,CAACgC,IAAI,CAAC,EAAE;MACtC,OAAOJ,gBAAgB,CAAClN,EAAE,EAAEqN,IAAI,EAAEC,IAAI,CAAC;IAC7C,CAAK,MAAM;MACL,OAAOtN,EAAE,CAACkM,CAAC,EAAEmB,IAAI,EAAEC,IAAI,CAAC;IAC9B;EACA,CAAG,EAAEH,IAAI,EAAEC,IAAI,CAAC;AAChB,CAAC,CAAC;;ACxCF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIG,aAAa,GACjB;AACAlN,OAAO,CAAC,SAASkN,aAAa,CAACJ,IAAI,EAAEC,IAAI,EAAE;EACzC,OAAOF,gBAAgB,CAAC,UAAUhB,CAAC,EAAEmB,IAAI,EAAEC,IAAI,EAAE;IAC/C,OAAOD,IAAI;EACf,CAAG,EAAEF,IAAI,EAAEC,IAAI,CAAC;AAChB,CAAC,CAAC;AAEF,sBAAeG,aAAa;;AC/B5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,IAAI,GACR;AACAnN,OAAO,CAAC,SAASmN,IAAI,CAACC,KAAK,EAAE7K,GAAG,EAAE;EAChC,IAAIf,MAAM,GAAG,EAAE;EACf,IAAI6L,KAAK,GAAG,EAAE;EACd,IAAI1K,GAAG,GAAG,CAAC;EACX,IAAIO,GAAG,GAAGkK,KAAK,CAACtN,MAAM;EAEtB,OAAO6C,GAAG,GAAGO,GAAG,EAAE;IAChBmK,KAAK,CAACD,KAAK,CAACzK,GAAG,CAAC,CAAC,GAAG,CAAC;IACrBA,GAAG,IAAI,CAAC;EACZ;EAEE,KAAK,IAAIwC,IAAI,IAAI5C,GAAG,EAAE;IACpB,IAAI,CAAC8K,KAAK,CAAC9J,cAAc,CAAC4B,IAAI,CAAC,EAAE;MAC/B3D,MAAM,CAAC2D,IAAI,CAAC,GAAG5C,GAAG,CAAC4C,IAAI,CAAC;IAC9B;EACA;EAEE,OAAO3D,MAAM;AACf,CAAC,CAAC;AAEF,aAAe2L,IAAI;;ACvCnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIG,MAAM,GACV;AACAtN,OAAO,CAAC,SAASsN,MAAM,CAACtB,IAAI,EAAEzJ,GAAG,EAAE;EACjC,IAAIf,MAAM,GAAG,EAAE;EAEf,KAAK,IAAI2D,IAAI,IAAI5C,GAAG,EAAE;IACpB,IAAIyJ,IAAI,CAACzJ,GAAG,CAAC4C,IAAI,CAAC,EAAEA,IAAI,EAAE5C,GAAG,CAAC,EAAE;MAC9Bf,MAAM,CAAC2D,IAAI,CAAC,GAAG5C,GAAG,CAAC4C,IAAI,CAAC;IAC9B;EACA;EAEE,OAAO3D,MAAM;AACf,CAAC,CAAC;AAEF,eAAe8L,MAAM;;ACnCrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,KAAK,GACT;AACAlB,SAAO,CAAC,CAAC,EAAE,OAAO,CAAC;AACnB,cAAekB,KAAK;;ACxBpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,OAAO,GACX;AACAnB,SAAO,CAAC,CAAC,EAAE,aAAa,CAAC;AACzB,gBAAemB,OAAO;;ACnBtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,MAAM,GACV;AACAzN,OAAO,CAAC,SAASyN,MAAM,CAAC9H,IAAI,EAAEa,MAAM,EAAE;EACpC,IAAI7D,GAAG,GAAG,CAAC;EACX,IAAIO,GAAG,GAAGwK,IAAI,CAACC,GAAG,CAAChI,IAAI,CAAC7F,MAAM,EAAE0G,MAAM,CAAC1G,MAAM,CAAC;EAC9C,IAAI8N,GAAG,GAAG,EAAE;EAEZ,OAAOjL,GAAG,GAAGO,GAAG,EAAE;IAChB0K,GAAG,CAACjI,IAAI,CAAChD,GAAG,CAAC,CAAC,GAAG6D,MAAM,CAAC7D,GAAG,CAAC;IAC5BA,GAAG,IAAI,CAAC;EACZ;EAEE,OAAOiL,GAAG;AACZ,CAAC,CAAC;AAEF,eAAeH,MAAM;AChCII,IAAM,CAACC,SAAS,EAAEC,OAAO,CAAC,GAAG,CAAC,EAAEC,MAAM,CAAC,GAAG,CAAC;AAC7D,MAAMC,MAAM,GAAGC,OAAO,CAAC,CAACC,GAAoB,EAAEC,EAAS,KAAW;EACvE,IAAIC,IAAI,CAACpI,MAAM,CAAC,EAAE;IAChB,OAAOqI,KAAK,CAAEC,CAAC,IAAKC,KAAK,CAACL,GAAa,EAAEI,CAAC,CAAC,IAAI,EAAE,EAAEH,EAAE,CAAC,CAAChD,MAAM,CAAEhI,CAAC,IAAKA,CAAC,KAAK,EAAE,CAAC;EAC/E;EAED,OAAOkL,KAAK,CAACG,MAAM,CAACN,GAAa,CAAC,EAAEC,EAAE,CAAC;AACzC,CAAC,CAAC;AAEK,MAAMM,OAAO,GAAG,CAAC/O,EAA2B,EAAEgP,IAA4B,KAC/EC,QAAQ,CAACN,KAAK,CAAC3O,EAAE,EAAEkP,IAAM,CAACF,IAAI,CAAa,CAAC,EAAEG,QAAQ,CAACH,IAAI,CAAC,CAAC;AAExD,MAAMI,QAAQ,GAAIC,GAAW,IAAI;EACtC,OAAOA,GAAG,CACPzB,KAAK,CAAC,EAAE,CAAC,CACTxH,GAAG,CAAC,CAACkJ,MAAM,EAAEtM,GAAG,KAAI;IACnB,OAAOsM,MAAM,CAACC,WAAW,EAAE,KAAKD,MAAM,GAAG,GAAGtM,GAAG,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAGsM,MAAM,CAACE,WAAW,EAAI,KAAGF,MAAM;EACpG,CAAC,CAAC,CACDlD,IAAI,CAAC,EAAE,CAAC;AACb,CAAC;ACrBc,SAASqD,WAAS,CAAC3P,CAAC,EAAES,CAAC,EAAE;EACtC,OAAOT,CAAC,IAAI,IAAI,IAAIS,CAAC,IAAI,IAAI,GAAGgM,GAAG,GAAGzM,CAAC,GAAGS,CAAC,GAAG,CAAC,CAAC,GAAGT,CAAC,GAAGS,CAAC,GAAG,CAAC,GAAGT,CAAC,IAAIS,CAAC,GAAG,CAAC,GAAGgM,GAAG;AACjF;ACFe,SAASmD,YAAU,CAAC5P,CAAC,EAAES,CAAC,EAAE;EACvC,OAAOT,CAAC,IAAI,IAAI,IAAIS,CAAC,IAAI,IAAI,GAAGgM,GAAG,GAC/BhM,CAAC,GAAGT,CAAC,GAAG,CAAC,CAAC,GACVS,CAAC,GAAGT,CAAC,GAAG,CAAC,GACTS,CAAC,IAAIT,CAAC,GAAG,CAAC,GACVyM,GAAG;AACT;ACHe,SAASoD,QAAQ,CAAC7L,CAAC,EAAE;EAClC,IAAI8L,QAAQ,EAAEC,QAAQ,EAAEC,KAAK;;EAE/B;EACA;EACA;EACA;EACA;EACE,IAAIhM,CAAC,CAAC3D,MAAM,KAAK,CAAC,EAAE;IAClByP,QAAQ,GAAGH,WAAS;IACpBI,QAAQ,GAAG,CAAClF,CAAC,EAAElH,CAAC,KAAKgM,WAAS,CAAC3L,CAAC,CAAC6G,CAAC,CAAC,EAAElH,CAAC,CAAC;IACvCqM,KAAK,GAAG,CAACnF,CAAC,EAAElH,CAAC,KAAKK,CAAC,CAAC6G,CAAC,CAAC,GAAGlH,CAAC;EAC9B,CAAG,MAAM;IACLmM,QAAQ,GAAG9L,CAAC,KAAK2L,WAAS,IAAI3L,CAAC,KAAK4L,YAAU,GAAG5L,CAAC,GAAGiM,MAAI;IACzDF,QAAQ,GAAG/L,CAAC;IACZgM,KAAK,GAAGhM,CAAC;EACb;EAEE,SAASnC,IAAI,CAAC7B,CAAC,EAAE2D,CAAC,EAAEuM,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAGnQ,CAAC,CAACK,MAAM,EAAE;IACzC,IAAI6P,EAAE,GAAGC,EAAE,EAAE;MACX,IAAIL,QAAQ,CAACnM,CAAC,EAAEA,CAAC,CAAC,KAAK,CAAC,EAAE,OAAOwM,EAAE;MACnC,GAAG;QACD,MAAMC,GAAG,GAAIF,EAAE,GAAGC,EAAE,KAAM,CAAC;QAC3B,IAAIJ,QAAQ,CAAC/P,CAAC,CAACoQ,GAAG,CAAC,EAAEzM,CAAC,CAAC,GAAG,CAAC,EAAEuM,EAAE,GAAGE,GAAG,GAAG,CAAC,CAAC,KACrCD,EAAE,GAAGC,GAAG;MACrB,CAAO,QAAQF,EAAE,GAAGC,EAAE;IACtB;IACI,OAAOD,EAAE;EACb;EAEE,SAASG,KAAK,CAACrQ,CAAC,EAAE2D,CAAC,EAAEuM,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAGnQ,CAAC,CAACK,MAAM,EAAE;IAC1C,IAAI6P,EAAE,GAAGC,EAAE,EAAE;MACX,IAAIL,QAAQ,CAACnM,CAAC,EAAEA,CAAC,CAAC,KAAK,CAAC,EAAE,OAAOwM,EAAE;MACnC,GAAG;QACD,MAAMC,GAAG,GAAIF,EAAE,GAAGC,EAAE,KAAM,CAAC;QAC3B,IAAIJ,QAAQ,CAAC/P,CAAC,CAACoQ,GAAG,CAAC,EAAEzM,CAAC,CAAC,IAAI,CAAC,EAAEuM,EAAE,GAAGE,GAAG,GAAG,CAAC,CAAC,KACtCD,EAAE,GAAGC,GAAG;MACrB,CAAO,QAAQF,EAAE,GAAGC,EAAE;IACtB;IACI,OAAOD,EAAE;EACb;EAEE,SAASI,MAAM,CAACtQ,CAAC,EAAE2D,CAAC,EAAEuM,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAGnQ,CAAC,CAACK,MAAM,EAAE;IAC3C,MAAMkQ,CAAC,GAAG1O,IAAI,CAAC7B,CAAC,EAAE2D,CAAC,EAAEuM,EAAE,EAAEC,EAAE,GAAG,CAAC,CAAC;IAChC,OAAOI,CAAC,GAAGL,EAAE,IAAIF,KAAK,CAAChQ,CAAC,CAACuQ,CAAC,GAAG,CAAC,CAAC,EAAE5M,CAAC,CAAC,GAAG,CAACqM,KAAK,CAAChQ,CAAC,CAACuQ,CAAC,CAAC,EAAE5M,CAAC,CAAC,GAAG4M,CAAC,GAAG,CAAC,GAAGA,CAAC;EACrE;EAEE,OAAO;IAAC1O,IAAI;IAAEyO,MAAM;IAAED;EAAK,CAAC;AAC9B;AAEA,SAASJ,MAAI,GAAG;EACd,OAAO,CAAC;AACV;ACvDe,SAASO,QAAM,CAAC7M,CAAC,EAAE;EAChC,OAAOA,CAAC,KAAK,IAAI,GAAG8I,GAAG,GAAG,CAAC9I,CAAC;AAC9B;ACEA,MAAM8M,eAAe,GAAGZ,QAAQ,CAACF,WAAS,CAAC;AACpC,MAAMe,WAAW,GAAGD,eAAe,CAACJ,KAAK;AAEzC,MAAMM,YAAY,GAAGd,QAAQ,CAACW,QAAM,CAAC,CAACF,MAAM;ACPpC,SAASM,MAAM,CAAC7J,MAAM,EAAE8J,OAAO,EAAE;EAC9C,IAAI3C,GAAG;EACP,IAAI4C,GAAG;EACP,IAAID,OAAO,KAAKzJ,SAAS,EAAE;IACzB,KAAK,MAAMxC,KAAK,IAAImC,MAAM,EAAE;MAC1B,IAAInC,KAAK,IAAI,IAAI,EAAE;QACjB,IAAIsJ,GAAG,KAAK9G,SAAS,EAAE;UACrB,IAAIxC,KAAK,IAAIA,KAAK,EAAEsJ,GAAG,GAAG4C,GAAG,GAAGlM,KAAK;QAC/C,CAAS,MAAM;UACL,IAAIsJ,GAAG,GAAGtJ,KAAK,EAAEsJ,GAAG,GAAGtJ,KAAK;UAC5B,IAAIkM,GAAG,GAAGlM,KAAK,EAAEkM,GAAG,GAAGlM,KAAK;QACtC;MACA;IACA;EACA,CAAG,MAAM;IACL,IAAIgJ,KAAK,GAAG,CAAC,CAAC;IACd,KAAK,IAAIhJ,KAAK,IAAImC,MAAM,EAAE;MACxB,IAAI,CAACnC,KAAK,GAAGiM,OAAO,CAACjM,KAAK,EAAE,EAAEgJ,KAAK,EAAE7G,MAAM,CAAC,KAAK,IAAI,EAAE;QACrD,IAAImH,GAAG,KAAK9G,SAAS,EAAE;UACrB,IAAIxC,KAAK,IAAIA,KAAK,EAAEsJ,GAAG,GAAG4C,GAAG,GAAGlM,KAAK;QAC/C,CAAS,MAAM;UACL,IAAIsJ,GAAG,GAAGtJ,KAAK,EAAEsJ,GAAG,GAAGtJ,KAAK;UAC5B,IAAIkM,GAAG,GAAGlM,KAAK,EAAEkM,GAAG,GAAGlM,KAAK;QACtC;MACA;IACA;EACA;EACE,OAAO,CAACsJ,GAAG,EAAE4C,GAAG,CAAC;AACnB;AC5BO,MAAMC,SAAS,SAASC,GAAG,CAAC;EACjC/H,WAAW,CAACW,OAAO,EAAErD,GAAG,GAAG0K,KAAK,EAAE;IAChC,KAAK,EAAE;IACPxO,MAAM,CAACyO,gBAAgB,CAAC,IAAI,EAAE;MAACC,OAAO,EAAE;QAACvM,KAAK,EAAE,IAAIoM,GAAG;MAAE,CAAC;MAAEI,IAAI,EAAE;QAACxM,KAAK,EAAE2B;MAAG;IAAC,CAAC,CAAC;IAChF,IAAIqD,OAAO,IAAI,IAAI,EAAE,KAAK,MAAM,CAACrD,GAAG,EAAE3B,KAAK,CAAC,IAAIgF,OAAO,EAAE,IAAI,CAACyH,GAAG,CAAC9K,GAAG,EAAE3B,KAAK,CAAC;EACjF;EACE0M,GAAG,CAAC/K,GAAG,EAAE;IACP,OAAO,KAAK,CAAC+K,GAAG,CAACC,UAAU,CAAC,IAAI,EAAEhL,GAAG,CAAC,CAAC;EAC3C;EACEiL,GAAG,CAACjL,GAAG,EAAE;IACP,OAAO,KAAK,CAACiL,GAAG,CAACD,UAAU,CAAC,IAAI,EAAEhL,GAAG,CAAC,CAAC;EAC3C;EACE8K,GAAG,CAAC9K,GAAG,EAAE3B,KAAK,EAAE;IACd,OAAO,KAAK,CAACyM,GAAG,CAACI,UAAU,CAAC,IAAI,EAAElL,GAAG,CAAC,EAAE3B,KAAK,CAAC;EAClD;EACE8M,MAAM,CAACnL,GAAG,EAAE;IACV,OAAO,KAAK,CAACmL,MAAM,CAACC,aAAa,CAAC,IAAI,EAAEpL,GAAG,CAAC,CAAC;EACjD;AACA;AAmBA,SAASgL,UAAU,CAAC;EAACJ,OAAO;EAAEC;AAAI,CAAC,EAAExM,KAAK,EAAE;EAC1C,MAAM2B,GAAG,GAAG6K,IAAI,CAACxM,KAAK,CAAC;EACvB,OAAOuM,OAAO,CAACK,GAAG,CAACjL,GAAG,CAAC,GAAG4K,OAAO,CAACG,GAAG,CAAC/K,GAAG,CAAC,GAAG3B,KAAK;AACpD;AAEA,SAAS6M,UAAU,CAAC;EAACN,OAAO;EAAEC;AAAI,CAAC,EAAExM,KAAK,EAAE;EAC1C,MAAM2B,GAAG,GAAG6K,IAAI,CAACxM,KAAK,CAAC;EACvB,IAAIuM,OAAO,CAACK,GAAG,CAACjL,GAAG,CAAC,EAAE,OAAO4K,OAAO,CAACG,GAAG,CAAC/K,GAAG,CAAC;EAC7C4K,OAAO,CAACE,GAAG,CAAC9K,GAAG,EAAE3B,KAAK,CAAC;EACvB,OAAOA,KAAK;AACd;AAEA,SAAS+M,aAAa,CAAC;EAACR,OAAO;EAAEC;AAAI,CAAC,EAAExM,KAAK,EAAE;EAC7C,MAAM2B,GAAG,GAAG6K,IAAI,CAACxM,KAAK,CAAC;EACvB,IAAIuM,OAAO,CAACK,GAAG,CAACjL,GAAG,CAAC,EAAE;IACpB3B,KAAK,GAAGuM,OAAO,CAACG,GAAG,CAAC/K,GAAG,CAAC;IACxB4K,OAAO,CAACO,MAAM,CAACnL,GAAG,CAAC;EACvB;EACE,OAAO3B,KAAK;AACd;AAEA,SAASqM,KAAK,CAACrM,KAAK,EAAE;EACpB,OAAOA,KAAK,KAAK,IAAI,IAAI,OAAOA,KAAK,KAAK,QAAQ,GAAGA,KAAK,CAACsE,OAAO,EAAE,GAAGtE,KAAK;AAC9E;AC5DA,IAAIgN,GAAG,GAAG3D,IAAI,CAAC4D,IAAI,CAAC,EAAE,CAAC;EACnBC,EAAE,GAAG7D,IAAI,CAAC4D,IAAI,CAAC,EAAE,CAAC;EAClBE,EAAE,GAAG9D,IAAI,CAAC4D,IAAI,CAAC,CAAC,CAAC;AAEN,SAASG,KAAK,CAACC,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAE;EAChD,IAAIC,OAAO;IACP7B,CAAC,GAAG,CAAC,CAAC;IACN1P,CAAC;IACDmR,KAAK;IACLvN,IAAI;EAERyN,IAAI,GAAG,CAACA,IAAI,EAAED,KAAK,GAAG,CAACA,KAAK,EAAEE,KAAK,GAAG,CAACA,KAAK;EAC5C,IAAIF,KAAK,KAAKC,IAAI,IAAIC,KAAK,GAAG,CAAC,EAAE,OAAO,CAACF,KAAK,CAAC;EAC/C,IAAIG,OAAO,GAAGF,IAAI,GAAGD,KAAK,EAAEpR,CAAC,GAAGoR,KAAK,EAAEA,KAAK,GAAGC,IAAI,EAAEA,IAAI,GAAGrR,CAAC;EAC7D,IAAI,CAAC4D,IAAI,GAAG4N,aAAa,CAACJ,KAAK,EAAEC,IAAI,EAAEC,KAAK,CAAC,MAAM,CAAC,IAAI,CAACG,QAAQ,CAAC7N,IAAI,CAAC,EAAE,OAAO,EAAE;EAElF,IAAIA,IAAI,GAAG,CAAC,EAAE;IACZ,IAAI8N,EAAE,GAAGtE,IAAI,CAACuE,KAAK,CAACP,KAAK,GAAGxN,IAAI,CAAC;MAAEgO,EAAE,GAAGxE,IAAI,CAACuE,KAAK,CAACN,IAAI,GAAGzN,IAAI,CAAC;IAC/D,IAAI8N,EAAE,GAAG9N,IAAI,GAAGwN,KAAK,EAAE,EAAEM,EAAE;IAC3B,IAAIE,EAAE,GAAGhO,IAAI,GAAGyN,IAAI,EAAE,EAAEO,EAAE;IAC1BT,KAAK,GAAG,IAAI3P,KAAK,CAACxB,CAAC,GAAG4R,EAAE,GAAGF,EAAE,GAAG,CAAC,CAAC;IAClC,OAAO,EAAEhC,CAAC,GAAG1P,CAAC,EAAEmR,KAAK,CAACzB,CAAC,CAAC,GAAG,CAACgC,EAAE,GAAGhC,CAAC,IAAI9L,IAAI;EAC9C,CAAG,MAAM;IACLA,IAAI,GAAG,CAACA,IAAI;IACZ,IAAI8N,EAAE,GAAGtE,IAAI,CAACuE,KAAK,CAACP,KAAK,GAAGxN,IAAI,CAAC;MAAEgO,EAAE,GAAGxE,IAAI,CAACuE,KAAK,CAACN,IAAI,GAAGzN,IAAI,CAAC;IAC/D,IAAI8N,EAAE,GAAG9N,IAAI,GAAGwN,KAAK,EAAE,EAAEM,EAAE;IAC3B,IAAIE,EAAE,GAAGhO,IAAI,GAAGyN,IAAI,EAAE,EAAEO,EAAE;IAC1BT,KAAK,GAAG,IAAI3P,KAAK,CAACxB,CAAC,GAAG4R,EAAE,GAAGF,EAAE,GAAG,CAAC,CAAC;IAClC,OAAO,EAAEhC,CAAC,GAAG1P,CAAC,EAAEmR,KAAK,CAACzB,CAAC,CAAC,GAAG,CAACgC,EAAE,GAAGhC,CAAC,IAAI9L,IAAI;EAC9C;EAEE,IAAI2N,OAAO,EAAEJ,KAAK,CAACI,OAAO,EAAE;EAE5B,OAAOJ,KAAK;AACd;AAEO,SAASK,aAAa,CAACJ,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAE;EAChD,IAAI1N,IAAI,GAAG,CAACyN,IAAI,GAAGD,KAAK,IAAIhE,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAEqB,KAAK,CAAC;IAC1CO,KAAK,GAAGzE,IAAI,CAAC0E,KAAK,CAAC1E,IAAI,CAAC2E,GAAG,CAACnO,IAAI,CAAC,GAAGwJ,IAAI,CAAC4E,IAAI,CAAC;IAC9CC,KAAK,GAAGrO,IAAI,GAAGwJ,IAAI,CAAC8E,GAAG,CAAC,EAAE,EAAEL,KAAK,CAAC;EACtC,OAAOA,KAAK,IAAI,CAAC,GACX,CAACI,KAAK,IAAIlB,GAAG,GAAG,EAAE,GAAGkB,KAAK,IAAIhB,EAAE,GAAG,CAAC,GAAGgB,KAAK,IAAIf,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI9D,IAAI,CAAC8E,GAAG,CAAC,EAAE,EAAEL,KAAK,CAAC,GACjF,CAACzE,IAAI,CAAC8E,GAAG,CAAC,EAAE,EAAE,CAACL,KAAK,CAAC,IAAII,KAAK,IAAIlB,GAAG,GAAG,EAAE,GAAGkB,KAAK,IAAIhB,EAAE,GAAG,CAAC,GAAGgB,KAAK,IAAIf,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC;AAC3F;AAEO,SAASiB,QAAQ,CAACf,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAE;EAC3C,IAAIc,KAAK,GAAGhF,IAAI,CAACiF,GAAG,CAAChB,IAAI,GAAGD,KAAK,CAAC,GAAGhE,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAEqB,KAAK,CAAC;IACnDgB,KAAK,GAAGlF,IAAI,CAAC8E,GAAG,CAAC,EAAE,EAAE9E,IAAI,CAAC0E,KAAK,CAAC1E,IAAI,CAAC2E,GAAG,CAACK,KAAK,CAAC,GAAGhF,IAAI,CAAC4E,IAAI,CAAC,CAAC;IAC7DC,KAAK,GAAGG,KAAK,GAAGE,KAAK;EACzB,IAAIL,KAAK,IAAIlB,GAAG,EAAEuB,KAAK,IAAI,EAAE,CAAC,KACzB,IAAIL,KAAK,IAAIhB,EAAE,EAAEqB,KAAK,IAAI,CAAC,CAAC,KAC5B,IAAIL,KAAK,IAAIf,EAAE,EAAEoB,KAAK,IAAI,CAAC;EAChC,OAAOjB,IAAI,GAAGD,KAAK,GAAG,CAACkB,KAAK,GAAGA,KAAK;AACtC;ACrDe,SAASrC,KAAG,CAAC/J,MAAM,EAAE8J,OAAO,EAAE;EAC3C,IAAIC,GAAG;EACP,IAAID,OAAO,KAAKzJ,SAAS,EAAE;IACzB,KAAK,MAAMxC,KAAK,IAAImC,MAAM,EAAE;MAC1B,IAAInC,KAAK,IAAI,IAAI,KACTkM,GAAG,GAAGlM,KAAK,IAAKkM,GAAG,KAAK1J,SAAS,IAAIxC,KAAK,IAAIA,KAAM,CAAC,EAAE;QAC7DkM,GAAG,GAAGlM,KAAK;MACnB;IACA;EACA,CAAG,MAAM;IACL,IAAIgJ,KAAK,GAAG,CAAC,CAAC;IACd,KAAK,IAAIhJ,KAAK,IAAImC,MAAM,EAAE;MACxB,IAAI,CAACnC,KAAK,GAAGiM,OAAO,CAACjM,KAAK,EAAE,EAAEgJ,KAAK,EAAE7G,MAAM,CAAC,KAAK,IAAI,KAC7C+J,GAAG,GAAGlM,KAAK,IAAKkM,GAAG,KAAK1J,SAAS,IAAIxC,KAAK,IAAIA,KAAM,CAAC,EAAE;QAC7DkM,GAAG,GAAGlM,KAAK;MACnB;IACA;EACA;EACE,OAAOkM,GAAG;AACZ;ACnBe,SAAS5C,KAAG,CAACnH,MAAM,EAAE8J,OAAO,EAAE;EAC3C,IAAI3C,GAAG;EACP,IAAI2C,OAAO,KAAKzJ,SAAS,EAAE;IACzB,KAAK,MAAMxC,KAAK,IAAImC,MAAM,EAAE;MAC1B,IAAInC,KAAK,IAAI,IAAI,KACTsJ,GAAG,GAAGtJ,KAAK,IAAKsJ,GAAG,KAAK9G,SAAS,IAAIxC,KAAK,IAAIA,KAAM,CAAC,EAAE;QAC7DsJ,GAAG,GAAGtJ,KAAK;MACnB;IACA;EACA,CAAG,MAAM;IACL,IAAIgJ,KAAK,GAAG,CAAC,CAAC;IACd,KAAK,IAAIhJ,KAAK,IAAImC,MAAM,EAAE;MACxB,IAAI,CAACnC,KAAK,GAAGiM,OAAO,CAACjM,KAAK,EAAE,EAAEgJ,KAAK,EAAE7G,MAAM,CAAC,KAAK,IAAI,KAC7CmH,GAAG,GAAGtJ,KAAK,IAAKsJ,GAAG,KAAK9G,SAAS,IAAIxC,KAAK,IAAIA,KAAM,CAAC,EAAE;QAC7DsJ,GAAG,GAAGtJ,KAAK;MACnB;IACA;EACA;EACE,OAAOsJ,GAAG;AACZ;ACnBe,SAASkF,KAAK,CAACnB,KAAK,EAAEC,IAAI,EAAEzN,IAAI,EAAE;EAC/CwN,KAAK,GAAG,CAACA,KAAK,EAAEC,IAAI,GAAG,CAACA,IAAI,EAAEzN,IAAI,GAAG,CAAC5D,CAAC,GAAGT,SAAS,CAACC,MAAM,IAAI,CAAC,IAAI6R,IAAI,GAAGD,KAAK,EAAEA,KAAK,GAAG,CAAC,EAAE,CAAC,IAAIpR,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC4D,IAAI;EAElH,IAAI8L,CAAC,GAAG,CAAC,CAAC;IACN1P,CAAC,GAAGoN,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAACoF,IAAI,CAAC,CAACnB,IAAI,GAAGD,KAAK,IAAIxN,IAAI,CAAC,CAAC,GAAG,CAAC;IACrD2O,KAAK,GAAG,IAAI/Q,KAAK,CAACxB,CAAC,CAAC;EAExB,OAAO,EAAE0P,CAAC,GAAG1P,CAAC,EAAE;IACduS,KAAK,CAAC7C,CAAC,CAAC,GAAG0B,KAAK,GAAG1B,CAAC,GAAG9L,IAAI;EAC/B;EAEE,OAAO2O,KAAK;AACd;ACZO,SAASE,SAAS,CAACC,MAAM,EAAEH,KAAK,EAAE;EACvC,QAAQhT,SAAS,CAACC,MAAM;IACtB,KAAK,CAAC;MAAE;IACR,KAAK,CAAC;MAAE,IAAI,CAAC+S,KAAK,CAACG,MAAM,CAAC;MAAE;IAC5B;MAAS,IAAI,CAACH,KAAK,CAACA,KAAK,CAAC,CAACG,MAAM,CAACA,MAAM,CAAC;MAAE;EAAM;EAEnD,OAAO,IAAI;AACb;AAEO,SAASC,gBAAgB,CAACD,MAAM,EAAEE,YAAY,EAAE;EACrD,QAAQrT,SAAS,CAACC,MAAM;IACtB,KAAK,CAAC;MAAE;IACR,KAAK,CAAC;MAAE;QACN,IAAI,OAAOkT,MAAM,KAAK,UAAU,EAAE,IAAI,CAACE,YAAY,CAACF,MAAM,CAAC,CAAC,KACvD,IAAI,CAACH,KAAK,CAACG,MAAM,CAAC;QACvB;MACN;IACI;MAAS;QACP,IAAI,CAACA,MAAM,CAACA,MAAM,CAAC;QACnB,IAAI,OAAOE,YAAY,KAAK,UAAU,EAAE,IAAI,CAACA,YAAY,CAACA,YAAY,CAAC,CAAC,KACnE,IAAI,CAACL,KAAK,CAACK,YAAY,CAAC;QAC7B;MACN;EAAK;EAEH,OAAO,IAAI;AACb;ACtBO,MAAMC,QAAQ,GAAG1O,MAAM,CAAC,UAAU,CAAC;AAE3B,SAAS2O,OAAO,GAAG;EAChC,IAAI/F,KAAK,GAAG,IAAImD,SAAS,EAAE;IACvBwC,MAAM,GAAG,EAAE;IACXH,KAAK,GAAG,EAAE;IACVQ,OAAO,GAAGF,QAAQ;EAEtB,SAASG,KAAK,CAAChJ,CAAC,EAAE;IAChB,IAAI0F,CAAC,GAAG3C,KAAK,CAAC0D,GAAG,CAACzG,CAAC,CAAC;IACpB,IAAI0F,CAAC,KAAKnJ,SAAS,EAAE;MACnB,IAAIwM,OAAO,KAAKF,QAAQ,EAAE,OAAOE,OAAO;MACxChG,KAAK,CAACyD,GAAG,CAACxG,CAAC,EAAE0F,CAAC,GAAGgD,MAAM,CAACxL,IAAI,CAAC8C,CAAC,CAAC,GAAG,CAAC,CAAC;IAC1C;IACI,OAAOuI,KAAK,CAAC7C,CAAC,GAAG6C,KAAK,CAAC/S,MAAM,CAAC;EAClC;EAEEwT,KAAK,CAACN,MAAM,GAAG,UAASO,CAAC,EAAE;IACzB,IAAI,CAAC1T,SAAS,CAACC,MAAM,EAAE,OAAOkT,MAAM,CAACpQ,KAAK,EAAE;IAC5CoQ,MAAM,GAAG,EAAE,EAAE3F,KAAK,GAAG,IAAImD,SAAS,EAAE;IACpC,KAAK,MAAMnM,KAAK,IAAIkP,CAAC,EAAE;MACrB,IAAIlG,KAAK,CAAC4D,GAAG,CAAC5M,KAAK,CAAC,EAAE;MACtBgJ,KAAK,CAACyD,GAAG,CAACzM,KAAK,EAAE2O,MAAM,CAACxL,IAAI,CAACnD,KAAK,CAAC,GAAG,CAAC,CAAC;IAC9C;IACI,OAAOiP,KAAK;EAChB,CAAG;EAEDA,KAAK,CAACT,KAAK,GAAG,UAASU,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAI+S,KAAK,GAAG/Q,KAAK,CAAC0R,IAAI,CAACD,CAAC,CAAC,EAAED,KAAK,IAAIT,KAAK,CAACjQ,KAAK,EAAE;EAC5E,CAAG;EAED0Q,KAAK,CAACD,OAAO,GAAG,UAASE,CAAC,EAAE;IAC1B,OAAO1T,SAAS,CAACC,MAAM,IAAIuT,OAAO,GAAGE,CAAC,EAAED,KAAK,IAAID,OAAO;EAC5D,CAAG;EAEDC,KAAK,CAACG,IAAI,GAAG,YAAW;IACtB,OAAOL,OAAO,CAACJ,MAAM,EAAEH,KAAK,CAAC,CAACQ,OAAO,CAACA,OAAO,CAAC;EAClD,CAAG;EAEDN,SAAS,CAAChT,KAAK,CAACuT,KAAK,EAAEzT,SAAS,CAAC;EAEjC,OAAOyT,KAAK;AACd;ACzCe,SAASI,IAAI,GAAG;EAC7B,IAAIJ,KAAK,GAAGF,OAAO,EAAE,CAACC,OAAO,CAACxM,SAAS,CAAC;IACpCmM,MAAM,GAAGM,KAAK,CAACN,MAAM;IACrBW,YAAY,GAAGL,KAAK,CAACT,KAAK;IAC1Bb,EAAE,GAAG,CAAC;IACNE,EAAE,GAAG,CAAC;IACNhO,IAAI;IACJ0P,SAAS;IACT3B,KAAK,GAAG,KAAK;IACb4B,YAAY,GAAG,CAAC;IAChBC,YAAY,GAAG,CAAC;IAChBC,KAAK,GAAG,GAAG;EAEf,OAAOT,KAAK,CAACD,OAAO;EAEpB,SAASW,OAAO,GAAG;IACjB,IAAI1T,CAAC,GAAG0S,MAAM,EAAE,CAAClT,MAAM;MACnB+R,OAAO,GAAGK,EAAE,GAAGF,EAAE;MACjBN,KAAK,GAAGG,OAAO,GAAGK,EAAE,GAAGF,EAAE;MACzBL,IAAI,GAAGE,OAAO,GAAGG,EAAE,GAAGE,EAAE;IAC5BhO,IAAI,GAAG,CAACyN,IAAI,GAAGD,KAAK,IAAIhE,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAEjQ,CAAC,GAAGuT,YAAY,GAAGC,YAAY,GAAG,CAAC,CAAC;IACxE,IAAI7B,KAAK,EAAE/N,IAAI,GAAGwJ,IAAI,CAAC0E,KAAK,CAAClO,IAAI,CAAC;IAClCwN,KAAK,IAAI,CAACC,IAAI,GAAGD,KAAK,GAAGxN,IAAI,IAAI5D,CAAC,GAAGuT,YAAY,CAAC,IAAIE,KAAK;IAC3DH,SAAS,GAAG1P,IAAI,IAAI,CAAC,GAAG2P,YAAY,CAAC;IACrC,IAAI5B,KAAK,EAAEP,KAAK,GAAGhE,IAAI,CAACuE,KAAK,CAACP,KAAK,CAAC,EAAEkC,SAAS,GAAGlG,IAAI,CAACuE,KAAK,CAAC2B,SAAS,CAAC;IACvE,IAAIpN,MAAM,GAAGyN,KAAQ,CAAC3T,CAAC,CAAC,CAACyF,GAAG,CAAC,UAASiK,CAAC,EAAE;MAAE,OAAO0B,KAAK,GAAGxN,IAAI,GAAG8L,CAAC;IAAC,CAAE,CAAC;IACtE,OAAO2D,YAAY,CAAC9B,OAAO,GAAGrL,MAAM,CAACqL,OAAO,EAAE,GAAGrL,MAAM,CAAC;EAC5D;EAEE8M,KAAK,CAACN,MAAM,GAAG,UAASO,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIkT,MAAM,CAACO,CAAC,CAAC,EAAES,OAAO,EAAE,IAAIhB,MAAM,EAAE;EAC/D,CAAG;EAEDM,KAAK,CAACT,KAAK,GAAG,UAASU,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAI,CAACkS,EAAE,EAAEE,EAAE,CAAC,GAAGqB,CAAC,EAAEvB,EAAE,GAAG,CAACA,EAAE,EAAEE,EAAE,GAAG,CAACA,EAAE,EAAE8B,OAAO,EAAE,IAAI,CAAChC,EAAE,EAAEE,EAAE,CAAC;EACtF,CAAG;EAEDoB,KAAK,CAACY,UAAU,GAAG,UAASX,CAAC,EAAE;IAC7B,OAAO,CAACvB,EAAE,EAAEE,EAAE,CAAC,GAAGqB,CAAC,EAAEvB,EAAE,GAAG,CAACA,EAAE,EAAEE,EAAE,GAAG,CAACA,EAAE,EAAED,KAAK,GAAG,IAAI,EAAE+B,OAAO,EAAE;EACpE,CAAG;EAEDV,KAAK,CAACM,SAAS,GAAG,YAAW;IAC3B,OAAOA,SAAS;EACpB,CAAG;EAEDN,KAAK,CAACpP,IAAI,GAAG,YAAW;IACtB,OAAOA,IAAI;EACf,CAAG;EAEDoP,KAAK,CAACrB,KAAK,GAAG,UAASsB,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAImS,KAAK,GAAG,CAAC,CAACsB,CAAC,EAAES,OAAO,EAAE,IAAI/B,KAAK;EAC9D,CAAG;EAEDqB,KAAK,CAACa,OAAO,GAAG,UAASZ,CAAC,EAAE;IAC1B,OAAO1T,SAAS,CAACC,MAAM,IAAI+T,YAAY,GAAGnG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEmG,YAAY,GAAG,CAACP,CAAC,CAAC,EAAES,OAAO,EAAE,IAAIH,YAAY;EACvG,CAAG;EAEDP,KAAK,CAACO,YAAY,GAAG,UAASN,CAAC,EAAE;IAC/B,OAAO1T,SAAS,CAACC,MAAM,IAAI+T,YAAY,GAAGnG,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE4F,CAAC,CAAC,EAAES,OAAO,EAAE,IAAIH,YAAY;EACvF,CAAG;EAEDP,KAAK,CAACQ,YAAY,GAAG,UAASP,CAAC,EAAE;IAC/B,OAAO1T,SAAS,CAACC,MAAM,IAAIgU,YAAY,GAAG,CAACP,CAAC,EAAES,OAAO,EAAE,IAAIF,YAAY;EAC3E,CAAG;EAEDR,KAAK,CAACS,KAAK,GAAG,UAASR,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAIiU,KAAK,GAAGrG,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE4F,CAAC,CAAC,CAAC,EAAES,OAAO,EAAE,IAAID,KAAK;EACtF,CAAG;EAEDT,KAAK,CAACG,IAAI,GAAG,YAAW;IACtB,OAAOC,IAAI,CAACV,MAAM,EAAE,EAAE,CAAChB,EAAE,EAAEE,EAAE,CAAC,CAAC,CAC1BD,KAAK,CAACA,KAAK,CAAC,CACZ4B,YAAY,CAACA,YAAY,CAAC,CAC1BC,YAAY,CAACA,YAAY,CAAC,CAC1BC,KAAK,CAACA,KAAK,CAAC;EACrB,CAAG;EAED,OAAOhB,SAAS,CAAChT,KAAK,CAACiU,OAAO,EAAE,EAAEnU,SAAS,CAAC;AAC9C;AClFe,eAAQ,CAAC6I,WAAW,EAAE0L,OAAO,EAAEjS,SAAS,EAAE;EACvDuG,WAAW,CAACvG,SAAS,GAAGiS,OAAO,CAACjS,SAAS,GAAGA,SAAS;EACrDA,SAAS,CAACuG,WAAW,GAAGA,WAAW;AACrC;AAEO,SAAS2L,MAAM,CAACC,MAAM,EAAEC,UAAU,EAAE;EACzC,IAAIpS,SAAS,GAAGD,MAAM,CAACsS,MAAM,CAACF,MAAM,CAACnS,SAAS,CAAC;EAC/C,KAAK,IAAI6D,GAAG,IAAIuO,UAAU,EAAEpS,SAAS,CAAC6D,GAAG,CAAC,GAAGuO,UAAU,CAACvO,GAAG,CAAC;EAC5D,OAAO7D,SAAS;AAClB;ACPO,SAASsS,KAAK,GAAG;AAEjB,IAAIC,MAAM,GAAG,GAAG;AAChB,IAAIC,QAAQ,GAAG,CAAC,GAAGD,MAAM;AAEhC,IAAIE,GAAG,GAAG,qBAAqB;EAC3BC,GAAG,GAAG,mDAAmD;EACzDC,GAAG,GAAG,oDAAoD;EAC1DC,KAAK,GAAG,oBAAoB;EAC5BC,YAAY,GAAG,IAAIC,MAAM,CAAE,UAASL,GAAI,IAAGA,GAAI,IAAGA,GAAI,MAAK,CAAC;EAC5DM,YAAY,GAAG,IAAID,MAAM,CAAE,UAASH,GAAI,IAAGA,GAAI,IAAGA,GAAI,MAAK,CAAC;EAC5DK,aAAa,GAAG,IAAIF,MAAM,CAAE,WAAUL,GAAI,IAAGA,GAAI,IAAGA,GAAI,IAAGC,GAAI,MAAK,CAAC;EACrEO,aAAa,GAAG,IAAIH,MAAM,CAAE,WAAUH,GAAI,IAAGA,GAAI,IAAGA,GAAI,IAAGD,GAAI,MAAK,CAAC;EACrEQ,YAAY,GAAG,IAAIJ,MAAM,CAAE,UAASJ,GAAI,IAAGC,GAAI,IAAGA,GAAI,MAAK,CAAC;EAC5DQ,aAAa,GAAG,IAAIL,MAAM,CAAE,WAAUJ,GAAI,IAAGC,GAAI,IAAGA,GAAI,IAAGD,GAAI,MAAK,CAAC;AAEzE,IAAIU,KAAK,GAAG;EACVC,SAAS,EAAE,QAAQ;EACnBC,YAAY,EAAE,QAAQ;EACtBC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,QAAQ;EACpBC,KAAK,EAAE,QAAQ;EACfC,KAAK,EAAE,QAAQ;EACfC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,QAAQ;EACfC,cAAc,EAAE,QAAQ;EACxBC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,QAAQ;EACpBC,KAAK,EAAE,QAAQ;EACfC,SAAS,EAAE,QAAQ;EACnBC,SAAS,EAAE,QAAQ;EACnBC,UAAU,EAAE,QAAQ;EACpBC,SAAS,EAAE,QAAQ;EACnBC,KAAK,EAAE,QAAQ;EACfC,cAAc,EAAE,QAAQ;EACxBC,QAAQ,EAAE,QAAQ;EAClBC,OAAO,EAAE,QAAQ;EACjBC,IAAI,EAAE,QAAQ;EACdC,QAAQ,EAAE,QAAQ;EAClBC,QAAQ,EAAE,QAAQ;EAClBC,aAAa,EAAE,QAAQ;EACvBC,QAAQ,EAAE,QAAQ;EAClBC,SAAS,EAAE,QAAQ;EACnBC,QAAQ,EAAE,QAAQ;EAClBC,SAAS,EAAE,QAAQ;EACnBC,WAAW,EAAE,QAAQ;EACrBC,cAAc,EAAE,QAAQ;EACxBC,UAAU,EAAE,QAAQ;EACpBC,UAAU,EAAE,QAAQ;EACpBC,OAAO,EAAE,QAAQ;EACjBC,UAAU,EAAE,QAAQ;EACpBC,YAAY,EAAE,QAAQ;EACtBC,aAAa,EAAE,QAAQ;EACvBC,aAAa,EAAE,QAAQ;EACvBC,aAAa,EAAE,QAAQ;EACvBC,aAAa,EAAE,QAAQ;EACvBC,UAAU,EAAE,QAAQ;EACpBC,QAAQ,EAAE,QAAQ;EAClBC,WAAW,EAAE,QAAQ;EACrBC,OAAO,EAAE,QAAQ;EACjBC,OAAO,EAAE,QAAQ;EACjBC,UAAU,EAAE,QAAQ;EACpBC,SAAS,EAAE,QAAQ;EACnBC,WAAW,EAAE,QAAQ;EACrBC,WAAW,EAAE,QAAQ;EACrBC,OAAO,EAAE,QAAQ;EACjBC,SAAS,EAAE,QAAQ;EACnBC,UAAU,EAAE,QAAQ;EACpBC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAE,QAAQ;EACnBC,IAAI,EAAE,QAAQ;EACdC,KAAK,EAAE,QAAQ;EACfC,WAAW,EAAE,QAAQ;EACrBC,IAAI,EAAE,QAAQ;EACdC,QAAQ,EAAE,QAAQ;EAClBC,OAAO,EAAE,QAAQ;EACjBC,SAAS,EAAE,QAAQ;EACnBC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,QAAQ;EACfC,KAAK,EAAE,QAAQ;EACfC,QAAQ,EAAE,QAAQ;EAClBC,aAAa,EAAE,QAAQ;EACvBC,SAAS,EAAE,QAAQ;EACnBC,YAAY,EAAE,QAAQ;EACtBC,SAAS,EAAE,QAAQ;EACnBC,UAAU,EAAE,QAAQ;EACpBC,SAAS,EAAE,QAAQ;EACnBC,oBAAoB,EAAE,QAAQ;EAC9BC,SAAS,EAAE,QAAQ;EACnBC,UAAU,EAAE,QAAQ;EACpBC,SAAS,EAAE,QAAQ;EACnBC,SAAS,EAAE,QAAQ;EACnBC,WAAW,EAAE,QAAQ;EACrBC,aAAa,EAAE,QAAQ;EACvBC,YAAY,EAAE,QAAQ;EACtBC,cAAc,EAAE,QAAQ;EACxBC,cAAc,EAAE,QAAQ;EACxBC,cAAc,EAAE,QAAQ;EACxBC,WAAW,EAAE,QAAQ;EACrBC,IAAI,EAAE,QAAQ;EACdC,SAAS,EAAE,QAAQ;EACnBC,KAAK,EAAE,QAAQ;EACfC,OAAO,EAAE,QAAQ;EACjBC,MAAM,EAAE,QAAQ;EAChBC,gBAAgB,EAAE,QAAQ;EAC1BC,UAAU,EAAE,QAAQ;EACpBC,YAAY,EAAE,QAAQ;EACtBC,YAAY,EAAE,QAAQ;EACtBC,cAAc,EAAE,QAAQ;EACxBC,eAAe,EAAE,QAAQ;EACzBC,iBAAiB,EAAE,QAAQ;EAC3BC,eAAe,EAAE,QAAQ;EACzBC,eAAe,EAAE,QAAQ;EACzBC,YAAY,EAAE,QAAQ;EACtBC,SAAS,EAAE,QAAQ;EACnBC,SAAS,EAAE,QAAQ;EACnBC,QAAQ,EAAE,QAAQ;EAClBC,WAAW,EAAE,QAAQ;EACrBC,IAAI,EAAE,QAAQ;EACdC,OAAO,EAAE,QAAQ;EACjBC,KAAK,EAAE,QAAQ;EACfC,SAAS,EAAE,QAAQ;EACnBC,MAAM,EAAE,QAAQ;EAChBC,SAAS,EAAE,QAAQ;EACnBC,MAAM,EAAE,QAAQ;EAChBC,aAAa,EAAE,QAAQ;EACvBC,SAAS,EAAE,QAAQ;EACnBC,aAAa,EAAE,QAAQ;EACvBC,aAAa,EAAE,QAAQ;EACvBC,UAAU,EAAE,QAAQ;EACpBC,SAAS,EAAE,QAAQ;EACnBC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,IAAI,EAAE,QAAQ;EACdC,UAAU,EAAE,QAAQ;EACpBC,MAAM,EAAE,QAAQ;EAChBC,aAAa,EAAE,QAAQ;EACvBC,GAAG,EAAE,QAAQ;EACbC,SAAS,EAAE,QAAQ;EACnBC,SAAS,EAAE,QAAQ;EACnBC,WAAW,EAAE,QAAQ;EACrBC,MAAM,EAAE,QAAQ;EAChBC,UAAU,EAAE,QAAQ;EACpBC,QAAQ,EAAE,QAAQ;EAClBC,QAAQ,EAAE,QAAQ;EAClBC,MAAM,EAAE,QAAQ;EAChBC,MAAM,EAAE,QAAQ;EAChBC,OAAO,EAAE,QAAQ;EACjBC,SAAS,EAAE,QAAQ;EACnBC,SAAS,EAAE,QAAQ;EACnBC,SAAS,EAAE,QAAQ;EACnBC,IAAI,EAAE,QAAQ;EACdC,WAAW,EAAE,QAAQ;EACrBC,SAAS,EAAE,QAAQ;EACnBC,GAAG,EAAE,QAAQ;EACbC,IAAI,EAAE,QAAQ;EACdC,OAAO,EAAE,QAAQ;EACjBC,MAAM,EAAE,QAAQ;EAChBC,SAAS,EAAE,QAAQ;EACnBC,MAAM,EAAE,QAAQ;EAChBC,KAAK,EAAE,QAAQ;EACfC,KAAK,EAAE,QAAQ;EACfC,UAAU,EAAE,QAAQ;EACpBC,MAAM,EAAE,QAAQ;EAChBC,WAAW,EAAE;AACf,CAAC;AAEDC,MAAM,CAACnK,KAAK,EAAEoK,KAAK,EAAE;EACnBpL,IAAI,CAACqL,QAAQ,EAAE;IACb,OAAO5c,MAAM,CAAC6c,MAAM,CAAC,IAAI,IAAI,CAACrW,WAAW,IAAE,IAAI,EAAEoW,QAAQ,CAAC;EAC9D,CAAG;EACDE,WAAW,GAAG;IACZ,OAAO,IAAI,CAACC,GAAG,EAAE,CAACD,WAAW,EAAE;EACnC,CAAG;EACDE,GAAG,EAAEC,eAAe;EAAA;EACpBC,SAAS,EAAED,eAAe;EAC1BE,UAAU,EAAEC,gBAAgB;EAC5BC,SAAS,EAAEC,eAAe;EAC1BC,SAAS,EAAEC,eAAe;EAC1Btd,QAAQ,EAAEsd;AACZ,CAAC,CAAC;AAEF,SAASP,eAAe,GAAG;EACzB,OAAO,IAAI,CAACF,GAAG,EAAE,CAACG,SAAS,EAAE;AAC/B;AAEA,SAASE,gBAAgB,GAAG;EAC1B,OAAO,IAAI,CAACL,GAAG,EAAE,CAACI,UAAU,EAAE;AAChC;AAEA,SAASG,eAAe,GAAG;EACzB,OAAOG,UAAU,CAAC,IAAI,CAAC,CAACJ,SAAS,EAAE;AACrC;AAEA,SAASG,eAAe,GAAG;EACzB,OAAO,IAAI,CAACT,GAAG,EAAE,CAACQ,SAAS,EAAE;AAC/B;AAEe,SAASZ,KAAK,CAACe,MAAM,EAAE;EACpC,IAAIC,CAAC,EAAElT,CAAC;EACRiT,MAAM,GAAG,CAACA,MAAM,GAAG,EAAE,EAAEE,IAAI,EAAE,CAAC3Q,WAAW,EAAE;EAC3C,OAAO,CAAC0Q,CAAC,GAAG9K,KAAK,CAACgL,IAAI,CAACH,MAAM,CAAC,KAAKjT,CAAC,GAAGkT,CAAC,CAAC,CAAC,CAAC,CAAC/f,MAAM,EAAE+f,CAAC,GAAGG,QAAQ,CAACH,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,EAAElT,CAAC,KAAK,CAAC,GAAGsT,IAAI,CAACJ,CAAC,CAAC;EAAA,EACvFlT,CAAC,KAAK,CAAC,GAAG,IAAIuT,GAAG,CAAEL,CAAC,IAAI,CAAC,GAAG,GAAG,GAAKA,CAAC,IAAI,CAAC,GAAG,IAAK,EAAGA,CAAC,IAAI,CAAC,GAAG,GAAG,GAAKA,CAAC,GAAG,IAAK,EAAG,CAACA,CAAC,GAAG,GAAG,KAAK,CAAC,GAAKA,CAAC,GAAG,GAAI,EAAE,CAAC,CAAC;EAAA,EACjHlT,CAAC,KAAK,CAAC,GAAGwT,IAAI,CAACN,CAAC,IAAI,EAAE,GAAG,IAAI,EAAEA,CAAC,IAAI,EAAE,GAAG,IAAI,EAAEA,CAAC,IAAI,CAAC,GAAG,IAAI,EAAE,CAACA,CAAC,GAAG,IAAI,IAAI,IAAI,CAAC;EAAA,EAChFlT,CAAC,KAAK,CAAC,GAAGwT,IAAI,CAAEN,CAAC,IAAI,EAAE,GAAG,GAAG,GAAKA,CAAC,IAAI,CAAC,GAAG,IAAK,EAAGA,CAAC,IAAI,CAAC,GAAG,GAAG,GAAKA,CAAC,IAAI,CAAC,GAAG,IAAK,EAAGA,CAAC,IAAI,CAAC,GAAG,GAAG,GAAKA,CAAC,GAAG,IAAK,EAAE,CAAE,CAACA,CAAC,GAAG,GAAG,KAAK,CAAC,GAAKA,CAAC,GAAG,GAAI,IAAI,IAAI,CAAC;EAAA,EACvJ,IAAI;EAAA,IACJ,CAACA,CAAC,GAAG7K,YAAY,CAAC+K,IAAI,CAACH,MAAM,CAAC,IAAI,IAAIM,GAAG,CAACL,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;EAAA,EAC9D,CAACA,CAAC,GAAG3K,YAAY,CAAC6K,IAAI,CAACH,MAAM,CAAC,IAAI,IAAIM,GAAG,CAACL,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC,CAAC;EAAA,EAClG,CAACA,CAAC,GAAG1K,aAAa,CAAC4K,IAAI,CAACH,MAAM,CAAC,IAAIO,IAAI,CAACN,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EAAA,EAC/D,CAACA,CAAC,GAAGzK,aAAa,CAAC2K,IAAI,CAACH,MAAM,CAAC,IAAIO,IAAI,CAACN,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EAAA,EACnG,CAACA,CAAC,GAAGxK,YAAY,CAAC0K,IAAI,CAACH,MAAM,CAAC,IAAIQ,IAAI,CAACP,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;EAAA,EACvE,CAACA,CAAC,GAAGvK,aAAa,CAACyK,IAAI,CAACH,MAAM,CAAC,IAAIQ,IAAI,CAACP,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,EAAEA,CAAC,CAAC,CAAC,CAAC,CAAC;EAAA,EAC3EtK,KAAK,CAAChS,cAAc,CAACqc,MAAM,CAAC,GAAGK,IAAI,CAAC1K,KAAK,CAACqK,MAAM,CAAC,CAAC;EAAA,EAClDA,MAAM,KAAK,aAAa,GAAG,IAAIM,GAAG,CAAChU,GAAG,EAAEA,GAAG,EAAEA,GAAG,EAAE,CAAC,CAAC,GACpD,IAAI;AACZ;AAEA,SAAS+T,IAAI,CAAC3f,CAAC,EAAE;EACf,OAAO,IAAI4f,GAAG,CAAC5f,CAAC,IAAI,EAAE,GAAG,IAAI,EAAEA,CAAC,IAAI,CAAC,GAAG,IAAI,EAAEA,CAAC,GAAG,IAAI,EAAE,CAAC,CAAC;AAC5D;AAEA,SAAS6f,IAAI,CAACvT,CAAC,EAAE7F,CAAC,EAAE7G,CAAC,EAAET,CAAC,EAAE;EACxB,IAAIA,CAAC,IAAI,CAAC,EAAEmN,CAAC,GAAG7F,CAAC,GAAG7G,CAAC,GAAGgM,GAAG;EAC3B,OAAO,IAAIgU,GAAG,CAACtT,CAAC,EAAE7F,CAAC,EAAE7G,CAAC,EAAET,CAAC,CAAC;AAC5B;AAEO,SAAS4gB,UAAU,CAACC,CAAC,EAAE;EAC5B,IAAI,EAAEA,CAAC,YAAY7L,KAAK,CAAC,EAAE6L,CAAC,GAAGzB,KAAK,CAACyB,CAAC,CAAC;EACvC,IAAI,CAACA,CAAC,EAAE,OAAO,IAAIJ,GAAG;EACtBI,CAAC,GAAGA,CAAC,CAACrB,GAAG,EAAE;EACX,OAAO,IAAIiB,GAAG,CAACI,CAAC,CAAC1T,CAAC,EAAE0T,CAAC,CAACvZ,CAAC,EAAEuZ,CAAC,CAACpgB,CAAC,EAAEogB,CAAC,CAACC,OAAO,CAAC;AAC1C;AAEO,SAAStB,KAAG,CAACrS,CAAC,EAAE7F,CAAC,EAAE7G,CAAC,EAAEqgB,OAAO,EAAE;EACpC,OAAO1gB,SAAS,CAACC,MAAM,KAAK,CAAC,GAAGugB,UAAU,CAACzT,CAAC,CAAC,GAAG,IAAIsT,GAAG,CAACtT,CAAC,EAAE7F,CAAC,EAAE7G,CAAC,EAAEqgB,OAAO,IAAI,IAAI,GAAG,CAAC,GAAGA,OAAO,CAAC;AACjG;AAEO,SAASL,GAAG,CAACtT,CAAC,EAAE7F,CAAC,EAAE7G,CAAC,EAAEqgB,OAAO,EAAE;EACpC,IAAI,CAAC3T,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAC7F,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAC7G,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAACqgB,OAAO,GAAG,CAACA,OAAO;AACzB;AAEA3B,MAAM,CAACsB,GAAG,EAAEjB,KAAG,EAAE5K,MAAM,CAACI,KAAK,EAAE;EAC7BE,QAAQ,CAAC9I,CAAC,EAAE;IACVA,CAAC,GAAGA,CAAC,IAAI,IAAI,GAAG8I,QAAQ,GAAGjH,IAAI,CAAC8E,GAAG,CAACmC,QAAQ,EAAE9I,CAAC,CAAC;IAChD,OAAO,IAAIqU,GAAG,CAAC,IAAI,CAACtT,CAAC,GAAGf,CAAC,EAAE,IAAI,CAAC9E,CAAC,GAAG8E,CAAC,EAAE,IAAI,CAAC3L,CAAC,GAAG2L,CAAC,EAAE,IAAI,CAAC0U,OAAO,CAAC;EACpE,CAAG;EACD7L,MAAM,CAAC7I,CAAC,EAAE;IACRA,CAAC,GAAGA,CAAC,IAAI,IAAI,GAAG6I,MAAM,GAAGhH,IAAI,CAAC8E,GAAG,CAACkC,MAAM,EAAE7I,CAAC,CAAC;IAC5C,OAAO,IAAIqU,GAAG,CAAC,IAAI,CAACtT,CAAC,GAAGf,CAAC,EAAE,IAAI,CAAC9E,CAAC,GAAG8E,CAAC,EAAE,IAAI,CAAC3L,CAAC,GAAG2L,CAAC,EAAE,IAAI,CAAC0U,OAAO,CAAC;EACpE,CAAG;EACDtB,GAAG,GAAG;IACJ,OAAO,IAAI;EACf,CAAG;EACDuB,KAAK,GAAG;IACN,OAAO,IAAIN,GAAG,CAACO,MAAM,CAAC,IAAI,CAAC7T,CAAC,CAAC,EAAE6T,MAAM,CAAC,IAAI,CAAC1Z,CAAC,CAAC,EAAE0Z,MAAM,CAAC,IAAI,CAACvgB,CAAC,CAAC,EAAEwgB,MAAM,CAAC,IAAI,CAACH,OAAO,CAAC,CAAC;EACxF,CAAG;EACDvB,WAAW,GAAG;IACZ,OAAQ,CAAC,GAAG,IAAI,IAAI,CAACpS,CAAC,IAAI,IAAI,CAACA,CAAC,GAAG,KAAK,IAChC,CAAC,GAAG,IAAI,IAAI,CAAC7F,CAAC,IAAI,IAAI,CAACA,CAAC,GAAG,KAAM,IACjC,CAAC,GAAG,IAAI,IAAI,CAAC7G,CAAC,IAAI,IAAI,CAACA,CAAC,GAAG,KAAM,IACjC,CAAC,IAAI,IAAI,CAACqgB,OAAO,IAAI,IAAI,CAACA,OAAO,IAAI,CAAE;EACnD,CAAG;EACDrB,GAAG,EAAEyB,aAAa;EAAA;EAClBvB,SAAS,EAAEuB,aAAa;EACxBtB,UAAU,EAAEuB,cAAc;EAC1BnB,SAAS,EAAEoB,aAAa;EACxBze,QAAQ,EAAEye;AACZ,CAAC,CAAC,CAAC;AAEH,SAASF,aAAa,GAAG;EACvB,OAAQ,IAAGzB,GAAG,CAAC,IAAI,CAACtS,CAAC,CAAE,GAAEsS,GAAG,CAAC,IAAI,CAACnY,CAAC,CAAE,GAAEmY,GAAG,CAAC,IAAI,CAAChf,CAAC,CAAE,EAAC;AACtD;AAEA,SAAS0gB,cAAc,GAAG;EACxB,OAAQ,IAAG1B,GAAG,CAAC,IAAI,CAACtS,CAAC,CAAE,GAAEsS,GAAG,CAAC,IAAI,CAACnY,CAAC,CAAE,GAAEmY,GAAG,CAAC,IAAI,CAAChf,CAAC,CAAE,GAAEgf,GAAG,CAAC,CAACjT,KAAK,CAAC,IAAI,CAACsU,OAAO,CAAC,GAAG,CAAC,GAAG,IAAI,CAACA,OAAO,IAAI,GAAG,CAAE,EAAC;AAC5G;AAEA,SAASM,aAAa,GAAG;EACvB,MAAMphB,CAAC,GAAGihB,MAAM,CAAC,IAAI,CAACH,OAAO,CAAC;EAC9B,OAAQ,GAAE9gB,CAAC,KAAK,CAAC,GAAG,MAAM,GAAG,OAAQ,GAAEghB,MAAM,CAAC,IAAI,CAAC7T,CAAC,CAAE,KAAI6T,MAAM,CAAC,IAAI,CAAC1Z,CAAC,CAAE,KAAI0Z,MAAM,CAAC,IAAI,CAACvgB,CAAC,CAAE,GAAET,CAAC,KAAK,CAAC,GAAG,GAAG,GAAI,KAAIA,CAAE,GAAG,EAAC;AAC3H;AAEA,SAASihB,MAAM,CAACH,OAAO,EAAE;EACvB,OAAOtU,KAAK,CAACsU,OAAO,CAAC,GAAG,CAAC,GAAG7S,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,CAAC,EAAE4S,OAAO,CAAC,CAAC;AAC/D;AAEA,SAASE,MAAM,CAACpc,KAAK,EAAE;EACrB,OAAOqJ,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,GAAG,EAAED,IAAI,CAACuE,KAAK,CAAC5N,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC;AAC3D;AAEA,SAAS6a,GAAG,CAAC7a,KAAK,EAAE;EAClBA,KAAK,GAAGoc,MAAM,CAACpc,KAAK,CAAC;EACrB,OAAO,CAACA,KAAK,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,IAAIA,KAAK,CAACjC,QAAQ,CAAC,EAAE,CAAC;AACrD;AAEA,SAASge,IAAI,CAACU,CAAC,EAAE/W,CAAC,EAAE4C,CAAC,EAAElN,CAAC,EAAE;EACxB,IAAIA,CAAC,IAAI,CAAC,EAAEqhB,CAAC,GAAG/W,CAAC,GAAG4C,CAAC,GAAGT,GAAG,CAAC,KACvB,IAAIS,CAAC,IAAI,CAAC,IAAIA,CAAC,IAAI,CAAC,EAAEmU,CAAC,GAAG/W,CAAC,GAAGmC,GAAG,CAAC,KAClC,IAAInC,CAAC,IAAI,CAAC,EAAE+W,CAAC,GAAG5U,GAAG;EACxB,OAAO,IAAI6U,GAAG,CAACD,CAAC,EAAE/W,CAAC,EAAE4C,CAAC,EAAElN,CAAC,CAAC;AAC5B;AAEO,SAASkgB,UAAU,CAACW,CAAC,EAAE;EAC5B,IAAIA,CAAC,YAAYS,GAAG,EAAE,OAAO,IAAIA,GAAG,CAACT,CAAC,CAACQ,CAAC,EAAER,CAAC,CAACvW,CAAC,EAAEuW,CAAC,CAAC3T,CAAC,EAAE2T,CAAC,CAACC,OAAO,CAAC;EAC9D,IAAI,EAAED,CAAC,YAAY7L,KAAK,CAAC,EAAE6L,CAAC,GAAGzB,KAAK,CAACyB,CAAC,CAAC;EACvC,IAAI,CAACA,CAAC,EAAE,OAAO,IAAIS,GAAG;EACtB,IAAIT,CAAC,YAAYS,GAAG,EAAE,OAAOT,CAAC;EAC9BA,CAAC,GAAGA,CAAC,CAACrB,GAAG,EAAE;EACX,IAAIrS,CAAC,GAAG0T,CAAC,CAAC1T,CAAC,GAAG,GAAG;IACb7F,CAAC,GAAGuZ,CAAC,CAACvZ,CAAC,GAAG,GAAG;IACb7G,CAAC,GAAGogB,CAAC,CAACpgB,CAAC,GAAG,GAAG;IACbyN,GAAG,GAAGD,IAAI,CAACC,GAAG,CAACf,CAAC,EAAE7F,CAAC,EAAE7G,CAAC,CAAC;IACvBqQ,GAAG,GAAG7C,IAAI,CAAC6C,GAAG,CAAC3D,CAAC,EAAE7F,CAAC,EAAE7G,CAAC,CAAC;IACvB4gB,CAAC,GAAG5U,GAAG;IACPnC,CAAC,GAAGwG,GAAG,GAAG5C,GAAG;IACbhB,CAAC,GAAG,CAAC4D,GAAG,GAAG5C,GAAG,IAAI,CAAC;EACvB,IAAI5D,CAAC,EAAE;IACL,IAAI6C,CAAC,KAAK2D,GAAG,EAAEuQ,CAAC,GAAG,CAAC/Z,CAAC,GAAG7G,CAAC,IAAI6J,CAAC,GAAG,CAAChD,CAAC,GAAG7G,CAAC,IAAI,CAAC,CAAC,KACxC,IAAI6G,CAAC,KAAKwJ,GAAG,EAAEuQ,CAAC,GAAG,CAAC5gB,CAAC,GAAG0M,CAAC,IAAI7C,CAAC,GAAG,CAAC,CAAC,KACnC+W,CAAC,GAAG,CAAClU,CAAC,GAAG7F,CAAC,IAAIgD,CAAC,GAAG,CAAC;IACxBA,CAAC,IAAI4C,CAAC,GAAG,GAAG,GAAG4D,GAAG,GAAG5C,GAAG,GAAG,CAAC,GAAG4C,GAAG,GAAG5C,GAAG;IACxCmT,CAAC,IAAI,EAAE;EACX,CAAG,MAAM;IACL/W,CAAC,GAAG4C,CAAC,GAAG,CAAC,IAAIA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGmU,CAAC;EAC9B;EACE,OAAO,IAAIC,GAAG,CAACD,CAAC,EAAE/W,CAAC,EAAE4C,CAAC,EAAE2T,CAAC,CAACC,OAAO,CAAC;AACpC;AAEO,SAASS,GAAG,CAACF,CAAC,EAAE/W,CAAC,EAAE4C,CAAC,EAAE4T,OAAO,EAAE;EACpC,OAAO1gB,SAAS,CAACC,MAAM,KAAK,CAAC,GAAG6f,UAAU,CAACmB,CAAC,CAAC,GAAG,IAAIC,GAAG,CAACD,CAAC,EAAE/W,CAAC,EAAE4C,CAAC,EAAE4T,OAAO,IAAI,IAAI,GAAG,CAAC,GAAGA,OAAO,CAAC;AACjG;AAEA,SAASQ,GAAG,CAACD,CAAC,EAAE/W,CAAC,EAAE4C,CAAC,EAAE4T,OAAO,EAAE;EAC7B,IAAI,CAACO,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAC/W,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAC4C,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAC4T,OAAO,GAAG,CAACA,OAAO;AACzB;AAEA3B,MAAM,CAACmC,GAAG,EAAEC,GAAG,EAAE3M,MAAM,CAACI,KAAK,EAAE;EAC7BE,QAAQ,CAAC9I,CAAC,EAAE;IACVA,CAAC,GAAGA,CAAC,IAAI,IAAI,GAAG8I,QAAQ,GAAGjH,IAAI,CAAC8E,GAAG,CAACmC,QAAQ,EAAE9I,CAAC,CAAC;IAChD,OAAO,IAAIkV,GAAG,CAAC,IAAI,CAACD,CAAC,EAAE,IAAI,CAAC/W,CAAC,EAAE,IAAI,CAAC4C,CAAC,GAAGd,CAAC,EAAE,IAAI,CAAC0U,OAAO,CAAC;EAC5D,CAAG;EACD7L,MAAM,CAAC7I,CAAC,EAAE;IACRA,CAAC,GAAGA,CAAC,IAAI,IAAI,GAAG6I,MAAM,GAAGhH,IAAI,CAAC8E,GAAG,CAACkC,MAAM,EAAE7I,CAAC,CAAC;IAC5C,OAAO,IAAIkV,GAAG,CAAC,IAAI,CAACD,CAAC,EAAE,IAAI,CAAC/W,CAAC,EAAE,IAAI,CAAC4C,CAAC,GAAGd,CAAC,EAAE,IAAI,CAAC0U,OAAO,CAAC;EAC5D,CAAG;EACDtB,GAAG,GAAG;IACJ,IAAI6B,CAAC,GAAG,IAAI,CAACA,CAAC,GAAG,GAAG,GAAG,CAAC,IAAI,CAACA,CAAC,GAAG,CAAC,IAAI,GAAG;MACrC/W,CAAC,GAAGkC,KAAK,CAAC6U,CAAC,CAAC,IAAI7U,KAAK,CAAC,IAAI,CAAClC,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAACA,CAAC;MAC1C4C,CAAC,GAAG,IAAI,CAACA,CAAC;MACVsU,EAAE,GAAGtU,CAAC,GAAG,CAACA,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,CAAC,GAAGA,CAAC,IAAI5C,CAAC;MAClCmX,EAAE,GAAG,CAAC,GAAGvU,CAAC,GAAGsU,EAAE;IACnB,OAAO,IAAIf,GAAG,CACZiB,OAAO,CAACL,CAAC,IAAI,GAAG,GAAGA,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,GAAG,EAAEI,EAAE,EAAED,EAAE,CAAC,EAC7CE,OAAO,CAACL,CAAC,EAAEI,EAAE,EAAED,EAAE,CAAC,EAClBE,OAAO,CAACL,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,GAAG,EAAEI,EAAE,EAAED,EAAE,CAAC,EAC5C,IAAI,CAACV,OAAO,CACb;EACL,CAAG;EACDC,KAAK,GAAG;IACN,OAAO,IAAIO,GAAG,CAACK,MAAM,CAAC,IAAI,CAACN,CAAC,CAAC,EAAEO,MAAM,CAAC,IAAI,CAACtX,CAAC,CAAC,EAAEsX,MAAM,CAAC,IAAI,CAAC1U,CAAC,CAAC,EAAE+T,MAAM,CAAC,IAAI,CAACH,OAAO,CAAC,CAAC;EACxF,CAAG;EACDvB,WAAW,GAAG;IACZ,OAAO,CAAC,CAAC,IAAI,IAAI,CAACjV,CAAC,IAAI,IAAI,CAACA,CAAC,IAAI,CAAC,IAAIkC,KAAK,CAAC,IAAI,CAAClC,CAAC,CAAC,KAC3C,CAAC,IAAI,IAAI,CAAC4C,CAAC,IAAI,IAAI,CAACA,CAAC,IAAI,CAAE,IAC3B,CAAC,IAAI,IAAI,CAAC4T,OAAO,IAAI,IAAI,CAACA,OAAO,IAAI,CAAE;EACnD,CAAG;EACDhB,SAAS,GAAG;IACV,MAAM9f,CAAC,GAAGihB,MAAM,CAAC,IAAI,CAACH,OAAO,CAAC;IAC9B,OAAQ,GAAE9gB,CAAC,KAAK,CAAC,GAAG,MAAM,GAAG,OAAQ,GAAE2hB,MAAM,CAAC,IAAI,CAACN,CAAC,CAAE,KAAIO,MAAM,CAAC,IAAI,CAACtX,CAAC,CAAC,GAAG,GAAI,MAAKsX,MAAM,CAAC,IAAI,CAAC1U,CAAC,CAAC,GAAG,GAAI,IAAGlN,CAAC,KAAK,CAAC,GAAG,GAAG,GAAI,KAAIA,CAAE,GAAG,EAAC;EAC3I;AACA,CAAC,CAAC,CAAC;AAEH,SAAS2hB,MAAM,CAAC/c,KAAK,EAAE;EACrBA,KAAK,GAAG,CAACA,KAAK,IAAI,CAAC,IAAI,GAAG;EAC1B,OAAOA,KAAK,GAAG,CAAC,GAAGA,KAAK,GAAG,GAAG,GAAGA,KAAK;AACxC;AAEA,SAASgd,MAAM,CAAChd,KAAK,EAAE;EACrB,OAAOqJ,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEtJ,KAAK,IAAI,CAAC,CAAC,CAAC;AAC7C;;AAEA;AACA,SAAS8c,OAAO,CAACL,CAAC,EAAEI,EAAE,EAAED,EAAE,EAAE;EAC1B,OAAO,CAACH,CAAC,GAAG,EAAE,GAAGI,EAAE,GAAG,CAACD,EAAE,GAAGC,EAAE,IAAIJ,CAAC,GAAG,EAAE,GAClCA,CAAC,GAAG,GAAG,GAAGG,EAAE,GACZH,CAAC,GAAG,GAAG,GAAGI,EAAE,GAAG,CAACD,EAAE,GAAGC,EAAE,KAAK,GAAG,GAAGJ,CAAC,CAAC,GAAG,EAAE,GACzCI,EAAE,IAAI,GAAG;AACjB;AC3YO,MAAMI,OAAO,GAAG5T,IAAI,CAAC6T,EAAE,GAAG,GAAG;AAC7B,MAAMC,OAAO,GAAG,GAAG,GAAG9T,IAAI,CAAC6T,EAAE;;ACGpC;AACA,MAAME,CAAC,GAAG,EAAE;EACRC,EAAE,GAAG,OAAO;EACZC,EAAE,GAAG,CAAC;EACNC,EAAE,GAAG,OAAO;EACZC,EAAE,GAAG,CAAC,GAAG,EAAE;EACXC,EAAE,GAAG,CAAC,GAAG,EAAE;EACXC,EAAE,GAAG,CAAC,GAAGD,EAAE,GAAGA,EAAE;EAChBE,EAAE,GAAGF,EAAE,GAAGA,EAAE,GAAGA,EAAE;AAErB,SAASG,UAAU,CAAC3B,CAAC,EAAE;EACrB,IAAIA,CAAC,YAAY4B,GAAG,EAAE,OAAO,IAAIA,GAAG,CAAC5B,CAAC,CAAC3T,CAAC,EAAE2T,CAAC,CAAC7gB,CAAC,EAAE6gB,CAAC,CAACpgB,CAAC,EAAEogB,CAAC,CAACC,OAAO,CAAC;EAC9D,IAAID,CAAC,YAAY6B,GAAG,EAAE,OAAOC,OAAO,CAAC9B,CAAC,CAAC;EACvC,IAAI,EAAEA,CAAC,YAAYJ,GAAG,CAAC,EAAEI,CAAC,GAAGD,UAAU,CAACC,CAAC,CAAC;EAC1C,IAAI1T,CAAC,GAAGyV,QAAQ,CAAC/B,CAAC,CAAC1T,CAAC,CAAC;IACjB7F,CAAC,GAAGsb,QAAQ,CAAC/B,CAAC,CAACvZ,CAAC,CAAC;IACjB7G,CAAC,GAAGmiB,QAAQ,CAAC/B,CAAC,CAACpgB,CAAC,CAAC;IACjBwL,CAAC,GAAG4W,OAAO,CAAC,CAAC,SAAS,GAAG1V,CAAC,GAAG,SAAS,GAAG7F,CAAC,GAAG,SAAS,GAAG7G,CAAC,IAAIyhB,EAAE,CAAC;IAAEve,CAAC;IAAEmf,CAAC;EAC3E,IAAI3V,CAAC,KAAK7F,CAAC,IAAIA,CAAC,KAAK7G,CAAC,EAAEkD,CAAC,GAAGmf,CAAC,GAAG7W,CAAC,CAAC,KAAM;IACtCtI,CAAC,GAAGkf,OAAO,CAAC,CAAC,SAAS,GAAG1V,CAAC,GAAG,SAAS,GAAG7F,CAAC,GAAG,SAAS,GAAG7G,CAAC,IAAIwhB,EAAE,CAAC;IACjEa,CAAC,GAAGD,OAAO,CAAC,CAAC,SAAS,GAAG1V,CAAC,GAAG,SAAS,GAAG7F,CAAC,GAAG,SAAS,GAAG7G,CAAC,IAAI0hB,EAAE,CAAC;EACrE;EACE,OAAO,IAAIM,GAAG,CAAC,GAAG,GAAGxW,CAAC,GAAG,EAAE,EAAE,GAAG,IAAItI,CAAC,GAAGsI,CAAC,CAAC,EAAE,GAAG,IAAIA,CAAC,GAAG6W,CAAC,CAAC,EAAEjC,CAAC,CAACC,OAAO,CAAC;AACvE;AAMe,SAASiC,GAAG,CAAC7V,CAAC,EAAElN,CAAC,EAAES,CAAC,EAAEqgB,OAAO,EAAE;EAC5C,OAAO1gB,SAAS,CAACC,MAAM,KAAK,CAAC,GAAGmiB,UAAU,CAACtV,CAAC,CAAC,GAAG,IAAIuV,GAAG,CAACvV,CAAC,EAAElN,CAAC,EAAES,CAAC,EAAEqgB,OAAO,IAAI,IAAI,GAAG,CAAC,GAAGA,OAAO,CAAC;AACjG;AAEO,SAAS2B,GAAG,CAACvV,CAAC,EAAElN,CAAC,EAAES,CAAC,EAAEqgB,OAAO,EAAE;EACpC,IAAI,CAAC5T,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAClN,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAACS,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAACqgB,OAAO,GAAG,CAACA,OAAO;AACzB;AAEA3B,MAAM,CAACsD,GAAG,EAAEM,GAAG,EAAEnO,MAAM,CAACI,KAAK,EAAE;EAC7BE,QAAQ,CAAC9I,CAAC,EAAE;IACV,OAAO,IAAIqW,GAAG,CAAC,IAAI,CAACvV,CAAC,GAAG8U,CAAC,IAAI5V,CAAC,IAAI,IAAI,GAAG,CAAC,GAAGA,CAAC,CAAC,EAAE,IAAI,CAACpM,CAAC,EAAE,IAAI,CAACS,CAAC,EAAE,IAAI,CAACqgB,OAAO,CAAC;EAClF,CAAG;EACD7L,MAAM,CAAC7I,CAAC,EAAE;IACR,OAAO,IAAIqW,GAAG,CAAC,IAAI,CAACvV,CAAC,GAAG8U,CAAC,IAAI5V,CAAC,IAAI,IAAI,GAAG,CAAC,GAAGA,CAAC,CAAC,EAAE,IAAI,CAACpM,CAAC,EAAE,IAAI,CAACS,CAAC,EAAE,IAAI,CAACqgB,OAAO,CAAC;EAClF,CAAG;EACDtB,GAAG,GAAG;IACJ,IAAIvT,CAAC,GAAG,CAAC,IAAI,CAACiB,CAAC,GAAG,EAAE,IAAI,GAAG;MACvBvJ,CAAC,GAAG6I,KAAK,CAAC,IAAI,CAACxM,CAAC,CAAC,GAAGiM,CAAC,GAAGA,CAAC,GAAG,IAAI,CAACjM,CAAC,GAAG,GAAG;MACxC8iB,CAAC,GAAGtW,KAAK,CAAC,IAAI,CAAC/L,CAAC,CAAC,GAAGwL,CAAC,GAAGA,CAAC,GAAG,IAAI,CAACxL,CAAC,GAAG,GAAG;IAC5CkD,CAAC,GAAGse,EAAE,GAAGe,OAAO,CAACrf,CAAC,CAAC;IACnBsI,CAAC,GAAGiW,EAAE,GAAGc,OAAO,CAAC/W,CAAC,CAAC;IACnB6W,CAAC,GAAGX,EAAE,GAAGa,OAAO,CAACF,CAAC,CAAC;IACnB,OAAO,IAAIrC,GAAG,CACZwC,QAAQ,CAAE,SAAS,GAAGtf,CAAC,GAAG,SAAS,GAAGsI,CAAC,GAAG,SAAS,GAAG6W,CAAC,CAAC,EACxDG,QAAQ,CAAC,CAAC,SAAS,GAAGtf,CAAC,GAAG,SAAS,GAAGsI,CAAC,GAAG,SAAS,GAAG6W,CAAC,CAAC,EACxDG,QAAQ,CAAE,SAAS,GAAGtf,CAAC,GAAG,SAAS,GAAGsI,CAAC,GAAG,SAAS,GAAG6W,CAAC,CAAC,EACxD,IAAI,CAAChC,OAAO,CACb;EACL;AACA,CAAC,CAAC,CAAC;AAEH,SAAS+B,OAAO,CAACK,CAAC,EAAE;EAClB,OAAOA,CAAC,GAAGX,EAAE,GAAGtU,IAAI,CAAC8E,GAAG,CAACmQ,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,GAAGA,CAAC,GAAGZ,EAAE,GAAGF,EAAE;AAClD;AAEA,SAASY,OAAO,CAACE,CAAC,EAAE;EAClB,OAAOA,CAAC,GAAGb,EAAE,GAAGa,CAAC,GAAGA,CAAC,GAAGA,CAAC,GAAGZ,EAAE,IAAIY,CAAC,GAAGd,EAAE,CAAC;AAC3C;AAEA,SAASa,QAAQ,CAACtf,CAAC,EAAE;EACnB,OAAO,GAAG,IAAIA,CAAC,IAAI,SAAS,GAAG,KAAK,GAAGA,CAAC,GAAG,KAAK,GAAGsK,IAAI,CAAC8E,GAAG,CAACpP,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,GAAG,KAAK,CAAC;AAClF;AAEA,SAASif,QAAQ,CAACjf,CAAC,EAAE;EACnB,OAAO,CAACA,CAAC,IAAI,GAAG,KAAK,OAAO,GAAGA,CAAC,GAAG,KAAK,GAAGsK,IAAI,CAAC8E,GAAG,CAAC,CAACpP,CAAC,GAAG,KAAK,IAAI,KAAK,EAAE,GAAG,CAAC;AAC/E;AAEA,SAASwf,UAAU,CAACtC,CAAC,EAAE;EACrB,IAAIA,CAAC,YAAY6B,GAAG,EAAE,OAAO,IAAIA,GAAG,CAAC7B,CAAC,CAACQ,CAAC,EAAER,CAAC,CAAC1e,CAAC,EAAE0e,CAAC,CAAC3T,CAAC,EAAE2T,CAAC,CAACC,OAAO,CAAC;EAC9D,IAAI,EAAED,CAAC,YAAY4B,GAAG,CAAC,EAAE5B,CAAC,GAAG2B,UAAU,CAAC3B,CAAC,CAAC;EAC1C,IAAIA,CAAC,CAAC7gB,CAAC,KAAK,CAAC,IAAI6gB,CAAC,CAACpgB,CAAC,KAAK,CAAC,EAAE,OAAO,IAAIiiB,GAAG,CAACjW,GAAG,EAAE,CAAC,GAAGoU,CAAC,CAAC3T,CAAC,IAAI2T,CAAC,CAAC3T,CAAC,GAAG,GAAG,GAAG,CAAC,GAAGT,GAAG,EAAEoU,CAAC,CAAC3T,CAAC,EAAE2T,CAAC,CAACC,OAAO,CAAC;EAC/F,IAAIO,CAAC,GAAGpT,IAAI,CAACmV,KAAK,CAACvC,CAAC,CAACpgB,CAAC,EAAEogB,CAAC,CAAC7gB,CAAC,CAAC,GAAG+hB,OAAO;EACtC,OAAO,IAAIW,GAAG,CAACrB,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,GAAG,GAAGA,CAAC,EAAEpT,IAAI,CAAC4D,IAAI,CAACgP,CAAC,CAAC7gB,CAAC,GAAG6gB,CAAC,CAAC7gB,CAAC,GAAG6gB,CAAC,CAACpgB,CAAC,GAAGogB,CAAC,CAACpgB,CAAC,CAAC,EAAEogB,CAAC,CAAC3T,CAAC,EAAE2T,CAAC,CAACC,OAAO,CAAC;AACvF;AAMO,SAASuC,KAAG,CAAChC,CAAC,EAAElf,CAAC,EAAE+K,CAAC,EAAE4T,OAAO,EAAE;EACpC,OAAO1gB,SAAS,CAACC,MAAM,KAAK,CAAC,GAAG8iB,UAAU,CAAC9B,CAAC,CAAC,GAAG,IAAIqB,GAAG,CAACrB,CAAC,EAAElf,CAAC,EAAE+K,CAAC,EAAE4T,OAAO,IAAI,IAAI,GAAG,CAAC,GAAGA,OAAO,CAAC;AACjG;AAEO,SAAS4B,GAAG,CAACrB,CAAC,EAAElf,CAAC,EAAE+K,CAAC,EAAE4T,OAAO,EAAE;EACpC,IAAI,CAACO,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAClf,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAC+K,CAAC,GAAG,CAACA,CAAC;EACX,IAAI,CAAC4T,OAAO,GAAG,CAACA,OAAO;AACzB;AAEA,SAAS6B,OAAO,CAAC9B,CAAC,EAAE;EAClB,IAAIrU,KAAK,CAACqU,CAAC,CAACQ,CAAC,CAAC,EAAE,OAAO,IAAIoB,GAAG,CAAC5B,CAAC,CAAC3T,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE2T,CAAC,CAACC,OAAO,CAAC;EACpD,IAAIO,CAAC,GAAGR,CAAC,CAACQ,CAAC,GAAGQ,OAAO;EACrB,OAAO,IAAIY,GAAG,CAAC5B,CAAC,CAAC3T,CAAC,EAAEe,IAAI,CAACqV,GAAG,CAACjC,CAAC,CAAC,GAAGR,CAAC,CAAC1e,CAAC,EAAE8L,IAAI,CAACsV,GAAG,CAAClC,CAAC,CAAC,GAAGR,CAAC,CAAC1e,CAAC,EAAE0e,CAAC,CAACC,OAAO,CAAC;AACtE;AAEA3B,MAAM,CAACuD,GAAG,EAAEW,KAAG,EAAEzO,MAAM,CAACI,KAAK,EAAE;EAC7BE,QAAQ,CAAC9I,CAAC,EAAE;IACV,OAAO,IAAIsW,GAAG,CAAC,IAAI,CAACrB,CAAC,EAAE,IAAI,CAAClf,CAAC,EAAE,IAAI,CAAC+K,CAAC,GAAG8U,CAAC,IAAI5V,CAAC,IAAI,IAAI,GAAG,CAAC,GAAGA,CAAC,CAAC,EAAE,IAAI,CAAC0U,OAAO,CAAC;EAClF,CAAG;EACD7L,MAAM,CAAC7I,CAAC,EAAE;IACR,OAAO,IAAIsW,GAAG,CAAC,IAAI,CAACrB,CAAC,EAAE,IAAI,CAAClf,CAAC,EAAE,IAAI,CAAC+K,CAAC,GAAG8U,CAAC,IAAI5V,CAAC,IAAI,IAAI,GAAG,CAAC,GAAGA,CAAC,CAAC,EAAE,IAAI,CAAC0U,OAAO,CAAC;EAClF,CAAG;EACDtB,GAAG,GAAG;IACJ,OAAOmD,OAAO,CAAC,IAAI,CAAC,CAACnD,GAAG,EAAE;EAC9B;AACA,CAAC,CAAC,CAAC;AC1HH,iBAAe7b,CAAC,IAAI,MAAMA,CAAC;ACE3B,SAAS6f,QAAM,CAACxjB,CAAC,EAAE6K,CAAC,EAAE;EACpB,OAAO,UAASqY,CAAC,EAAE;IACjB,OAAOljB,CAAC,GAAGkjB,CAAC,GAAGrY,CAAC;EACpB,CAAG;AACH;AAEA,SAAS4Y,WAAW,CAACzjB,CAAC,EAAES,CAAC,EAAEwL,CAAC,EAAE;EAC5B,OAAOjM,CAAC,GAAGiO,IAAI,CAAC8E,GAAG,CAAC/S,CAAC,EAAEiM,CAAC,CAAC,EAAExL,CAAC,GAAGwN,IAAI,CAAC8E,GAAG,CAACtS,CAAC,EAAEwL,CAAC,CAAC,GAAGjM,CAAC,EAAEiM,CAAC,GAAG,CAAC,GAAGA,CAAC,EAAE,UAASiX,CAAC,EAAE;IACxE,OAAOjV,IAAI,CAAC8E,GAAG,CAAC/S,CAAC,GAAGkjB,CAAC,GAAGziB,CAAC,EAAEwL,CAAC,CAAC;EACjC,CAAG;AACH;AAEO,SAASyX,GAAG,CAAC1jB,CAAC,EAAES,CAAC,EAAE;EACxB,IAAIoK,CAAC,GAAGpK,CAAC,GAAGT,CAAC;EACb,OAAO6K,CAAC,GAAG2Y,QAAM,CAACxjB,CAAC,EAAE6K,CAAC,GAAG,GAAG,IAAIA,CAAC,GAAG,CAAC,GAAG,GAAGA,CAAC,GAAG,GAAG,GAAGoD,IAAI,CAACuE,KAAK,CAAC3H,CAAC,GAAG,GAAG,CAAC,GAAGA,CAAC,CAAC,GAAG8Y,UAAQ,CAACnX,KAAK,CAACxM,CAAC,CAAC,GAAGS,CAAC,GAAGT,CAAC,CAAC;AAC5G;AAEO,SAAS4jB,KAAK,CAAC3X,CAAC,EAAE;EACvB,OAAO,CAACA,CAAC,GAAG,CAACA,CAAC,MAAM,CAAC,GAAG4X,OAAO,GAAG,UAAS7jB,CAAC,EAAES,CAAC,EAAE;IAC/C,OAAOA,CAAC,GAAGT,CAAC,GAAGyjB,WAAW,CAACzjB,CAAC,EAAES,CAAC,EAAEwL,CAAC,CAAC,GAAG0X,UAAQ,CAACnX,KAAK,CAACxM,CAAC,CAAC,GAAGS,CAAC,GAAGT,CAAC,CAAC;EACpE,CAAG;AACH;AAEe,SAAS6jB,OAAO,CAAC7jB,CAAC,EAAES,CAAC,EAAE;EACpC,IAAIoK,CAAC,GAAGpK,CAAC,GAAGT,CAAC;EACb,OAAO6K,CAAC,GAAG2Y,QAAM,CAACxjB,CAAC,EAAE6K,CAAC,CAAC,GAAG8Y,UAAQ,CAACnX,KAAK,CAACxM,CAAC,CAAC,GAAGS,CAAC,GAAGT,CAAC,CAAC;AACtD;ACvBA,UAAgB,SAAS8jB,QAAQ,CAAC7X,CAAC,EAAE;EACnC,IAAImT,KAAK,GAAGwE,KAAK,CAAC3X,CAAC,CAAC;EAEpB,SAASuT,GAAG,CAACvN,KAAK,EAAE8R,GAAG,EAAE;IACvB,IAAI5W,CAAC,GAAGiS,KAAK,CAAC,CAACnN,KAAK,GAAG+R,KAAQ,CAAC/R,KAAK,CAAC,EAAE9E,CAAC,EAAE,CAAC4W,GAAG,GAAGC,KAAQ,CAACD,GAAG,CAAC,EAAE5W,CAAC,CAAC;MAC/D7F,CAAC,GAAG8X,KAAK,CAACnN,KAAK,CAAC3K,CAAC,EAAEyc,GAAG,CAACzc,CAAC,CAAC;MACzB7G,CAAC,GAAG2e,KAAK,CAACnN,KAAK,CAACxR,CAAC,EAAEsjB,GAAG,CAACtjB,CAAC,CAAC;MACzBqgB,OAAO,GAAG+C,OAAO,CAAC5R,KAAK,CAAC6O,OAAO,EAAEiD,GAAG,CAACjD,OAAO,CAAC;IACjD,OAAO,UAASoC,CAAC,EAAE;MACjBjR,KAAK,CAAC9E,CAAC,GAAGA,CAAC,CAAC+V,CAAC,CAAC;MACdjR,KAAK,CAAC3K,CAAC,GAAGA,CAAC,CAAC4b,CAAC,CAAC;MACdjR,KAAK,CAACxR,CAAC,GAAGA,CAAC,CAACyiB,CAAC,CAAC;MACdjR,KAAK,CAAC6O,OAAO,GAAGA,OAAO,CAACoC,CAAC,CAAC;MAC1B,OAAOjR,KAAK,GAAG,EAAE;IACvB,CAAK;EACL;EAEEuN,GAAG,CAACoE,KAAK,GAAGE,QAAQ;EAEpB,OAAOtE,GAAG;AACZ,CAAC,CAAE,CAAC,CAAC;ACzBU,oBAAQ,CAACxf,CAAC,EAAES,CAAC,EAAE;EAC5B,IAAI,CAACA,CAAC,EAAEA,CAAC,GAAG,EAAE;EACd,IAAII,CAAC,GAAGb,CAAC,GAAGiO,IAAI,CAACC,GAAG,CAACzN,CAAC,CAACJ,MAAM,EAAEL,CAAC,CAACK,MAAM,CAAC,GAAG,CAAC;IACxC8B,CAAC,GAAG1B,CAAC,CAAC0C,KAAK,EAAE;IACboN,CAAC;EACL,OAAO,UAAS2S,CAAC,EAAE;IACjB,KAAK3S,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAEpO,CAAC,CAACoO,CAAC,CAAC,GAAGvQ,CAAC,CAACuQ,CAAC,CAAC,IAAI,CAAC,GAAG2S,CAAC,CAAC,GAAGziB,CAAC,CAAC8P,CAAC,CAAC,GAAG2S,CAAC;IACxD,OAAO/gB,CAAC;EACZ,CAAG;AACH;AAEO,SAAS8hB,aAAa,CAACtgB,CAAC,EAAE;EAC/B,OAAOugB,WAAW,CAACC,MAAM,CAACxgB,CAAC,CAAC,IAAI,EAAEA,CAAC,YAAYygB,QAAQ,CAAC;AAC1D;ACNO,SAASC,YAAY,CAACrkB,CAAC,EAAES,CAAC,EAAE;EACjC,IAAI6jB,EAAE,GAAG7jB,CAAC,GAAGA,CAAC,CAACJ,MAAM,GAAG,CAAC;IACrBkkB,EAAE,GAAGvkB,CAAC,GAAGiO,IAAI,CAACC,GAAG,CAACoW,EAAE,EAAEtkB,CAAC,CAACK,MAAM,CAAC,GAAG,CAAC;IACnCsD,CAAC,GAAG,IAAItB,KAAK,CAACkiB,EAAE,CAAC;IACjBpiB,CAAC,GAAG,IAAIE,KAAK,CAACiiB,EAAE,CAAC;IACjB/T,CAAC;EAEL,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgU,EAAE,EAAE,EAAEhU,CAAC,EAAE5M,CAAC,CAAC4M,CAAC,CAAC,GAAG3L,WAAK,CAAC5E,CAAC,CAACuQ,CAAC,CAAC,EAAE9P,CAAC,CAAC8P,CAAC,CAAC,CAAC;EACjD,OAAOA,CAAC,GAAG+T,EAAE,EAAE,EAAE/T,CAAC,EAAEpO,CAAC,CAACoO,CAAC,CAAC,GAAG9P,CAAC,CAAC8P,CAAC,CAAC;EAE/B,OAAO,UAAS2S,CAAC,EAAE;IACjB,KAAK3S,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGgU,EAAE,EAAE,EAAEhU,CAAC,EAAEpO,CAAC,CAACoO,CAAC,CAAC,GAAG5M,CAAC,CAAC4M,CAAC,CAAC,CAAC2S,CAAC,CAAC;IACvC,OAAO/gB,CAAC;EACZ,CAAG;AACH;ACrBe,aAAQ,CAACnC,CAAC,EAAES,CAAC,EAAE;EAC5B,IAAIoK,CAAC,GAAG,IAAIF,IAAI;EAChB,OAAO3K,CAAC,GAAG,CAACA,CAAC,EAAES,CAAC,GAAG,CAACA,CAAC,EAAE,UAASyiB,CAAC,EAAE;IACjC,OAAOrY,CAAC,CAAC2Z,OAAO,CAACxkB,CAAC,IAAI,CAAC,GAAGkjB,CAAC,CAAC,GAAGziB,CAAC,GAAGyiB,CAAC,CAAC,EAAErY,CAAC;EAC5C,CAAG;AACH;ACLe,0BAAQ,CAAC7K,CAAC,EAAES,CAAC,EAAE;EAC5B,OAAOT,CAAC,GAAG,CAACA,CAAC,EAAES,CAAC,GAAG,CAACA,CAAC,EAAE,UAASyiB,CAAC,EAAE;IACjC,OAAOljB,CAAC,IAAI,CAAC,GAAGkjB,CAAC,CAAC,GAAGziB,CAAC,GAAGyiB,CAAC;EAC9B,CAAG;AACH;ACFe,eAAQ,CAACljB,CAAC,EAAES,CAAC,EAAE;EAC5B,IAAI8P,CAAC,GAAG,EAAE;IACNpO,CAAC,GAAG,EAAE;IACNiK,CAAC;EAEL,IAAIpM,CAAC,KAAK,IAAI,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAEA,CAAC,GAAG,EAAE;EAC/C,IAAIS,CAAC,KAAK,IAAI,IAAI,OAAOA,CAAC,KAAK,QAAQ,EAAEA,CAAC,GAAG,EAAE;EAE/C,KAAK2L,CAAC,IAAI3L,CAAC,EAAE;IACX,IAAI2L,CAAC,IAAIpM,CAAC,EAAE;MACVuQ,CAAC,CAACnE,CAAC,CAAC,GAAGxH,WAAK,CAAC5E,CAAC,CAACoM,CAAC,CAAC,EAAE3L,CAAC,CAAC2L,CAAC,CAAC,CAAC;IAC9B,CAAK,MAAM;MACLjK,CAAC,CAACiK,CAAC,CAAC,GAAG3L,CAAC,CAAC2L,CAAC,CAAC;IACjB;EACA;EAEE,OAAO,UAAS8W,CAAC,EAAE;IACjB,KAAK9W,CAAC,IAAImE,CAAC,EAAEpO,CAAC,CAACiK,CAAC,CAAC,GAAGmE,CAAC,CAACnE,CAAC,CAAC,CAAC8W,CAAC,CAAC;IAC3B,OAAO/gB,CAAC;EACZ,CAAG;AACH;ACpBA,IAAIsiB,GAAG,GAAG,6CAA6C;EACnDC,GAAG,GAAG,IAAIlP,MAAM,CAACiP,GAAG,CAACpb,MAAM,EAAE,GAAG,CAAC;AAErC,SAAS4G,IAAI,CAACxP,CAAC,EAAE;EACf,OAAO,YAAW;IAChB,OAAOA,CAAC;EACZ,CAAG;AACH;AAEA,SAASkkB,GAAG,CAAClkB,CAAC,EAAE;EACd,OAAO,UAASyiB,CAAC,EAAE;IACjB,OAAOziB,CAAC,CAACyiB,CAAC,CAAC,GAAG,EAAE;EACpB,CAAG;AACH;AAEe,eAAQ,CAACljB,CAAC,EAAES,CAAC,EAAE;EAC5B,IAAImkB,EAAE,GAAGH,GAAG,CAACI,SAAS,GAAGH,GAAG,CAACG,SAAS,GAAG,CAAC;IAAA;IACtCC,EAAE;IAAA;IACFC,EAAE;IAAA;IACFC,EAAE;IAAA;IACFzU,CAAC,GAAG,CAAC,CAAC;IAAA;IACNjG,CAAC,GAAG,EAAE;IAAA;IACN2a,CAAC,GAAG,EAAE,CAAC;;EAEb;EACEjlB,CAAC,GAAGA,CAAC,GAAG,EAAE,EAAES,CAAC,GAAGA,CAAC,GAAG,EAAE;;EAExB;EACE,OAAO,CAACqkB,EAAE,GAAGL,GAAG,CAACnE,IAAI,CAACtgB,CAAC,CAAC,MAChB+kB,EAAE,GAAGL,GAAG,CAACpE,IAAI,CAAC7f,CAAC,CAAC,CAAC,EAAE;IACzB,IAAI,CAACukB,EAAE,GAAGD,EAAE,CAACnX,KAAK,IAAIgX,EAAE,EAAE;MAAA;MACxBI,EAAE,GAAGvkB,CAAC,CAAC0C,KAAK,CAACyhB,EAAE,EAAEI,EAAE,CAAC;MACpB,IAAI1a,CAAC,CAACiG,CAAC,CAAC,EAAEjG,CAAC,CAACiG,CAAC,CAAC,IAAIyU,EAAE,CAAC;MAAA,KAChB1a,CAAC,CAAC,EAAEiG,CAAC,CAAC,GAAGyU,EAAE;IACtB;IACI,IAAI,CAACF,EAAE,GAAGA,EAAE,CAAC,CAAC,CAAC,OAAOC,EAAE,GAAGA,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE;MAAA;MACjC,IAAIza,CAAC,CAACiG,CAAC,CAAC,EAAEjG,CAAC,CAACiG,CAAC,CAAC,IAAIwU,EAAE,CAAC;MAAA,KAChBza,CAAC,CAAC,EAAEiG,CAAC,CAAC,GAAGwU,EAAE;IACtB,CAAK,MAAM;MAAA;MACLza,CAAC,CAAC,EAAEiG,CAAC,CAAC,GAAG,IAAI;MACb0U,CAAC,CAACld,IAAI,CAAC;QAACwI,CAAC,EAAEA,CAAC;QAAE5M,CAAC,EAAE6M,iBAAM,CAACsU,EAAE,EAAEC,EAAE;MAAC,CAAC,CAAC;IACvC;IACIH,EAAE,GAAGF,GAAG,CAACG,SAAS;EACtB;;EAEA;EACE,IAAID,EAAE,GAAGnkB,CAAC,CAACJ,MAAM,EAAE;IACjB2kB,EAAE,GAAGvkB,CAAC,CAAC0C,KAAK,CAACyhB,EAAE,CAAC;IAChB,IAAIta,CAAC,CAACiG,CAAC,CAAC,EAAEjG,CAAC,CAACiG,CAAC,CAAC,IAAIyU,EAAE,CAAC;IAAA,KAChB1a,CAAC,CAAC,EAAEiG,CAAC,CAAC,GAAGyU,EAAE;EACpB;;EAEA;EACA;EACE,OAAO1a,CAAC,CAACjK,MAAM,GAAG,CAAC,GAAI4kB,CAAC,CAAC,CAAC,CAAC,GACrBN,GAAG,CAACM,CAAC,CAAC,CAAC,CAAC,CAACthB,CAAC,CAAC,GACXsM,IAAI,CAACxP,CAAC,CAAC,IACNA,CAAC,GAAGwkB,CAAC,CAAC5kB,MAAM,EAAE,UAAS6iB,CAAC,EAAE;IACzB,KAAK,IAAI3S,CAAC,GAAG,CAAC,EAAEsQ,CAAC,EAAEtQ,CAAC,GAAG9P,CAAC,EAAE,EAAE8P,CAAC,EAAEjG,CAAC,CAAC,CAACuW,CAAC,GAAGoE,CAAC,CAAC1U,CAAC,CAAC,EAAEA,CAAC,CAAC,GAAGsQ,CAAC,CAACld,CAAC,CAACuf,CAAC,CAAC;IACvD,OAAO5Y,CAAC,CAACgC,IAAI,CAAC,EAAE,CAAC;EAC3B,CAAS,CAAC;AACV;ACrDe,oBAAQ,CAACtM,CAAC,EAAES,CAAC,EAAE;EAC5B,IAAIyiB,CAAC,GAAG,OAAOziB,CAAC;IAAE0B,CAAC;EACnB,OAAO1B,CAAC,IAAI,IAAI,IAAIyiB,CAAC,KAAK,SAAS,GAAGS,UAAQ,CAACljB,CAAC,CAAC,GAC3C,CAACyiB,CAAC,KAAK,QAAQ,GAAG1S,iBAAM,GACxB0S,CAAC,KAAK,QAAQ,GAAI,CAAC/gB,CAAC,GAAGid,KAAK,CAAC3e,CAAC,CAAC,KAAKA,CAAC,GAAG0B,CAAC,EAAEqd,GAAG,IAAI0F,MAAM,GACxDzkB,CAAC,YAAY2e,KAAK,GAAGI,GAAG,GACxB/e,CAAC,YAAYkK,IAAI,GAAGwa,IAAI,GACxBlB,aAAa,CAACxjB,CAAC,CAAC,GAAG2kB,WAAW,GAC9B/iB,KAAK,CAACC,OAAO,CAAC7B,CAAC,CAAC,GAAG4jB,YAAY,GAC/B,OAAO5jB,CAAC,CAACyI,OAAO,KAAK,UAAU,IAAI,OAAOzI,CAAC,CAACkC,QAAQ,KAAK,UAAU,IAAI6J,KAAK,CAAC/L,CAAC,CAAC,GAAG4kB,MAAM,GACxF7U,iBAAM,EAAExQ,CAAC,EAAES,CAAC,CAAC;AACrB;ACrBe,yBAAQ,CAACT,CAAC,EAAES,CAAC,EAAE;EAC5B,OAAOT,CAAC,GAAG,CAACA,CAAC,EAAES,CAAC,GAAG,CAACA,CAAC,EAAE,UAASyiB,CAAC,EAAE;IACjC,OAAOjV,IAAI,CAACuE,KAAK,CAACxS,CAAC,IAAI,CAAC,GAAGkjB,CAAC,CAAC,GAAGziB,CAAC,GAAGyiB,CAAC,CAAC;EAC1C,CAAG;AACH;ACDA,SAASG,GAAG,CAACK,GAAG,EAAE;EAChB,OAAO,UAASzR,KAAK,EAAE8R,GAAG,EAAE;IAC1B,IAAI1C,CAAC,GAAGqC,GAAG,CAAC,CAACzR,KAAK,GAAGqT,KAAQ,CAACrT,KAAK,CAAC,EAAEoP,CAAC,EAAE,CAAC0C,GAAG,GAAGuB,KAAQ,CAACvB,GAAG,CAAC,EAAE1C,CAAC,CAAC;MAC7Dlf,CAAC,GAAGid,OAAK,CAACnN,KAAK,CAAC9P,CAAC,EAAE4hB,GAAG,CAAC5hB,CAAC,CAAC;MACzB+K,CAAC,GAAGkS,OAAK,CAACnN,KAAK,CAAC/E,CAAC,EAAE6W,GAAG,CAAC7W,CAAC,CAAC;MACzB4T,OAAO,GAAG1B,OAAK,CAACnN,KAAK,CAAC6O,OAAO,EAAEiD,GAAG,CAACjD,OAAO,CAAC;IAC/C,OAAO,UAASoC,CAAC,EAAE;MACjBjR,KAAK,CAACoP,CAAC,GAAGA,CAAC,CAAC6B,CAAC,CAAC;MACdjR,KAAK,CAAC9P,CAAC,GAAGA,CAAC,CAAC+gB,CAAC,CAAC;MACdjR,KAAK,CAAC/E,CAAC,GAAGA,CAAC,CAACgW,CAAC,CAAC;MACdjR,KAAK,CAAC6O,OAAO,GAAGA,OAAO,CAACoC,CAAC,CAAC;MAC1B,OAAOjR,KAAK,GAAG,EAAE;IACvB,CAAK;EACL,CAAG;AACH;AAEA,qBAAeoR,GAAG,CAACK,GAAG,CAAC;ACnBR,SAAS6B,SAAS,CAAC5hB,CAAC,EAAE;EACnC,OAAO,YAAW;IAChB,OAAOA,CAAC;EACZ,CAAG;AACH;ACJe,SAAS6M,QAAM,CAAC7M,CAAC,EAAE;EAChC,OAAO,CAACA,CAAC;AACX;ACGA,IAAI6hB,IAAI,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;AAEV,SAASC,UAAQ,CAAC9hB,CAAC,EAAE;EAC1B,OAAOA,CAAC;AACV;AAEA,SAAS+hB,WAAS,CAAC1lB,CAAC,EAAES,CAAC,EAAE;EACvB,OAAO,CAACA,CAAC,IAAKT,CAAC,GAAG,CAACA,CAAE,IACf,UAAS2D,CAAC,EAAE;IAAE,OAAO,CAACA,CAAC,GAAG3D,CAAC,IAAIS,CAAC;EAAC,CAAE,GACnCkjB,SAAQ,CAACnX,KAAK,CAAC/L,CAAC,CAAC,GAAGgM,GAAG,GAAG,GAAG,CAAC;AACtC;AAEA,SAASkZ,OAAO,CAAC3lB,CAAC,EAAES,CAAC,EAAE;EACrB,IAAIyiB,CAAC;EACL,IAAIljB,CAAC,GAAGS,CAAC,EAAEyiB,CAAC,GAAGljB,CAAC,EAAEA,CAAC,GAAGS,CAAC,EAAEA,CAAC,GAAGyiB,CAAC;EAC9B,OAAO,UAASvf,CAAC,EAAE;IAAE,OAAOsK,IAAI,CAAC6C,GAAG,CAAC9Q,CAAC,EAAEiO,IAAI,CAACC,GAAG,CAACzN,CAAC,EAAEkD,CAAC,CAAC,CAAC;EAAC,CAAE;AAC5D;;AAEA;AACA;AACA,SAASiiB,KAAK,CAACrS,MAAM,EAAEH,KAAK,EAAEyS,WAAW,EAAE;EACzC,IAAIC,EAAE,GAAGvS,MAAM,CAAC,CAAC,CAAC;IAAEwS,EAAE,GAAGxS,MAAM,CAAC,CAAC,CAAC;IAAEhB,EAAE,GAAGa,KAAK,CAAC,CAAC,CAAC;IAAEX,EAAE,GAAGW,KAAK,CAAC,CAAC,CAAC;EAChE,IAAI2S,EAAE,GAAGD,EAAE,EAAEA,EAAE,GAAGJ,WAAS,CAACK,EAAE,EAAED,EAAE,CAAC,EAAEvT,EAAE,GAAGsT,WAAW,CAACpT,EAAE,EAAEF,EAAE,CAAC,CAAC,KACzDuT,EAAE,GAAGJ,WAAS,CAACI,EAAE,EAAEC,EAAE,CAAC,EAAExT,EAAE,GAAGsT,WAAW,CAACtT,EAAE,EAAEE,EAAE,CAAC;EACrD,OAAO,UAAS9O,CAAC,EAAE;IAAE,OAAO4O,EAAE,CAACuT,EAAE,CAACniB,CAAC,CAAC,CAAC;EAAC,CAAE;AAC1C;AAEA,SAASqiB,OAAO,CAACzS,MAAM,EAAEH,KAAK,EAAEyS,WAAW,EAAE;EAC3C,IAAII,CAAC,GAAGhY,IAAI,CAACC,GAAG,CAACqF,MAAM,CAAClT,MAAM,EAAE+S,KAAK,CAAC/S,MAAM,CAAC,GAAG,CAAC;IAC7CwK,CAAC,GAAG,IAAIxI,KAAK,CAAC4jB,CAAC,CAAC;IAChB9Y,CAAC,GAAG,IAAI9K,KAAK,CAAC4jB,CAAC,CAAC;IAChB1V,CAAC,GAAG,CAAC,CAAC;;EAEZ;EACE,IAAIgD,MAAM,CAAC0S,CAAC,CAAC,GAAG1S,MAAM,CAAC,CAAC,CAAC,EAAE;IACzBA,MAAM,GAAGA,MAAM,CAACpQ,KAAK,EAAE,CAACiP,OAAO,EAAE;IACjCgB,KAAK,GAAGA,KAAK,CAACjQ,KAAK,EAAE,CAACiP,OAAO,EAAE;EACnC;EAEE,OAAO,EAAE7B,CAAC,GAAG0V,CAAC,EAAE;IACdpb,CAAC,CAAC0F,CAAC,CAAC,GAAGmV,WAAS,CAACnS,MAAM,CAAChD,CAAC,CAAC,EAAEgD,MAAM,CAAChD,CAAC,GAAG,CAAC,CAAC,CAAC;IAC1CpD,CAAC,CAACoD,CAAC,CAAC,GAAGsV,WAAW,CAACzS,KAAK,CAAC7C,CAAC,CAAC,EAAE6C,KAAK,CAAC7C,CAAC,GAAG,CAAC,CAAC,CAAC;EAC9C;EAEE,OAAO,UAAS5M,CAAC,EAAE;IACjB,IAAI4M,CAAC,GAAG2V,WAAM,CAAC3S,MAAM,EAAE5P,CAAC,EAAE,CAAC,EAAEsiB,CAAC,CAAC,GAAG,CAAC;IACnC,OAAO9Y,CAAC,CAACoD,CAAC,CAAC,CAAC1F,CAAC,CAAC0F,CAAC,CAAC,CAAC5M,CAAC,CAAC,CAAC;EACxB,CAAG;AACH;AAEO,SAASqQ,MAAI,CAAC3K,MAAM,EAAE0D,MAAM,EAAE;EACnC,OAAOA,MAAM,CACRwG,MAAM,CAAClK,MAAM,CAACkK,MAAM,EAAE,CAAC,CACvBH,KAAK,CAAC/J,MAAM,CAAC+J,KAAK,EAAE,CAAC,CACrByS,WAAW,CAACxc,MAAM,CAACwc,WAAW,EAAE,CAAC,CACjC9E,KAAK,CAAC1X,MAAM,CAAC0X,KAAK,EAAE,CAAC,CACrBnN,OAAO,CAACvK,MAAM,CAACuK,OAAO,EAAE,CAAC;AAChC;AAEO,SAASuS,aAAW,GAAG;EAC5B,IAAI5S,MAAM,GAAGiS,IAAI;IACbpS,KAAK,GAAGoS,IAAI;IACZK,aAAW,GAAGO,WAAgB;IAC9BC,SAAS;IACTC,WAAW;IACX1S,OAAO;IACPmN,KAAK,GAAG0E,UAAQ;IAChBc,SAAS;IACTC,MAAM;IACNjhB,KAAK;EAET,SAASgP,OAAO,GAAG;IACjB,IAAI1T,CAAC,GAAGoN,IAAI,CAACC,GAAG,CAACqF,MAAM,CAAClT,MAAM,EAAE+S,KAAK,CAAC/S,MAAM,CAAC;IAC7C,IAAI0gB,KAAK,KAAK0E,UAAQ,EAAE1E,KAAK,GAAG4E,OAAO,CAACpS,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC1S,CAAC,GAAG,CAAC,CAAC,CAAC;IACjE0lB,SAAS,GAAG1lB,CAAC,GAAG,CAAC,GAAGmlB,OAAO,GAAGJ,KAAK;IACnCY,MAAM,GAAGjhB,KAAK,GAAG,IAAI;IACrB,OAAOsO,KAAK;EAChB;EAEE,SAASA,KAAK,CAAClQ,CAAC,EAAE;IAChB,OAAOA,CAAC,IAAI,IAAI,IAAI6I,KAAK,CAAC7I,CAAC,GAAG,CAACA,CAAC,CAAC,GAAGiQ,OAAO,GAAG,CAAC4S,MAAM,KAAKA,MAAM,GAAGD,SAAS,CAAChT,MAAM,CAACjN,GAAG,CAAC+f,SAAS,CAAC,EAAEjT,KAAK,EAAEyS,aAAW,CAAC,CAAC,EAAEQ,SAAS,CAACtF,KAAK,CAACpd,CAAC,CAAC,CAAC,CAAC;EAClJ;EAEEkQ,KAAK,CAAC4S,MAAM,GAAG,UAASxa,CAAC,EAAE;IACzB,OAAO8U,KAAK,CAACuF,WAAW,CAAC,CAAC/gB,KAAK,KAAKA,KAAK,GAAGghB,SAAS,CAACnT,KAAK,EAAEG,MAAM,CAACjN,GAAG,CAAC+f,SAAS,CAAC,EAAEK,iBAAiB,CAAC,CAAC,EAAEza,CAAC,CAAC,CAAC,CAAC;EACjH,CAAG;EAED4H,KAAK,CAACN,MAAM,GAAG,UAASO,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIkT,MAAM,GAAGlR,KAAK,CAAC0R,IAAI,CAACD,CAAC,EAAEtD,QAAM,CAAC,EAAE+D,OAAO,EAAE,IAAIhB,MAAM,CAACpQ,KAAK,EAAE;EAC1F,CAAG;EAED0Q,KAAK,CAACT,KAAK,GAAG,UAASU,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAI+S,KAAK,GAAG/Q,KAAK,CAAC0R,IAAI,CAACD,CAAC,CAAC,EAAES,OAAO,EAAE,IAAInB,KAAK,CAACjQ,KAAK,EAAE;EAChF,CAAG;EAED0Q,KAAK,CAACY,UAAU,GAAG,UAASX,CAAC,EAAE;IAC7B,OAAOV,KAAK,GAAG/Q,KAAK,CAAC0R,IAAI,CAACD,CAAC,CAAC,EAAE+R,aAAW,GAAGc,gBAAgB,EAAEpS,OAAO,EAAE;EAC3E,CAAG;EAEDV,KAAK,CAACkN,KAAK,GAAG,UAASjN,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAI0gB,KAAK,GAAGjN,CAAC,GAAG,IAAI,GAAG2R,UAAQ,EAAElR,OAAO,EAAE,IAAIwM,KAAK,KAAK0E,UAAQ;EAC3F,CAAG;EAED5R,KAAK,CAACgS,WAAW,GAAG,UAAS/R,CAAC,EAAE;IAC9B,OAAO1T,SAAS,CAACC,MAAM,IAAIwlB,aAAW,GAAG/R,CAAC,EAAES,OAAO,EAAE,IAAIsR,aAAW;EACxE,CAAG;EAEDhS,KAAK,CAACD,OAAO,GAAG,UAASE,CAAC,EAAE;IAC1B,OAAO1T,SAAS,CAACC,MAAM,IAAIuT,OAAO,GAAGE,CAAC,EAAED,KAAK,IAAID,OAAO;EAC5D,CAAG;EAED,OAAO,UAASsP,CAAC,EAAE0D,CAAC,EAAE;IACpBP,SAAS,GAAGnD,CAAC,EAAEoD,WAAW,GAAGM,CAAC;IAC9B,OAAOrS,OAAO,EAAE;EACpB,CAAG;AACH;AAEe,SAASsS,UAAU,GAAG;EACnC,OAAOV,aAAW,EAAE,CAACV,UAAQ,EAAEA,UAAQ,CAAC;AAC1C;AC5He,sBAAQ,CAAC9hB,CAAC,EAAE;EACzB,OAAOsK,IAAI,CAACiF,GAAG,CAACvP,CAAC,GAAGsK,IAAI,CAACuE,KAAK,CAAC7O,CAAC,CAAC,CAAC,IAAI,IAAI,GACpCA,CAAC,CAACmjB,cAAc,CAAC,IAAI,CAAC,CAACtc,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,GACxC7G,CAAC,CAAChB,QAAQ,CAAC,EAAE,CAAC;AACtB;;AAEA;AACA;AACA;AACO,SAASokB,kBAAkB,CAACpjB,CAAC,EAAEmD,CAAC,EAAE;EACvC,IAAI,CAACyJ,CAAC,GAAG,CAAC5M,CAAC,GAAGmD,CAAC,GAAGnD,CAAC,CAACqjB,aAAa,CAAClgB,CAAC,GAAG,CAAC,CAAC,GAAGnD,CAAC,CAACqjB,aAAa,EAAE,EAAE7c,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE,OAAO,IAAI,CAAC;EAC7F,IAAIoG,CAAC;IAAE0W,WAAW,GAAGtjB,CAAC,CAACR,KAAK,CAAC,CAAC,EAAEoN,CAAC,CAAC;;EAEpC;EACA;EACE,OAAO,CACL0W,WAAW,CAAC5mB,MAAM,GAAG,CAAC,GAAG4mB,WAAW,CAAC,CAAC,CAAC,GAAGA,WAAW,CAAC9jB,KAAK,CAAC,CAAC,CAAC,GAAG8jB,WAAW,EAC5E,CAACtjB,CAAC,CAACR,KAAK,CAACoN,CAAC,GAAG,CAAC,CAAC,CAChB;AACH;ACjBe,iBAAQ,CAAC5M,CAAC,EAAE;EACzB,OAAOA,CAAC,GAAGojB,kBAAkB,CAAC9Y,IAAI,CAACiF,GAAG,CAACvP,CAAC,CAAC,CAAC,EAAEA,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAG8I,GAAG;AAC5D;ACJe,oBAAQ,CAACya,QAAQ,EAAEC,SAAS,EAAE;EAC3C,OAAO,UAASviB,KAAK,EAAEwiB,KAAK,EAAE;IAC5B,IAAI7W,CAAC,GAAG3L,KAAK,CAACvE,MAAM;MAChB6iB,CAAC,GAAG,EAAE;MACN+C,CAAC,GAAG,CAAC;MACL3e,CAAC,GAAG4f,QAAQ,CAAC,CAAC,CAAC;MACf7mB,MAAM,GAAG,CAAC;IAEd,OAAOkQ,CAAC,GAAG,CAAC,IAAIjJ,CAAC,GAAG,CAAC,EAAE;MACrB,IAAIjH,MAAM,GAAGiH,CAAC,GAAG,CAAC,GAAG8f,KAAK,EAAE9f,CAAC,GAAG2G,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAEsW,KAAK,GAAG/mB,MAAM,CAAC;MAC3D6iB,CAAC,CAACnb,IAAI,CAACnD,KAAK,CAACyiB,SAAS,CAAC9W,CAAC,IAAIjJ,CAAC,EAAEiJ,CAAC,GAAGjJ,CAAC,CAAC,CAAC;MACtC,IAAI,CAACjH,MAAM,IAAIiH,CAAC,GAAG,CAAC,IAAI8f,KAAK,EAAE;MAC/B9f,CAAC,GAAG4f,QAAQ,CAACjB,CAAC,GAAG,CAACA,CAAC,GAAG,CAAC,IAAIiB,QAAQ,CAAC7mB,MAAM,CAAC;IACjD;IAEI,OAAO6iB,CAAC,CAAC9Q,OAAO,EAAE,CAAC9F,IAAI,CAAC6a,SAAS,CAAC;EACtC,CAAG;AACH;ACjBe,uBAAQ,CAACG,QAAQ,EAAE;EAChC,OAAO,UAAS1iB,KAAK,EAAE;IACrB,OAAOA,KAAK,CAAC4F,OAAO,CAAC,QAAQ,EAAE,UAAS+F,CAAC,EAAE;MACzC,OAAO+W,QAAQ,CAAC,CAAC/W,CAAC,CAAC;IACzB,CAAK,CAAC;EACN,CAAG;AACH;;ACNA;AACA,IAAIgX,EAAE,GAAG,0EAA0E;AAEpE,SAASC,eAAe,CAACC,SAAS,EAAE;EACjD,IAAI,EAAEtf,KAAK,GAAGof,EAAE,CAACjH,IAAI,CAACmH,SAAS,CAAC,CAAC,EAAE,MAAM,IAAIjmB,KAAK,CAAC,kBAAkB,GAAGimB,SAAS,CAAC;EAClF,IAAItf,KAAK;EACT,OAAO,IAAIuf,eAAe,CAAC;IACzBC,IAAI,EAAExf,KAAK,CAAC,CAAC,CAAC;IACdmM,KAAK,EAAEnM,KAAK,CAAC,CAAC,CAAC;IACfyf,IAAI,EAAEzf,KAAK,CAAC,CAAC,CAAC;IACd0f,MAAM,EAAE1f,KAAK,CAAC,CAAC,CAAC;IAChB8H,IAAI,EAAE9H,KAAK,CAAC,CAAC,CAAC;IACdif,KAAK,EAAEjf,KAAK,CAAC,CAAC,CAAC;IACf2f,KAAK,EAAE3f,KAAK,CAAC,CAAC,CAAC;IACf4f,SAAS,EAAE5f,KAAK,CAAC,CAAC,CAAC,IAAIA,KAAK,CAAC,CAAC,CAAC,CAAChF,KAAK,CAAC,CAAC,CAAC;IACxCkd,IAAI,EAAElY,KAAK,CAAC,CAAC,CAAC;IACdhB,IAAI,EAAEgB,KAAK,CAAC,EAAE;EAClB,CAAG,CAAC;AACJ;AAEAqf,eAAe,CAAC9kB,SAAS,GAAGglB,eAAe,CAAChlB,SAAS,CAAC;;AAE/C,SAASglB,eAAe,CAACD,SAAS,EAAE;EACzC,IAAI,CAACE,IAAI,GAAGF,SAAS,CAACE,IAAI,KAAKvgB,SAAS,GAAG,GAAG,GAAGqgB,SAAS,CAACE,IAAI,GAAG,EAAE;EACpE,IAAI,CAACrT,KAAK,GAAGmT,SAAS,CAACnT,KAAK,KAAKlN,SAAS,GAAG,GAAG,GAAGqgB,SAAS,CAACnT,KAAK,GAAG,EAAE;EACvE,IAAI,CAACsT,IAAI,GAAGH,SAAS,CAACG,IAAI,KAAKxgB,SAAS,GAAG,GAAG,GAAGqgB,SAAS,CAACG,IAAI,GAAG,EAAE;EACpE,IAAI,CAACC,MAAM,GAAGJ,SAAS,CAACI,MAAM,KAAKzgB,SAAS,GAAG,EAAE,GAAGqgB,SAAS,CAACI,MAAM,GAAG,EAAE;EACzE,IAAI,CAAC5X,IAAI,GAAG,CAAC,CAACwX,SAAS,CAACxX,IAAI;EAC5B,IAAI,CAACmX,KAAK,GAAGK,SAAS,CAACL,KAAK,KAAKhgB,SAAS,GAAGA,SAAS,GAAG,CAACqgB,SAAS,CAACL,KAAK;EACzE,IAAI,CAACU,KAAK,GAAG,CAAC,CAACL,SAAS,CAACK,KAAK;EAC9B,IAAI,CAACC,SAAS,GAAGN,SAAS,CAACM,SAAS,KAAK3gB,SAAS,GAAGA,SAAS,GAAG,CAACqgB,SAAS,CAACM,SAAS;EACrF,IAAI,CAAC1H,IAAI,GAAG,CAAC,CAACoH,SAAS,CAACpH,IAAI;EAC5B,IAAI,CAAClZ,IAAI,GAAGsgB,SAAS,CAACtgB,IAAI,KAAKC,SAAS,GAAG,EAAE,GAAGqgB,SAAS,CAACtgB,IAAI,GAAG,EAAE;AACrE;AAEAugB,eAAe,CAAChlB,SAAS,CAACC,QAAQ,GAAG,YAAW;EAC9C,OAAO,IAAI,CAACglB,IAAI,GACV,IAAI,CAACrT,KAAK,GACV,IAAI,CAACsT,IAAI,GACT,IAAI,CAACC,MAAM,IACV,IAAI,CAAC5X,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC,IACrB,IAAI,CAACmX,KAAK,KAAKhgB,SAAS,GAAG,EAAE,GAAG6G,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE,IAAI,CAACsW,KAAK,GAAG,CAAC,CAAC,CAAC,IAC5D,IAAI,CAACU,KAAK,GAAG,GAAG,GAAG,EAAE,CAAC,IACtB,IAAI,CAACC,SAAS,KAAK3gB,SAAS,GAAG,EAAE,GAAG,GAAG,GAAG6G,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE,IAAI,CAACiX,SAAS,GAAG,CAAC,CAAC,CAAC,IAC1E,IAAI,CAAC1H,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC,GACtB,IAAI,CAAClZ,IAAI;AACjB,CAAC;;AC9CD;AACe,mBAAQ,CAACmD,CAAC,EAAE;EACzB6D,GAAG,EAAE,KAAK,IAAItN,CAAC,GAAGyJ,CAAC,CAACjK,MAAM,EAAEkQ,CAAC,GAAG,CAAC,EAAEyX,EAAE,GAAG,CAAC,CAAC,EAAEC,EAAE,EAAE1X,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;IAC1D,QAAQjG,CAAC,CAACiG,CAAC,CAAC;MACV,KAAK,GAAG;QAAEyX,EAAE,GAAGC,EAAE,GAAG1X,CAAC;QAAE;MACvB,KAAK,GAAG;QAAE,IAAIyX,EAAE,KAAK,CAAC,EAAEA,EAAE,GAAGzX,CAAC;QAAE0X,EAAE,GAAG1X,CAAC;QAAE;MACxC;QAAS,IAAI,CAAC,CAACjG,CAAC,CAACiG,CAAC,CAAC,EAAE,MAAMpC,GAAG;QAAE,IAAI6Z,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAG,CAAC;QAAE;IAAM;EAEhE;EACE,OAAOA,EAAE,GAAG,CAAC,GAAG1d,CAAC,CAACnH,KAAK,CAAC,CAAC,EAAE6kB,EAAE,CAAC,GAAG1d,CAAC,CAACnH,KAAK,CAAC8kB,EAAE,GAAG,CAAC,CAAC,GAAG3d,CAAC;AACtD;ACRO,IAAI4d,cAAc;AAEV,yBAAQ,CAACvkB,CAAC,EAAEmD,CAAC,EAAE;EAC5B,IAAI+D,CAAC,GAAGkc,kBAAkB,CAACpjB,CAAC,EAAEmD,CAAC,CAAC;EAChC,IAAI,CAAC+D,CAAC,EAAE,OAAOlH,CAAC,GAAG,EAAE;EACrB,IAAIsjB,WAAW,GAAGpc,CAAC,CAAC,CAAC,CAAC;IAClBsd,QAAQ,GAAGtd,CAAC,CAAC,CAAC,CAAC;IACf0F,CAAC,GAAG4X,QAAQ,IAAID,cAAc,GAAGja,IAAI,CAAC6C,GAAG,CAAC,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAAC0E,KAAK,CAACwV,QAAQ,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;IAC7FtnB,CAAC,GAAGomB,WAAW,CAAC5mB,MAAM;EAC1B,OAAOkQ,CAAC,KAAK1P,CAAC,GAAGomB,WAAW,GACtB1W,CAAC,GAAG1P,CAAC,GAAGomB,WAAW,GAAG,IAAI5kB,KAAK,CAACkO,CAAC,GAAG1P,CAAC,GAAG,CAAC,CAAC,CAACyL,IAAI,CAAC,GAAG,CAAC,GACpDiE,CAAC,GAAG,CAAC,GAAG0W,WAAW,CAAC9jB,KAAK,CAAC,CAAC,EAAEoN,CAAC,CAAC,GAAG,GAAG,GAAG0W,WAAW,CAAC9jB,KAAK,CAACoN,CAAC,CAAC,GAC5D,IAAI,GAAG,IAAIlO,KAAK,CAAC,CAAC,GAAGkO,CAAC,CAAC,CAACjE,IAAI,CAAC,GAAG,CAAC,GAAGya,kBAAkB,CAACpjB,CAAC,EAAEsK,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAEhK,CAAC,GAAGyJ,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7F;;ACbe,sBAAQ,CAAC5M,CAAC,EAAEmD,CAAC,EAAE;EAC5B,IAAI+D,CAAC,GAAGkc,kBAAkB,CAACpjB,CAAC,EAAEmD,CAAC,CAAC;EAChC,IAAI,CAAC+D,CAAC,EAAE,OAAOlH,CAAC,GAAG,EAAE;EACrB,IAAIsjB,WAAW,GAAGpc,CAAC,CAAC,CAAC,CAAC;IAClBsd,QAAQ,GAAGtd,CAAC,CAAC,CAAC,CAAC;EACnB,OAAOsd,QAAQ,GAAG,CAAC,GAAG,IAAI,GAAG,IAAI9lB,KAAK,CAAC,CAAC8lB,QAAQ,CAAC,CAAC7b,IAAI,CAAC,GAAG,CAAC,GAAG2a,WAAW,GACnEA,WAAW,CAAC5mB,MAAM,GAAG8nB,QAAQ,GAAG,CAAC,GAAGlB,WAAW,CAAC9jB,KAAK,CAAC,CAAC,EAAEglB,QAAQ,GAAG,CAAC,CAAC,GAAG,GAAG,GAAGlB,WAAW,CAAC9jB,KAAK,CAACglB,QAAQ,GAAG,CAAC,CAAC,GAC9GlB,WAAW,GAAG,IAAI5kB,KAAK,CAAC8lB,QAAQ,GAAGlB,WAAW,CAAC5mB,MAAM,GAAG,CAAC,CAAC,CAACiM,IAAI,CAAC,GAAG,CAAC;AAC5E;ACNA,kBAAe;EACb,GAAG,EAAE,CAAC3I,CAAC,EAAEmD,CAAC,KAAK,CAACnD,CAAC,GAAG,GAAG,EAAE0H,OAAO,CAACvE,CAAC,CAAC;EACnC,GAAG,EAAGnD,CAAC,IAAKsK,IAAI,CAACuE,KAAK,CAAC7O,CAAC,CAAC,CAAChB,QAAQ,CAAC,CAAC,CAAC;EACrC,GAAG,EAAGgB,CAAC,IAAKA,CAAC,GAAG,EAAE;EAClB,GAAG,EAAEykB,aAAa;EAClB,GAAG,EAAE,CAACzkB,CAAC,EAAEmD,CAAC,KAAKnD,CAAC,CAACqjB,aAAa,CAAClgB,CAAC,CAAC;EACjC,GAAG,EAAE,CAACnD,CAAC,EAAEmD,CAAC,KAAKnD,CAAC,CAAC0H,OAAO,CAACvE,CAAC,CAAC;EAC3B,GAAG,EAAE,CAACnD,CAAC,EAAEmD,CAAC,KAAKnD,CAAC,CAAC0kB,WAAW,CAACvhB,CAAC,CAAC;EAC/B,GAAG,EAAGnD,CAAC,IAAKsK,IAAI,CAACuE,KAAK,CAAC7O,CAAC,CAAC,CAAChB,QAAQ,CAAC,CAAC,CAAC;EACrC,GAAG,EAAE,CAACgB,CAAC,EAAEmD,CAAC,KAAKwhB,aAAa,CAAC3kB,CAAC,GAAG,GAAG,EAAEmD,CAAC,CAAC;EACxC,GAAG,EAAEwhB,aAAa;EAClB,GAAG,EAAEC,gBAAgB;EACrB,GAAG,EAAG5kB,CAAC,IAAKsK,IAAI,CAACuE,KAAK,CAAC7O,CAAC,CAAC,CAAChB,QAAQ,CAAC,EAAE,CAAC,CAAC8M,WAAW,EAAE;EACpD,GAAG,EAAG9L,CAAC,IAAKsK,IAAI,CAACuE,KAAK,CAAC7O,CAAC,CAAC,CAAChB,QAAQ,CAAC,EAAE;AACvC,CAAC;AClBc,mBAAQ,CAACgB,CAAC,EAAE;EACzB,OAAOA,CAAC;AACV;ACOA,IAAI2C,GAAG,GAAGjE,KAAK,CAACK,SAAS,CAAC4D,GAAG;EACzBkiB,QAAQ,GAAG,CAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,EAAE,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,EAAC,GAAG,CAAC;AAEpE,qBAAQ,CAACC,MAAM,EAAE;EAC9B,IAAIC,KAAK,GAAGD,MAAM,CAACvB,QAAQ,KAAK9f,SAAS,IAAIqhB,MAAM,CAACtB,SAAS,KAAK/f,SAAS,GAAGqe,UAAQ,GAAGkD,WAAW,CAACriB,GAAG,CAAC1D,IAAI,CAAC6lB,MAAM,CAACvB,QAAQ,EAAE1gB,MAAM,CAAC,EAAEiiB,MAAM,CAACtB,SAAS,GAAG,EAAE,CAAC;IAC1JyB,cAAc,GAAGH,MAAM,CAACI,QAAQ,KAAKzhB,SAAS,GAAG,EAAE,GAAGqhB,MAAM,CAACI,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE;IAC7EC,cAAc,GAAGL,MAAM,CAACI,QAAQ,KAAKzhB,SAAS,GAAG,EAAE,GAAGqhB,MAAM,CAACI,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE;IAC7EE,OAAO,GAAGN,MAAM,CAACM,OAAO,KAAK3hB,SAAS,GAAG,GAAG,GAAGqhB,MAAM,CAACM,OAAO,GAAG,EAAE;IAClEzB,QAAQ,GAAGmB,MAAM,CAACnB,QAAQ,KAAKlgB,SAAS,GAAGqe,UAAQ,GAAGuD,cAAc,CAAC1iB,GAAG,CAAC1D,IAAI,CAAC6lB,MAAM,CAACnB,QAAQ,EAAElf,MAAM,CAAC,CAAC;IACvG6gB,OAAO,GAAGR,MAAM,CAACQ,OAAO,KAAK7hB,SAAS,GAAG,GAAG,GAAGqhB,MAAM,CAACQ,OAAO,GAAG,EAAE;IAClEC,KAAK,GAAGT,MAAM,CAACS,KAAK,KAAK9hB,SAAS,GAAG,GAAG,GAAGqhB,MAAM,CAACS,KAAK,GAAG,EAAE;IAC5DC,GAAG,GAAGV,MAAM,CAACU,GAAG,KAAK/hB,SAAS,GAAG,KAAK,GAAGqhB,MAAM,CAACU,GAAG,GAAG,EAAE;EAE5D,SAASC,SAAS,CAAC3B,SAAS,EAAE;IAC5BA,SAAS,GAAGD,eAAe,CAACC,SAAS,CAAC;IAEtC,IAAIE,IAAI,GAAGF,SAAS,CAACE,IAAI;MACrBrT,KAAK,GAAGmT,SAAS,CAACnT,KAAK;MACvBsT,IAAI,GAAGH,SAAS,CAACG,IAAI;MACrBC,MAAM,GAAGJ,SAAS,CAACI,MAAM;MACzB5X,IAAI,GAAGwX,SAAS,CAACxX,IAAI;MACrBmX,KAAK,GAAGK,SAAS,CAACL,KAAK;MACvBU,KAAK,GAAGL,SAAS,CAACK,KAAK;MACvBC,SAAS,GAAGN,SAAS,CAACM,SAAS;MAC/B1H,IAAI,GAAGoH,SAAS,CAACpH,IAAI;MACrBlZ,IAAI,GAAGsgB,SAAS,CAACtgB,IAAI;;IAE7B;IACI,IAAIA,IAAI,KAAK,GAAG,EAAE2gB,KAAK,GAAG,IAAI,EAAE3gB,IAAI,GAAG,GAAG;;IAE9C;IAAA,KACS,IAAI,CAACkiB,WAAW,CAACliB,IAAI,CAAC,EAAE4gB,SAAS,KAAK3gB,SAAS,KAAK2gB,SAAS,GAAG,EAAE,CAAC,EAAE1H,IAAI,GAAG,IAAI,EAAElZ,IAAI,GAAG,GAAG;;IAErG;IACI,IAAI8I,IAAI,IAAK0X,IAAI,KAAK,GAAG,IAAIrT,KAAK,KAAK,GAAI,EAAErE,IAAI,GAAG,IAAI,EAAE0X,IAAI,GAAG,GAAG,EAAErT,KAAK,GAAG,GAAG;;IAErF;IACA;IACI,IAAIgV,MAAM,GAAGzB,MAAM,KAAK,GAAG,GAAGe,cAAc,GAAGf,MAAM,KAAK,GAAG,IAAI,QAAQ,CAACtb,IAAI,CAACpF,IAAI,CAAC,GAAG,GAAG,GAAGA,IAAI,CAACuI,WAAW,EAAE,GAAG,EAAE;MAChH6Z,MAAM,GAAG1B,MAAM,KAAK,GAAG,GAAGiB,cAAc,GAAG,MAAM,CAACvc,IAAI,CAACpF,IAAI,CAAC,GAAG8hB,OAAO,GAAG,EAAE;;IAEnF;IACA;IACA;IACI,IAAIO,UAAU,GAAGH,WAAW,CAACliB,IAAI,CAAC;MAC9BsiB,WAAW,GAAG,YAAY,CAACld,IAAI,CAACpF,IAAI,CAAC;;IAE7C;IACA;IACA;IACA;IACI4gB,SAAS,GAAGA,SAAS,KAAK3gB,SAAS,GAAG,CAAC,GACjC,QAAQ,CAACmF,IAAI,CAACpF,IAAI,CAAC,GAAG8G,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,EAAE,EAAE6Z,SAAS,CAAC,CAAC,GAC1D9Z,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,EAAE,EAAE6Z,SAAS,CAAC,CAAC;IAE1C,SAAS5H,MAAM,CAACvb,KAAK,EAAE;MACrB,IAAI8kB,WAAW,GAAGJ,MAAM;QACpBK,WAAW,GAAGJ,MAAM;QACpBhZ,CAAC;QAAE1P,CAAC;QAAEsB,CAAC;MAEX,IAAIgF,IAAI,KAAK,GAAG,EAAE;QAChBwiB,WAAW,GAAGH,UAAU,CAAC5kB,KAAK,CAAC,GAAG+kB,WAAW;QAC7C/kB,KAAK,GAAG,EAAE;MAClB,CAAO,MAAM;QACLA,KAAK,GAAG,CAACA,KAAK;;QAEtB;QACQ,IAAIglB,aAAa,GAAGhlB,KAAK,GAAG,CAAC,IAAI,CAAC,GAAGA,KAAK,GAAG,CAAC;;QAEtD;QACQA,KAAK,GAAG4H,KAAK,CAAC5H,KAAK,CAAC,GAAGukB,GAAG,GAAGK,UAAU,CAACvb,IAAI,CAACiF,GAAG,CAACtO,KAAK,CAAC,EAAEmjB,SAAS,CAAC;;QAE3E;QACQ,IAAI1H,IAAI,EAAEzb,KAAK,GAAGilB,UAAU,CAACjlB,KAAK,CAAC;;QAE3C;QACQ,IAAIglB,aAAa,IAAI,CAAChlB,KAAK,KAAK,CAAC,IAAIgjB,IAAI,KAAK,GAAG,EAAEgC,aAAa,GAAG,KAAK;;QAEhF;QACQF,WAAW,GAAG,CAACE,aAAa,GAAIhC,IAAI,KAAK,GAAG,GAAGA,IAAI,GAAGsB,KAAK,GAAItB,IAAI,KAAK,GAAG,IAAIA,IAAI,KAAK,GAAG,GAAG,EAAE,GAAGA,IAAI,IAAI8B,WAAW;QACtHC,WAAW,GAAG,CAACxiB,IAAI,KAAK,GAAG,GAAGqhB,QAAQ,CAAC,CAAC,GAAGN,cAAc,GAAG,CAAC,CAAC,GAAG,EAAE,IAAIyB,WAAW,IAAIC,aAAa,IAAIhC,IAAI,KAAK,GAAG,GAAG,GAAG,GAAG,EAAE,CAAC;;QAEvI;QACA;QACQ,IAAI6B,WAAW,EAAE;UACflZ,CAAC,GAAG,CAAC,CAAC,EAAE1P,CAAC,GAAG+D,KAAK,CAACvE,MAAM;UACxB,OAAO,EAAEkQ,CAAC,GAAG1P,CAAC,EAAE;YACd,IAAIsB,CAAC,GAAGyC,KAAK,CAACklB,UAAU,CAACvZ,CAAC,CAAC,EAAE,EAAE,GAAGpO,CAAC,IAAIA,CAAC,GAAG,EAAE,EAAE;cAC7CwnB,WAAW,GAAG,CAACxnB,CAAC,KAAK,EAAE,GAAG4mB,OAAO,GAAGnkB,KAAK,CAACzB,KAAK,CAACoN,CAAC,GAAG,CAAC,CAAC,GAAG3L,KAAK,CAACzB,KAAK,CAACoN,CAAC,CAAC,IAAIoZ,WAAW;cACtF/kB,KAAK,GAAGA,KAAK,CAACzB,KAAK,CAAC,CAAC,EAAEoN,CAAC,CAAC;cACzB;YACd;UACA;QACA;MACA;;MAEA;MACM,IAAIuX,KAAK,IAAI,CAAC7X,IAAI,EAAErL,KAAK,GAAG8jB,KAAK,CAAC9jB,KAAK,EAAEgD,QAAQ,CAAC;;MAExD;MACM,IAAIvH,MAAM,GAAGqpB,WAAW,CAACrpB,MAAM,GAAGuE,KAAK,CAACvE,MAAM,GAAGspB,WAAW,CAACtpB,MAAM;QAC/DqU,OAAO,GAAGrU,MAAM,GAAG+mB,KAAK,GAAG,IAAI/kB,KAAK,CAAC+kB,KAAK,GAAG/mB,MAAM,GAAG,CAAC,CAAC,CAACiM,IAAI,CAACqb,IAAI,CAAC,GAAG,EAAE;;MAElF;MACM,IAAIG,KAAK,IAAI7X,IAAI,EAAErL,KAAK,GAAG8jB,KAAK,CAAChU,OAAO,GAAG9P,KAAK,EAAE8P,OAAO,CAACrU,MAAM,GAAG+mB,KAAK,GAAGuC,WAAW,CAACtpB,MAAM,GAAGuH,QAAQ,CAAC,EAAE8M,OAAO,GAAG,EAAE;;MAE7H;MACM,QAAQJ,KAAK;QACX,KAAK,GAAG;UAAE1P,KAAK,GAAG8kB,WAAW,GAAG9kB,KAAK,GAAG+kB,WAAW,GAAGjV,OAAO;UAAE;QAC/D,KAAK,GAAG;UAAE9P,KAAK,GAAG8kB,WAAW,GAAGhV,OAAO,GAAG9P,KAAK,GAAG+kB,WAAW;UAAE;QAC/D,KAAK,GAAG;UAAE/kB,KAAK,GAAG8P,OAAO,CAACvR,KAAK,CAAC,CAAC,EAAE9C,MAAM,GAAGqU,OAAO,CAACrU,MAAM,IAAI,CAAC,CAAC,GAAGqpB,WAAW,GAAG9kB,KAAK,GAAG+kB,WAAW,GAAGjV,OAAO,CAACvR,KAAK,CAAC9C,MAAM,CAAC;UAAE;QAC9H;UAASuE,KAAK,GAAG8P,OAAO,GAAGgV,WAAW,GAAG9kB,KAAK,GAAG+kB,WAAW;UAAE;MAAM;MAGtE,OAAOrC,QAAQ,CAAC1iB,KAAK,CAAC;IAC5B;IAEIub,MAAM,CAACxd,QAAQ,GAAG,YAAW;MAC3B,OAAO8kB,SAAS,GAAG,EAAE;IAC3B,CAAK;IAED,OAAOtH,MAAM;EACjB;EAEE,SAAS4J,YAAY,CAACtC,SAAS,EAAE7iB,KAAK,EAAE;IACtC,IAAIZ,CAAC,GAAGolB,SAAS,EAAE3B,SAAS,GAAGD,eAAe,CAACC,SAAS,CAAC,EAAEA,SAAS,CAACtgB,IAAI,GAAG,GAAG,EAAEsgB,SAAS,EAAE;MACxFuC,CAAC,GAAG/b,IAAI,CAAC6C,GAAG,CAAC,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAAC0E,KAAK,CAACwV,QAAQ,CAACvjB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC;MAClEwH,CAAC,GAAG6B,IAAI,CAAC8E,GAAG,CAAC,EAAE,EAAE,CAACiX,CAAC,CAAC;MACpBV,MAAM,GAAGd,QAAQ,CAAC,CAAC,GAAGwB,CAAC,GAAG,CAAC,CAAC;IAChC,OAAO,UAASplB,KAAK,EAAE;MACrB,OAAOZ,CAAC,CAACoI,CAAC,GAAGxH,KAAK,CAAC,GAAG0kB,MAAM;IAClC,CAAK;EACL;EAEE,OAAO;IACLnJ,MAAM,EAAEiJ,SAAS;IACjBW,YAAY,EAAEA;EAClB,CAAG;AACH;ACjJA,IAAItB,MAAM;AACH,IAAItI,MAAM;AACV,IAAI4J,YAAY;AAEvBE,aAAa,CAAC;EACZ9C,SAAS,EAAE,GAAG;EACdD,QAAQ,EAAE,CAAC,CAAC,CAAC;EACb2B,QAAQ,EAAE,CAAC,GAAG,EAAE,EAAE;AACpB,CAAC,CAAC;AAEa,SAASoB,aAAa,CAACnV,UAAU,EAAE;EAChD2T,MAAM,GAAGyB,YAAY,CAACpV,UAAU,CAAC;EACjCqL,MAAM,GAAGsI,MAAM,CAACtI,MAAM;EACtB4J,YAAY,GAAGtB,MAAM,CAACsB,YAAY;EAClC,OAAOtB,MAAM;AACf;ACfe,uBAAQ,CAAChkB,IAAI,EAAE;EAC5B,OAAOwJ,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE,CAACqX,QAAQ,CAACla,IAAI,CAACiF,GAAG,CAACzO,IAAI,CAAC,CAAC,CAAC;AAC/C;ACFe,wBAAQ,CAACA,IAAI,EAAEG,KAAK,EAAE;EACnC,OAAOqJ,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAAC6C,GAAG,CAAC,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAAC0E,KAAK,CAACwV,QAAQ,CAACvjB,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGujB,QAAQ,CAACla,IAAI,CAACiF,GAAG,CAACzO,IAAI,CAAC,CAAC,CAAC;AAC/G;ACFe,uBAAQ,CAACA,IAAI,EAAEqM,GAAG,EAAE;EACjCrM,IAAI,GAAGwJ,IAAI,CAACiF,GAAG,CAACzO,IAAI,CAAC,EAAEqM,GAAG,GAAG7C,IAAI,CAACiF,GAAG,CAACpC,GAAG,CAAC,GAAGrM,IAAI;EACjD,OAAOwJ,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAEqX,QAAQ,CAACrX,GAAG,CAAC,GAAGqX,QAAQ,CAAC1jB,IAAI,CAAC,CAAC,GAAG,CAAC;AACxD;ACFe,SAAS0lB,UAAU,CAAClY,KAAK,EAAEC,IAAI,EAAEC,KAAK,EAAEsV,SAAS,EAAE;EAChE,IAAIhjB,IAAI,GAAGuO,QAAQ,CAACf,KAAK,EAAEC,IAAI,EAAEC,KAAK,CAAC;IACnC4V,SAAS;EACbN,SAAS,GAAGD,eAAe,CAACC,SAAS,IAAI,IAAI,GAAG,IAAI,GAAGA,SAAS,CAAC;EACjE,QAAQA,SAAS,CAACtgB,IAAI;IACpB,KAAK,GAAG;MAAE;QACR,IAAIvC,KAAK,GAAGqJ,IAAI,CAAC6C,GAAG,CAAC7C,IAAI,CAACiF,GAAG,CAACjB,KAAK,CAAC,EAAEhE,IAAI,CAACiF,GAAG,CAAChB,IAAI,CAAC,CAAC;QACrD,IAAIuV,SAAS,CAACM,SAAS,IAAI,IAAI,IAAI,CAACvb,KAAK,CAACub,SAAS,GAAGqC,eAAe,CAAC3lB,IAAI,EAAEG,KAAK,CAAC,CAAC,EAAE6iB,SAAS,CAACM,SAAS,GAAGA,SAAS;QACpH,OAAOgC,YAAY,CAACtC,SAAS,EAAE7iB,KAAK,CAAC;MAC3C;IACI,KAAK,EAAE;IACP,KAAK,GAAG;IACR,KAAK,GAAG;IACR,KAAK,GAAG;IACR,KAAK,GAAG;MAAE;QACR,IAAI6iB,SAAS,CAACM,SAAS,IAAI,IAAI,IAAI,CAACvb,KAAK,CAACub,SAAS,GAAGsC,cAAc,CAAC5lB,IAAI,EAAEwJ,IAAI,CAAC6C,GAAG,CAAC7C,IAAI,CAACiF,GAAG,CAACjB,KAAK,CAAC,EAAEhE,IAAI,CAACiF,GAAG,CAAChB,IAAI,CAAC,CAAC,CAAC,CAAC,EAAEuV,SAAS,CAACM,SAAS,GAAGA,SAAS,IAAIN,SAAS,CAACtgB,IAAI,KAAK,GAAG,CAAC;QAClL;MACN;IACI,KAAK,GAAG;IACR,KAAK,GAAG;MAAE;QACR,IAAIsgB,SAAS,CAACM,SAAS,IAAI,IAAI,IAAI,CAACvb,KAAK,CAACub,SAAS,GAAGuC,cAAc,CAAC7lB,IAAI,CAAC,CAAC,EAAEgjB,SAAS,CAACM,SAAS,GAAGA,SAAS,GAAG,CAACN,SAAS,CAACtgB,IAAI,KAAK,GAAG,IAAI,CAAC;QAC3I;MACN;EAAK;EAEH,OAAOgZ,MAAM,CAACsH,SAAS,CAAC;AAC1B;ACvBO,SAAS8C,SAAS,CAAC1W,KAAK,EAAE;EAC/B,IAAIN,MAAM,GAAGM,KAAK,CAACN,MAAM;EAEzBM,KAAK,CAAC7B,KAAK,GAAG,UAASG,KAAK,EAAE;IAC5B,IAAItH,CAAC,GAAG0I,MAAM,EAAE;IAChB,OAAOvB,KAAK,CAACnH,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACA,CAAC,CAACxK,MAAM,GAAG,CAAC,CAAC,EAAE8R,KAAK,IAAI,IAAI,GAAG,EAAE,GAAGA,KAAK,CAAC;EACnE,CAAG;EAED0B,KAAK,CAACsW,UAAU,GAAG,UAAShY,KAAK,EAAEsV,SAAS,EAAE;IAC5C,IAAI5c,CAAC,GAAG0I,MAAM,EAAE;IAChB,OAAO4W,UAAU,CAACtf,CAAC,CAAC,CAAC,CAAC,EAAEA,CAAC,CAACA,CAAC,CAACxK,MAAM,GAAG,CAAC,CAAC,EAAE8R,KAAK,IAAI,IAAI,GAAG,EAAE,GAAGA,KAAK,EAAEsV,SAAS,CAAC;EACnF,CAAG;EAED5T,KAAK,CAAC2W,IAAI,GAAG,UAASrY,KAAK,EAAE;IAC3B,IAAIA,KAAK,IAAI,IAAI,EAAEA,KAAK,GAAG,EAAE;IAE7B,IAAItH,CAAC,GAAG0I,MAAM,EAAE;IAChB,IAAIyU,EAAE,GAAG,CAAC;IACV,IAAIC,EAAE,GAAGpd,CAAC,CAACxK,MAAM,GAAG,CAAC;IACrB,IAAI4R,KAAK,GAAGpH,CAAC,CAACmd,EAAE,CAAC;IACjB,IAAI9V,IAAI,GAAGrH,CAAC,CAACod,EAAE,CAAC;IAChB,IAAIwC,OAAO;IACX,IAAIhmB,IAAI;IACR,IAAIimB,OAAO,GAAG,EAAE;IAEhB,IAAIxY,IAAI,GAAGD,KAAK,EAAE;MAChBxN,IAAI,GAAGwN,KAAK,EAAEA,KAAK,GAAGC,IAAI,EAAEA,IAAI,GAAGzN,IAAI;MACvCA,IAAI,GAAGujB,EAAE,EAAEA,EAAE,GAAGC,EAAE,EAAEA,EAAE,GAAGxjB,IAAI;IACnC;IAEI,OAAOimB,OAAO,EAAE,GAAG,CAAC,EAAE;MACpBjmB,IAAI,GAAG4N,aAAa,CAACJ,KAAK,EAAEC,IAAI,EAAEC,KAAK,CAAC;MACxC,IAAI1N,IAAI,KAAKgmB,OAAO,EAAE;QACpB5f,CAAC,CAACmd,EAAE,CAAC,GAAG/V;QACRpH,CAAC,CAACod,EAAE,CAAC,GAAG/V;QACR,OAAOqB,MAAM,CAAC1I,CAAC,CAAC;MACxB,CAAO,MAAM,IAAIpG,IAAI,GAAG,CAAC,EAAE;QACnBwN,KAAK,GAAGhE,IAAI,CAAC0E,KAAK,CAACV,KAAK,GAAGxN,IAAI,CAAC,GAAGA,IAAI;QACvCyN,IAAI,GAAGjE,IAAI,CAACoF,IAAI,CAACnB,IAAI,GAAGzN,IAAI,CAAC,GAAGA,IAAI;MAC5C,CAAO,MAAM,IAAIA,IAAI,GAAG,CAAC,EAAE;QACnBwN,KAAK,GAAGhE,IAAI,CAACoF,IAAI,CAACpB,KAAK,GAAGxN,IAAI,CAAC,GAAGA,IAAI;QACtCyN,IAAI,GAAGjE,IAAI,CAAC0E,KAAK,CAACT,IAAI,GAAGzN,IAAI,CAAC,GAAGA,IAAI;MAC7C,CAAO,MAAM;QACL;MACR;MACMgmB,OAAO,GAAGhmB,IAAI;IACpB;IAEI,OAAOoP,KAAK;EAChB,CAAG;EAED,OAAOA,KAAK;AACd;AAEe,SAAS2P,MAAM,GAAG;EAC/B,IAAI3P,KAAK,GAAGgT,UAAU,EAAE;EAExBhT,KAAK,CAACG,IAAI,GAAG,YAAW;IACtB,OAAOA,MAAI,CAACH,KAAK,EAAE2P,MAAM,EAAE,CAAC;EAChC,CAAG;EAEDlQ,SAAS,CAAChT,KAAK,CAACuT,KAAK,EAAEzT,SAAS,CAAC;EAEjC,OAAOmqB,SAAS,CAAC1W,KAAK,CAAC;AACzB;AC7DA,SAASsS,WAAW,GAAG;EACrB,IAAIwE,EAAE,GAAG,CAAC;IACNC,EAAE,GAAG,CAAC;IACNxI,EAAE;IACFC,EAAE;IACFwI,GAAG;IACHxE,SAAS;IACT5S,YAAY,GAAGgS,UAAQ;IACvB1E,KAAK,GAAG,KAAK;IACbnN,OAAO;EAEX,SAASC,KAAK,CAAClQ,CAAC,EAAE;IAChB,OAAOA,CAAC,IAAI,IAAI,IAAI6I,KAAK,CAAC7I,CAAC,GAAG,CAACA,CAAC,CAAC,GAAGiQ,OAAO,GAAGH,YAAY,CAACoX,GAAG,KAAK,CAAC,GAAG,GAAG,IAAIlnB,CAAC,GAAG,CAAC0iB,SAAS,CAAC1iB,CAAC,CAAC,GAAGye,EAAE,IAAIyI,GAAG,EAAE9J,KAAK,GAAG9S,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE7C,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEvK,CAAC,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC;EAC1J;EAEEkQ,KAAK,CAACN,MAAM,GAAG,UAASO,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAI,CAACsqB,EAAE,EAAEC,EAAE,CAAC,GAAG9W,CAAC,EAAEsO,EAAE,GAAGiE,SAAS,CAACsE,EAAE,GAAG,CAACA,EAAE,CAAC,EAAEtI,EAAE,GAAGgE,SAAS,CAACuE,EAAE,GAAG,CAACA,EAAE,CAAC,EAAEC,GAAG,GAAGzI,EAAE,KAAKC,EAAE,GAAG,CAAC,GAAG,CAAC,IAAIA,EAAE,GAAGD,EAAE,CAAC,EAAEvO,KAAK,IAAI,CAAC8W,EAAE,EAAEC,EAAE,CAAC;EACvJ,CAAG;EAED/W,KAAK,CAACkN,KAAK,GAAG,UAASjN,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAI0gB,KAAK,GAAG,CAAC,CAACjN,CAAC,EAAED,KAAK,IAAIkN,KAAK;EAC1D,CAAG;EAEDlN,KAAK,CAACJ,YAAY,GAAG,UAASK,CAAC,EAAE;IAC/B,OAAO1T,SAAS,CAACC,MAAM,IAAIoT,YAAY,GAAGK,CAAC,EAAED,KAAK,IAAIJ,YAAY;EACtE,CAAG;EAED,SAASL,KAAK,CAACyS,WAAW,EAAE;IAC1B,OAAO,UAAS/R,CAAC,EAAE;MACjB,IAAIvB,EAAE,EAAEE,EAAE;MACV,OAAOrS,SAAS,CAACC,MAAM,IAAI,CAACkS,EAAE,EAAEE,EAAE,CAAC,GAAGqB,CAAC,EAAEL,YAAY,GAAGoS,WAAW,CAACtT,EAAE,EAAEE,EAAE,CAAC,EAAEoB,KAAK,IAAI,CAACJ,YAAY,CAAC,CAAC,CAAC,EAAEA,YAAY,CAAC,CAAC,CAAC,CAAC;IAC9H,CAAK;EACL;EAEEI,KAAK,CAACT,KAAK,GAAGA,KAAK,CAACyS,WAAW,CAAC;EAEhChS,KAAK,CAACY,UAAU,GAAGrB,KAAK,CAACuT,gBAAgB,CAAC;EAE1C9S,KAAK,CAACD,OAAO,GAAG,UAASE,CAAC,EAAE;IAC1B,OAAO1T,SAAS,CAACC,MAAM,IAAIuT,OAAO,GAAGE,CAAC,EAAED,KAAK,IAAID,OAAO;EAC5D,CAAG;EAED,OAAO,UAASsP,CAAC,EAAE;IACjBmD,SAAS,GAAGnD,CAAC,EAAEd,EAAE,GAAGc,CAAC,CAACyH,EAAE,CAAC,EAAEtI,EAAE,GAAGa,CAAC,CAAC0H,EAAE,CAAC,EAAEC,GAAG,GAAGzI,EAAE,KAAKC,EAAE,GAAG,CAAC,GAAG,CAAC,IAAIA,EAAE,GAAGD,EAAE,CAAC;IAC1E,OAAOvO,KAAK;EAChB,CAAG;AACH;AAEO,SAASG,IAAI,CAAC3K,MAAM,EAAE0D,MAAM,EAAE;EACnC,OAAOA,MAAM,CACRwG,MAAM,CAAClK,MAAM,CAACkK,MAAM,EAAE,CAAC,CACvBE,YAAY,CAACpK,MAAM,CAACoK,YAAY,EAAE,CAAC,CACnCsN,KAAK,CAAC1X,MAAM,CAAC0X,KAAK,EAAE,CAAC,CACrBnN,OAAO,CAACvK,MAAM,CAACuK,OAAO,EAAE,CAAC;AAChC;AAEe,SAASkX,UAAU,GAAG;EACnC,IAAIjX,KAAK,GAAG0W,SAAS,CAACpE,WAAW,EAAE,CAACV,UAAQ,CAAC,CAAC;EAE9C5R,KAAK,CAACG,IAAI,GAAG,YAAW;IACtB,OAAOA,IAAI,CAACH,KAAK,EAAEiX,UAAU,EAAE,CAAC;EACpC,CAAG;EAED,OAAOtX,gBAAgB,CAAClT,KAAK,CAACuT,KAAK,EAAEzT,SAAS,CAAC;AACjD;AClEc,MAAO2qB,KAAK;EAIxB9hB,YAAY+hB,MAAkB;IAC5B,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,WAAW,CAACD,MAAM,CAAC7jB,IAAI,CAAC;;EAGxB8jB,WAAW,CAAC9jB,IAAe;IAChC,QAAQA,IAAI;MACV,KAAK,MAAM;QACT,IAAI,CAAC0M,KAAK,GAAGqX,IAAS,EAAE;QACxB;MAEF,KAAK,QAAQ;QACX,IAAI,CAACrX,KAAK,GAAGsX,MAAW,EAAE;QAC1B;IAAK;;EAIJC,YAAY,CAACJ,MAAkB;IACpC,IAAI,CAACC,WAAW,CAACD,MAAM,CAAC7jB,IAAI,CAAC;IAC7B,IAAI,CAAC6jB,MAAM,GAAGA,MAAM;;EAGtB,IAAW7jB,IAAI;IACb,OAAO,IAAI,CAAC6jB,MAAM,CAAC7jB,IAAI;;EAGlBgN,SAAS;IACd,IAAI,IAAI,CAAChN,IAAI,KAAK,MAAM,EAAE;MACxB,OAAO,IAAI,CAAC0M,KAAK,CAACM,SAAS,EAAE;IAC9B;IAED,OAAO,CAAC;;EAGHkX,WAAW,CAACjY,KAAuB;IACxC,IAAI,CAACS,KAAK,GAAG,IAAI,CAACA,KAAK,CAACG,IAAI,EAAE,CAACZ,KAAK,CAACA,KAAK,CAAC;;EAGtCkY,YAAY,CAACpc,IAAY,EAAEqc,WAAkC,EAAErlB,IAAc;IAClF,MAAMqN,MAAM,GACV,IAAI,CAACyX,MAAM,CAAC7jB,IAAI,KAAK,MAAM,GAAG,IAAI,CAACqkB,cAAc,CAACtc,IAAI,EAAEhJ,IAAI,CAAC,GAAG,IAAI,CAACulB,aAAa,CAACvc,IAAI,EAAEqc,WAAW,EAAErlB,IAAI,CAAC;IAC7G,IAAI,CAAC2N,KAAK,GAAG,IAAI,CAACA,KAAK,CAACG,IAAI,EAAE,CAACT,MAAM,CAACA,MAAM,CAAC;;EAGxCjN,GAAG,CAAIS,MAAW;IACvB,OAAOA,MAAM,CAACT,GAAG,CAAEwI,CAAC,IAAK,IAAI,CAAC4c,MAAM,CAAC5c,CAAC,CAAC,CAAC;;EAGnC4c,MAAM,CAAIlpB,GAAM;IACrB,MAAM;MAAE2E;IAAI,CAAE,GAAG,IAAI,CAAC6jB,MAAM;IAE5B,IAAI7jB,IAAI,KAAK,MAAM,EAAE;MACnB,OAAO,IAAI,CAAC0M,KAAK,CAACrR,GAAG,CAAC,GAAG,IAAI,CAACqR,KAAK,CAACM,SAAS,EAAE,GAAG,CAAC;IACpD;IAED,OAAO,IAAI,CAACN,KAAK,CAACrR,GAAG,CAAC;;EAGjBwP,KAAK;IACV,MAAM;MAAE7K;IAAI,CAAE,GAAG,IAAI,CAAC6jB,MAAM;IAE5B,IAAI,IAAI,CAACA,MAAM,CAACW,UAAU,KAAKvkB,SAAS,EAAE;MACxC,OAAO,IAAI,CAAC4jB,MAAM,CAACW,UAAU;IAC9B;IAED,IAAIxkB,IAAI,KAAK,MAAM,EAAE;MACnB,OAAO,IAAI,CAAC0M,KAAK,CAACN,MAAM,EAAE;IAC3B;IAED,OAAO,IAAI,CAACM,KAAK,CAAC7B,KAAK,CAAC,IAAI,CAACgZ,MAAM,CAAChZ,KAAK,IAAI,CAAC,CAAC;;EAGzCwZ,cAAc,CAACtc,IAAY,EAAEhJ,IAAc;IACjD,MAAMa,MAAM,GAAGb,IAAI,CAACf,MAAM,CAAC,CAACymB,GAAG,EAAErlB,GAAG,KAAKqlB,GAAG,CAAC/hB,MAAM,CAAC2E,MAAM,CAACjI,GAAG,EAAE2I,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC;IAC3E,OAAO7M,KAAK,CAAC0R,IAAI,CAAC,IAAI8X,GAAG,CAAC9kB,MAAM,CAAC,CAAC;;EAG5B0kB,aAAa,CAACvc,IAAY,EAAEqc,WAAkC,EAAErlB,IAAc;IACpF,MAAM;MAAEqN;IAAM,CAAE,GAAG,IAAI,CAACyX,MAAM;IAC9B,MAAMjkB,MAAM,GAAab,IAAI,CAACf,MAAM,CAAC,CAACymB,GAAG,EAAErlB,GAAG,KAAKqlB,GAAG,CAAC/hB,MAAM,CAAC2E,MAAM,CAACjI,GAAG,EAAE2I,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC;IAErF,MAAM4c,QAAQ,GAAWhb,KAAG,CAACya,WAAW,EAAGK,GAAG,IAAK9a,KAAG,CAAC8a,GAAG,EAAGjoB,CAAC,IAAKmN,KAAG,CAACnN,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAChF,MAAMooB,QAAQ,GAAW7d,KAAG,CAACqd,WAAW,EAAGK,GAAG,IAAK1d,KAAG,CAAC0d,GAAG,EAAGjoB,CAAC,IAAKuK,KAAG,CAACvK,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;IAEhF,MAAM,CAACqoB,OAAO,EAAEC,OAAO,CAAC,GAAGrb,MAAM,CAACvO,KAAK,CAAC0R,IAAI,CAAC,IAAI8X,GAAG,CAAC9kB,MAAM,CAAC8C,MAAM,CAAC,CAACkiB,QAAQ,EAAED,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;;IAE3F,MAAMI,IAAI,GAAGC,IAAI,CAAC;AACA,6BAAO,IAAI,CAAC;QAC1B5Y,MAAM,CAAC,CAAC,CAAC;AACZ,MAAC;;IAGF,MAAM6Y,IAAI,GAAGD,IAAI,CAAC;AACA,6BAAO,IAAI,CAAC;QAC1B5Y,MAAM,CAAC,CAAC,CAAC;AACZ,MAAC;IAEF,OAAO,CAAC2Y,IAAI,EAAEE,IAAI,CAAC;;AAEtB;ACxGa,MAAOC,MAAM;EAKzBpjB,YAAY+hB,MAAiB;IAC3B,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACsB,OAAO,GAAG,IAAIvB,KAAK,CAACC,MAAM,CAACsB,OAAO,CAAC;IACxC,IAAI,CAACC,SAAS,GAAG,IAAIxB,KAAK,CAACC,MAAM,CAACuB,SAAS,CAAC;;EAGvCnB,YAAY,CAACJ,MAAiB;IACnC,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACsB,OAAO,CAAClB,YAAY,CAACJ,MAAM,CAACsB,OAAO,CAAC;IACzC,IAAI,CAACC,SAAS,CAACnB,YAAY,CAACJ,MAAM,CAACuB,SAAS,CAAC;;EAGxClB,WAAW,CAACmB,MAAc,EAAEC,SAAoB;IACrD,IAAIA,SAAS,KAAK,YAAY,EAAE;MAC9B,IAAI,CAACH,OAAO,CAACjB,WAAW,CAAC,CAACmB,MAAM,CAAC7oB,CAAC,EAAE6oB,MAAM,CAACpF,KAAK,CAAC,CAAC;MAClD,IAAI,CAACmF,SAAS,CAAClB,WAAW,CAAC,CAACmB,MAAM,CAACE,MAAM,EAAEF,MAAM,CAACvgB,CAAC,CAAC,CAAC;IACtD,OAAM,IAAIwgB,SAAS,KAAK,UAAU,EAAE;MACnC,IAAI,CAACH,OAAO,CAACjB,WAAW,CAAC,CAACmB,MAAM,CAACvgB,CAAC,EAAEugB,MAAM,CAACE,MAAM,CAAC,CAAC;MACnD,IAAI,CAACH,SAAS,CAAClB,WAAW,CAAC,CAACmB,MAAM,CAAC7oB,CAAC,EAAE6oB,MAAM,CAACpF,KAAK,CAAC,CAAC;IACrD;;EAGIkE,YAAY,CAACpc,IAAY,EAAEqc,WAAkC,EAAErlB,IAA6B;IACjG,IAAI,CAAComB,OAAO,CAAChB,YAAY,CAACpc,IAAI,EAAEqc,WAAW,EAAE/c,MAAM,CAAC,CAAC,EAAEtI,IAAI,CAAC,CAAC;IAC7D,IAAI,CAACqmB,SAAS,CAACjB,YAAY,CAACpc,IAAI,EAAEqc,WAAW,EAAE/c,MAAM,CAAC,CAAC,EAAEtI,IAAI,CAAC,CAAC;;AAElE;ACpCD,MAAMymB,IAAE,GAAG1e,IAAI,CAAC6T,EAAE;EACd8K,KAAG,GAAG,CAAC,GAAGD,IAAE;EACZE,SAAO,GAAG,IAAI;EACdC,UAAU,GAAGF,KAAG,GAAGC,SAAO;AAE9B,SAASE,IAAI,GAAG;EACd,IAAI,CAACC,GAAG,GAAG,IAAI,CAACC,GAAG;EAAA;EACnB,IAAI,CAACC,GAAG,GAAG,IAAI,CAACC,GAAG,GAAG,IAAI,CAAC;EAC3B,IAAI,CAACrZ,CAAC,GAAG,EAAE;AACb;AAEA,SAASsZ,IAAI,GAAG;EACd,OAAO,IAAIL,IAAI;AACjB;AAEAA,IAAI,CAACrqB,SAAS,GAAG0qB,IAAI,CAAC1qB,SAAS,GAAG;EAChCuG,WAAW,EAAE8jB,IAAI;EACjBM,MAAM,EAAE,UAAS1pB,CAAC,EAAEsI,CAAC,EAAE;IACrB,IAAI,CAAC6H,CAAC,IAAI,GAAG,IAAI,IAAI,CAACkZ,GAAG,GAAG,IAAI,CAACE,GAAG,GAAG,CAACvpB,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACspB,GAAG,GAAG,IAAI,CAACE,GAAG,GAAG,CAAClhB,CAAC,CAAC;EACjF,CAAG;EACDqhB,SAAS,EAAE,YAAW;IACpB,IAAI,IAAI,CAACJ,GAAG,KAAK,IAAI,EAAE;MACrB,IAAI,CAACA,GAAG,GAAG,IAAI,CAACF,GAAG,EAAE,IAAI,CAACG,GAAG,GAAG,IAAI,CAACF,GAAG;MACxC,IAAI,CAACnZ,CAAC,IAAI,GAAG;IACnB;EACA,CAAG;EACDyZ,MAAM,EAAE,UAAS5pB,CAAC,EAAEsI,CAAC,EAAE;IACrB,IAAI,CAAC6H,CAAC,IAAI,GAAG,IAAI,IAAI,CAACoZ,GAAG,GAAG,CAACvpB,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACwpB,GAAG,GAAG,CAAClhB,CAAC,CAAC;EAC3D,CAAG;EACDuhB,gBAAgB,EAAE,UAAS5C,EAAE,EAAE6C,EAAE,EAAE9pB,CAAC,EAAEsI,CAAC,EAAE;IACvC,IAAI,CAAC6H,CAAC,IAAI,GAAG,GAAI,CAAC8W,EAAG,GAAG,GAAG,GAAI,CAAC6C,EAAG,GAAG,GAAG,IAAI,IAAI,CAACP,GAAG,GAAG,CAACvpB,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACwpB,GAAG,GAAG,CAAClhB,CAAC,CAAC;EACvF,CAAG;EACDyhB,aAAa,EAAE,UAAS9C,EAAE,EAAE6C,EAAE,EAAEE,EAAE,EAAEC,EAAE,EAAEjqB,CAAC,EAAEsI,CAAC,EAAE;IAC5C,IAAI,CAAC6H,CAAC,IAAI,GAAG,GAAI,CAAC8W,EAAG,GAAG,GAAG,GAAI,CAAC6C,EAAG,GAAG,GAAG,GAAI,CAACE,EAAG,GAAG,GAAG,GAAI,CAACC,EAAG,GAAG,GAAG,IAAI,IAAI,CAACV,GAAG,GAAG,CAACvpB,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACwpB,GAAG,GAAG,CAAClhB,CAAC,CAAC;EACnH,CAAG;EACD4hB,KAAK,EAAE,UAASjD,EAAE,EAAE6C,EAAE,EAAEE,EAAE,EAAEC,EAAE,EAAEzgB,CAAC,EAAE;IACjCyd,EAAE,GAAG,CAACA,EAAE,EAAE6C,EAAE,GAAG,CAACA,EAAE,EAAEE,EAAE,GAAG,CAACA,EAAE,EAAEC,EAAE,GAAG,CAACA,EAAE,EAAEzgB,CAAC,GAAG,CAACA,CAAC;IAC9C,IAAIwd,EAAE,GAAG,IAAI,CAACuC,GAAG;MACbY,EAAE,GAAG,IAAI,CAACX,GAAG;MACbY,GAAG,GAAGJ,EAAE,GAAG/C,EAAE;MACboD,GAAG,GAAGJ,EAAE,GAAGH,EAAE;MACbQ,GAAG,GAAGtD,EAAE,GAAGC,EAAE;MACbsD,GAAG,GAAGJ,EAAE,GAAGL,EAAE;MACbU,KAAK,GAAGF,GAAG,GAAGA,GAAG,GAAGC,GAAG,GAAGA,GAAG;;IAErC;IACI,IAAI/gB,CAAC,GAAG,CAAC,EAAE,MAAM,IAAI3L,KAAK,CAAC,mBAAmB,GAAG2L,CAAC,CAAC;;IAEvD;IACI,IAAI,IAAI,CAAC+f,GAAG,KAAK,IAAI,EAAE;MACrB,IAAI,CAACpZ,CAAC,IAAI,GAAG,IAAI,IAAI,CAACoZ,GAAG,GAAGtC,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAACuC,GAAG,GAAGM,EAAE,CAAC;IAC7D;;IAEA;IAAA,KACS,IAAI,EAAEU,KAAK,GAAGtB,SAAO,CAAC,EAAC;;IAEhC;IACA;IACA;IAAA,KACS,IAAI,EAAE5e,IAAI,CAACiF,GAAG,CAACgb,GAAG,GAAGH,GAAG,GAAGC,GAAG,GAAGC,GAAG,CAAC,GAAGpB,SAAO,CAAC,IAAI,CAAC1f,CAAC,EAAE;MAC3D,IAAI,CAAC2G,CAAC,IAAI,GAAG,IAAI,IAAI,CAACoZ,GAAG,GAAGtC,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAACuC,GAAG,GAAGM,EAAE,CAAC;IAC7D;;IAEA;IAAA,KACS;MACH,IAAIW,GAAG,GAAGT,EAAE,GAAGhD,EAAE;QACb0D,GAAG,GAAGT,EAAE,GAAGE,EAAE;QACbQ,KAAK,GAAGP,GAAG,GAAGA,GAAG,GAAGC,GAAG,GAAGA,GAAG;QAC7BO,KAAK,GAAGH,GAAG,GAAGA,GAAG,GAAGC,GAAG,GAAGA,GAAG;QAC7BG,GAAG,GAAGvgB,IAAI,CAAC4D,IAAI,CAACyc,KAAK,CAAC;QACtBG,GAAG,GAAGxgB,IAAI,CAAC4D,IAAI,CAACsc,KAAK,CAAC;QACtBjhB,CAAC,GAAGC,CAAC,GAAGc,IAAI,CAACuQ,GAAG,CAAC,CAACmO,IAAE,GAAG1e,IAAI,CAACygB,IAAI,CAAC,CAACJ,KAAK,GAAGH,KAAK,GAAGI,KAAK,KAAK,CAAC,GAAGC,GAAG,GAAGC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC;QACjFE,GAAG,GAAGzhB,CAAC,GAAGuhB,GAAG;QACbG,GAAG,GAAG1hB,CAAC,GAAGshB,GAAG;;MAEvB;MACM,IAAIvgB,IAAI,CAACiF,GAAG,CAACyb,GAAG,GAAG,CAAC,CAAC,GAAG9B,SAAO,EAAE;QAC/B,IAAI,CAAC/Y,CAAC,IAAI,GAAG,IAAI8W,EAAE,GAAG+D,GAAG,GAAGV,GAAG,CAAC,GAAG,GAAG,IAAIR,EAAE,GAAGkB,GAAG,GAAGT,GAAG,CAAC;MACjE;MAEM,IAAI,CAACpa,CAAC,IAAI,GAAG,GAAG3G,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,OAAO,GAAI,EAAE+gB,GAAG,GAAGE,GAAG,GAAGH,GAAG,GAAGI,GAAG,CAAE,GAAG,GAAG,IAAI,IAAI,CAACnB,GAAG,GAAGtC,EAAE,GAAGgE,GAAG,GAAGb,GAAG,CAAC,GAAG,GAAG,IAAI,IAAI,CAACZ,GAAG,GAAGM,EAAE,GAAGmB,GAAG,GAAGZ,GAAG,CAAC;IAChJ;EACA,CAAG;EACDa,GAAG,EAAE,UAASlrB,CAAC,EAAEsI,CAAC,EAAEkB,CAAC,EAAErM,EAAE,EAAEC,EAAE,EAAE+tB,GAAG,EAAE;IAClCnrB,CAAC,GAAG,CAACA,CAAC,EAAEsI,CAAC,GAAG,CAACA,CAAC,EAAEkB,CAAC,GAAG,CAACA,CAAC,EAAE2hB,GAAG,GAAG,CAAC,CAACA,GAAG;IACnC,IAAIC,EAAE,GAAG5hB,CAAC,GAAGc,IAAI,CAACqV,GAAG,CAACxiB,EAAE,CAAC;MACrBkuB,EAAE,GAAG7hB,CAAC,GAAGc,IAAI,CAACsV,GAAG,CAACziB,EAAE,CAAC;MACrB6pB,EAAE,GAAGhnB,CAAC,GAAGorB,EAAE;MACXjB,EAAE,GAAG7hB,CAAC,GAAG+iB,EAAE;MACXC,EAAE,GAAG,CAAC,GAAGH,GAAG;MACZI,EAAE,GAAGJ,GAAG,GAAGhuB,EAAE,GAAGC,EAAE,GAAGA,EAAE,GAAGD,EAAE;;IAEpC;IACI,IAAIqM,CAAC,GAAG,CAAC,EAAE,MAAM,IAAI3L,KAAK,CAAC,mBAAmB,GAAG2L,CAAC,CAAC;;IAEvD;IACI,IAAI,IAAI,CAAC+f,GAAG,KAAK,IAAI,EAAE;MACrB,IAAI,CAACpZ,CAAC,IAAI,GAAG,GAAG6W,EAAE,GAAG,GAAG,GAAGmD,EAAE;IACnC;;IAEA;IAAA,KACS,IAAI7f,IAAI,CAACiF,GAAG,CAAC,IAAI,CAACga,GAAG,GAAGvC,EAAE,CAAC,GAAGkC,SAAO,IAAI5e,IAAI,CAACiF,GAAG,CAAC,IAAI,CAACia,GAAG,GAAGW,EAAE,CAAC,GAAGjB,SAAO,EAAE;MAC/E,IAAI,CAAC/Y,CAAC,IAAI,GAAG,GAAG6W,EAAE,GAAG,GAAG,GAAGmD,EAAE;IACnC;;IAEA;IACI,IAAI,CAAC3gB,CAAC,EAAE;;IAEZ;IACI,IAAI+hB,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGA,EAAE,GAAGtC,KAAG,GAAGA,KAAG;;IAEnC;IACI,IAAIsC,EAAE,GAAGpC,UAAU,EAAE;MACnB,IAAI,CAAChZ,CAAC,IAAI,GAAG,GAAG3G,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,OAAO,GAAG8hB,EAAE,GAAG,GAAG,IAAItrB,CAAC,GAAGorB,EAAE,CAAC,GAAG,GAAG,IAAI9iB,CAAC,GAAG+iB,EAAE,CAAC,GAAG,GAAG,GAAG7hB,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,OAAO,GAAG8hB,EAAE,GAAG,GAAG,IAAI,IAAI,CAAC/B,GAAG,GAAGvC,EAAE,CAAC,GAAG,GAAG,IAAI,IAAI,CAACwC,GAAG,GAAGW,EAAE,CAAC;IACrK;;IAEA;IAAA,KACS,IAAIoB,EAAE,GAAGrC,SAAO,EAAE;MACrB,IAAI,CAAC/Y,CAAC,IAAI,GAAG,GAAG3G,CAAC,GAAG,GAAG,GAAGA,CAAC,GAAG,KAAK,GAAI,EAAE+hB,EAAE,IAAIvC,IAAE,CAAE,GAAG,GAAG,GAAGsC,EAAE,GAAG,GAAG,IAAI,IAAI,CAAC/B,GAAG,GAAGvpB,CAAC,GAAGwJ,CAAC,GAAGc,IAAI,CAACqV,GAAG,CAACviB,EAAE,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACosB,GAAG,GAAGlhB,CAAC,GAAGkB,CAAC,GAAGc,IAAI,CAACsV,GAAG,CAACxiB,EAAE,CAAC,CAAC;IACxJ;EACA,CAAG;EACDouB,IAAI,EAAE,UAASxrB,CAAC,EAAEsI,CAAC,EAAEmjB,CAAC,EAAE/N,CAAC,EAAE;IACzB,IAAI,CAACvN,CAAC,IAAI,GAAG,IAAI,IAAI,CAACkZ,GAAG,GAAG,IAAI,CAACE,GAAG,GAAG,CAACvpB,CAAC,CAAC,GAAG,GAAG,IAAI,IAAI,CAACspB,GAAG,GAAG,IAAI,CAACE,GAAG,GAAG,CAAClhB,CAAC,CAAC,GAAG,GAAG,GAAI,CAACmjB,CAAE,GAAG,GAAG,GAAI,CAAC/N,CAAE,GAAG,GAAG,GAAI,CAAC+N,CAAE,GAAG,GAAG;EAC9H,CAAG;EACDzsB,QAAQ,EAAE,YAAW;IACnB,OAAO,IAAI,CAACmR,CAAC;EACjB;AACA,CAAC;AC/Hc,mBAAQ,CAACnQ,CAAC,EAAE;EACzB,OAAO,SAASggB,QAAQ,GAAG;IACzB,OAAOhgB,CAAC;EACZ,CAAG;AACH;ACJO,MAAMuP,GAAG,GAAGjF,IAAI,CAACiF,GAAG;AACpB,MAAMkQ,KAAK,GAAGnV,IAAI,CAACmV,KAAK;AACxB,MAAME,GAAG,GAAGrV,IAAI,CAACqV,GAAG;AACpB,MAAMxS,GAAG,GAAG7C,IAAI,CAAC6C,GAAG;AACpB,MAAM5C,GAAG,GAAGD,IAAI,CAACC,GAAG;AACpB,MAAMqV,GAAG,GAAGtV,IAAI,CAACsV,GAAG;AACpB,MAAM1R,IAAI,GAAG5D,IAAI,CAAC4D,IAAI;AAEtB,MAAMgb,SAAO,GAAG,KAAK;AACrB,MAAMF,EAAE,GAAG1e,IAAI,CAAC6T,EAAE;AAClB,MAAMuN,MAAM,GAAG1C,EAAE,GAAG,CAAC;AACrB,MAAMC,GAAG,GAAG,CAAC,GAAGD,EAAE;AAElB,SAAS+B,IAAI,CAAC/qB,CAAC,EAAE;EACtB,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG,CAAC,CAAC,GAAGgpB,EAAE,GAAG1e,IAAI,CAACygB,IAAI,CAAC/qB,CAAC,CAAC;AAC/C;AAEO,SAAS2rB,IAAI,CAAC3rB,CAAC,EAAE;EACtB,OAAOA,CAAC,IAAI,CAAC,GAAG0rB,MAAM,GAAG1rB,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC0rB,MAAM,GAAGphB,IAAI,CAACqhB,IAAI,CAAC3rB,CAAC,CAAC;AAC3D;ACfA,SAAS4rB,cAAc,CAAC1kB,CAAC,EAAE;EACzB,OAAOA,CAAC,CAAC2kB,WAAW;AACtB;AAEA,SAASC,cAAc,CAAC5kB,CAAC,EAAE;EACzB,OAAOA,CAAC,CAAC6kB,WAAW;AACtB;AAEA,SAASC,aAAa,CAAC9kB,CAAC,EAAE;EACxB,OAAOA,CAAC,CAAC+kB,UAAU;AACrB;AAEA,SAASC,WAAW,CAAChlB,CAAC,EAAE;EACtB,OAAOA,CAAC,CAACilB,QAAQ;AACnB;AAEA,SAASC,WAAW,CAACllB,CAAC,EAAE;EACtB,OAAOA,CAAC,IAAIA,CAAC,CAACmlB,QAAQ,CAAC;AACzB;;AAEA,SAASC,SAAS,CAACtF,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAE6C,EAAE,EAAEE,EAAE,EAAEC,EAAE,EAAEsC,EAAE,EAAEC,EAAE,EAAE;EACjD,IAAIC,GAAG,GAAGxF,EAAE,GAAGD,EAAE;IAAE0F,GAAG,GAAG5C,EAAE,GAAGK,EAAE;IAC5BwC,GAAG,GAAGJ,EAAE,GAAGvC,EAAE;IAAE4C,GAAG,GAAGJ,EAAE,GAAGvC,EAAE;IAC5B1K,CAAC,GAAGqN,GAAG,GAAGH,GAAG,GAAGE,GAAG,GAAGD,GAAG;EAC7B,IAAInN,CAAC,GAAGA,CAAC,GAAG2J,SAAO,EAAE;EACrB3J,CAAC,GAAG,CAACoN,GAAG,IAAIxC,EAAE,GAAGF,EAAE,CAAC,GAAG2C,GAAG,IAAI5F,EAAE,GAAGgD,EAAE,CAAC,IAAIzK,CAAC;EAC3C,OAAO,CAACyH,EAAE,GAAGzH,CAAC,GAAGkN,GAAG,EAAEtC,EAAE,GAAG5K,CAAC,GAAGmN,GAAG,CAAC;AACrC;;AAEA;AACA;AACA,SAASG,cAAc,CAAC7F,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAE6C,EAAE,EAAEhb,EAAE,EAAEge,EAAE,EAAExB,EAAE,EAAE;EAClD,IAAIhB,GAAG,GAAGtD,EAAE,GAAGC,EAAE;IACbsD,GAAG,GAAGJ,EAAE,GAAGL,EAAE;IACbvd,EAAE,GAAG,CAAC+e,EAAE,GAAGwB,EAAE,GAAG,CAACA,EAAE,IAAI5e,IAAI,CAACoc,GAAG,GAAGA,GAAG,GAAGC,GAAG,GAAGA,GAAG,CAAC;IAClDwC,EAAE,GAAGxgB,EAAE,GAAGge,GAAG;IACbyC,EAAE,GAAG,CAACzgB,EAAE,GAAG+d,GAAG;IACd2C,GAAG,GAAGjG,EAAE,GAAG+F,EAAE;IACbG,GAAG,GAAG/C,EAAE,GAAG6C,EAAE;IACbP,GAAG,GAAGxF,EAAE,GAAG8F,EAAE;IACbL,GAAG,GAAG5C,EAAE,GAAGkD,EAAE;IACbG,GAAG,GAAG,CAACF,GAAG,GAAGR,GAAG,IAAI,CAAC;IACrBW,GAAG,GAAG,CAACF,GAAG,GAAGR,GAAG,IAAI,CAAC;IACrBtB,EAAE,GAAGqB,GAAG,GAAGQ,GAAG;IACd5B,EAAE,GAAGqB,GAAG,GAAGQ,GAAG;IACdG,EAAE,GAAGjC,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE;IACtB7hB,CAAC,GAAGsF,EAAE,GAAGge,EAAE;IACXQ,CAAC,GAAGL,GAAG,GAAGP,GAAG,GAAGD,GAAG,GAAGS,GAAG;IACzBhmB,CAAC,GAAG,CAACmkB,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,IAAInd,IAAI,CAACf,GAAG,CAAC,CAAC,EAAE3D,CAAC,GAAGA,CAAC,GAAG6jB,EAAE,GAAGC,CAAC,GAAGA,CAAC,CAAC,CAAC;IACxDC,GAAG,GAAG,CAACD,CAAC,GAAGjC,EAAE,GAAGD,EAAE,GAAGlkB,CAAC,IAAImmB,EAAE;IAC5BG,GAAG,GAAG,CAAC,CAACF,CAAC,GAAGlC,EAAE,GAAGC,EAAE,GAAGnkB,CAAC,IAAImmB,EAAE;IAC7BI,GAAG,GAAG,CAACH,CAAC,GAAGjC,EAAE,GAAGD,EAAE,GAAGlkB,CAAC,IAAImmB,EAAE;IAC5BK,GAAG,GAAG,CAAC,CAACJ,CAAC,GAAGlC,EAAE,GAAGC,EAAE,GAAGnkB,CAAC,IAAImmB,EAAE;IAC7BM,GAAG,GAAGJ,GAAG,GAAGJ,GAAG;IACfS,GAAG,GAAGJ,GAAG,GAAGJ,GAAG;IACfS,GAAG,GAAGJ,GAAG,GAAGN,GAAG;IACfW,GAAG,GAAGJ,GAAG,GAAGN,GAAG;;EAErB;EACA;EACE,IAAIO,GAAG,GAAGA,GAAG,GAAGC,GAAG,GAAGA,GAAG,GAAGC,GAAG,GAAGA,GAAG,GAAGC,GAAG,GAAGA,GAAG,EAAEP,GAAG,GAAGE,GAAG,EAAED,GAAG,GAAGE,GAAG;EAEvE,OAAO;IACLK,EAAE,EAAER,GAAG;IACPS,EAAE,EAAER,GAAG;IACPlD,GAAG,EAAE,CAACyC,EAAE;IACRxC,GAAG,EAAE,CAACyC,EAAE;IACRC,GAAG,EAAEM,GAAG,IAAIze,EAAE,GAAGtF,CAAC,GAAG,CAAC,CAAC;IACvB0jB,GAAG,EAAEM,GAAG,IAAI1e,EAAE,GAAGtF,CAAC,GAAG,CAAC;EAC1B,CAAG;AACH;AAEe,YAAQ,GAAG;EACxB,IAAIqiB,WAAW,GAAGD,cAAc;IAC5BG,WAAW,GAAGD,cAAc;IAC5BmC,YAAY,GAAGjO,UAAQ,CAAC,CAAC,CAAC;IAC1BkO,SAAS,GAAG,IAAI;IAChBjC,UAAU,GAAGD,aAAa;IAC1BG,QAAQ,GAAGD,WAAW;IACtBG,QAAQ,GAAGD,WAAW;IACtB+B,OAAO,GAAG,IAAI;EAElB,SAASjD,GAAG,GAAG;IACb,IAAIkD,MAAM;MACN5kB,CAAC;MACDoF,EAAE,GAAG,CAACid,WAAW,CAAClvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;MACxCqS,EAAE,GAAG,CAACid,WAAW,CAACpvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;MACxCU,EAAE,GAAG8uB,UAAU,CAACtvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,GAAGivB,MAAM;MAC/CtuB,EAAE,GAAG+uB,QAAQ,CAACxvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,GAAGivB,MAAM;MAC7CH,EAAE,GAAGhc,GAAG,CAACnS,EAAE,GAAGD,EAAE,CAAC;MACjBmuB,EAAE,GAAGluB,EAAE,GAAGD,EAAE;IAEhB,IAAI,CAACgxB,OAAO,EAAEA,OAAO,GAAGC,MAAM,GAAG3E,IAAI,EAAE;;IAE3C;IACI,IAAI3a,EAAE,GAAGF,EAAE,EAAEpF,CAAC,GAAGsF,EAAE,EAAEA,EAAE,GAAGF,EAAE,EAAEA,EAAE,GAAGpF,CAAC;;IAExC;IACI,IAAI,EAAEsF,EAAE,GAAGoa,SAAO,CAAC,EAAEiF,OAAO,CAACzE,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC;;IAE7C;IAAA,KACS,IAAI6B,EAAE,GAAGtC,GAAG,GAAGC,SAAO,EAAE;MAC3BiF,OAAO,CAACzE,MAAM,CAAC5a,EAAE,GAAG6Q,GAAG,CAACxiB,EAAE,CAAC,EAAE2R,EAAE,GAAG8Q,GAAG,CAACziB,EAAE,CAAC,CAAC;MAC1CgxB,OAAO,CAACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEpc,EAAE,EAAE3R,EAAE,EAAEC,EAAE,EAAE,CAACkuB,EAAE,CAAC;MAClC,IAAI1c,EAAE,GAAGsa,SAAO,EAAE;QAChBiF,OAAO,CAACzE,MAAM,CAAC9a,EAAE,GAAG+Q,GAAG,CAACviB,EAAE,CAAC,EAAEwR,EAAE,GAAGgR,GAAG,CAACxiB,EAAE,CAAC,CAAC;QAC1C+wB,OAAO,CAACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEtc,EAAE,EAAExR,EAAE,EAAED,EAAE,EAAEmuB,EAAE,CAAC;MACzC;IACA;;IAEA;IAAA,KACS;MACH,IAAI+C,GAAG,GAAGlxB,EAAE;QACRmxB,GAAG,GAAGlxB,EAAE;QACRmxB,GAAG,GAAGpxB,EAAE;QACRqxB,GAAG,GAAGpxB,EAAE;QACRqxB,GAAG,GAAGlD,EAAE;QACRmD,GAAG,GAAGnD,EAAE;QACRoD,EAAE,GAAGtC,QAAQ,CAAC1vB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,GAAG,CAAC;QACxCmyB,EAAE,GAAID,EAAE,GAAGzF,SAAO,KAAMgF,SAAS,GAAG,CAACA,SAAS,CAACvxB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,GAAGyR,IAAI,CAACU,EAAE,GAAGA,EAAE,GAAGE,EAAE,GAAGA,EAAE,CAAC,CAAC;QAChGge,EAAE,GAAGviB,GAAG,CAACgF,GAAG,CAACT,EAAE,GAAGF,EAAE,CAAC,GAAG,CAAC,EAAE,CAACqf,YAAY,CAACtxB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,CAAC;QAChEoyB,GAAG,GAAG/B,EAAE;QACRgC,GAAG,GAAGhC,EAAE;QACRrO,EAAE;QACFC,EAAE;;MAEZ;MACM,IAAIkQ,EAAE,GAAG1F,SAAO,EAAE;QAChB,IAAI6F,EAAE,GAAGpD,IAAI,CAACiD,EAAE,GAAGhgB,EAAE,GAAGgR,GAAG,CAAC+O,EAAE,CAAC,CAAC;UAC5BK,EAAE,GAAGrD,IAAI,CAACiD,EAAE,GAAG9f,EAAE,GAAG8Q,GAAG,CAAC+O,EAAE,CAAC,CAAC;QAChC,IAAI,CAACF,GAAG,IAAIM,EAAE,GAAG,CAAC,IAAI7F,SAAO,EAAE6F,EAAE,IAAKzD,EAAE,GAAG,CAAC,GAAG,CAAC,CAAE,EAAEiD,GAAG,IAAIQ,EAAE,EAAEP,GAAG,IAAIO,EAAE,CAAC,KACpEN,GAAG,GAAG,CAAC,EAAEF,GAAG,GAAGC,GAAG,GAAG,CAACrxB,EAAE,GAAGC,EAAE,IAAI,CAAC;QACvC,IAAI,CAACsxB,GAAG,IAAIM,EAAE,GAAG,CAAC,IAAI9F,SAAO,EAAE8F,EAAE,IAAK1D,EAAE,GAAG,CAAC,GAAG,CAAC,CAAE,EAAE+C,GAAG,IAAIW,EAAE,EAAEV,GAAG,IAAIU,EAAE,CAAC,KACpEN,GAAG,GAAG,CAAC,EAAEL,GAAG,GAAGC,GAAG,GAAG,CAACnxB,EAAE,GAAGC,EAAE,IAAI,CAAC;MAC/C;MAEM,IAAIktB,GAAG,GAAGxb,EAAE,GAAG6Q,GAAG,CAAC0O,GAAG,CAAC;QACnB9D,GAAG,GAAGzb,EAAE,GAAG8Q,GAAG,CAACyO,GAAG,CAAC;QACnB5B,GAAG,GAAG7d,EAAE,GAAG+Q,GAAG,CAAC6O,GAAG,CAAC;QACnB9B,GAAG,GAAG9d,EAAE,GAAGgR,GAAG,CAAC4O,GAAG,CAAC;;MAE7B;MACM,IAAI1B,EAAE,GAAG5D,SAAO,EAAE;QAChB,IAAI+D,GAAG,GAAGne,EAAE,GAAG6Q,GAAG,CAAC2O,GAAG,CAAC;UACnBpB,GAAG,GAAGpe,EAAE,GAAG8Q,GAAG,CAAC0O,GAAG,CAAC;UACnBnB,GAAG,GAAGve,EAAE,GAAG+Q,GAAG,CAAC4O,GAAG,CAAC;UACnBnB,GAAG,GAAGxe,EAAE,GAAGgR,GAAG,CAAC2O,GAAG,CAAC;UACnBU,EAAE;;QAEd;QACQ,IAAI1D,EAAE,GAAGvC,EAAE,KAAKiG,EAAE,GAAG3C,SAAS,CAAChC,GAAG,EAAEC,GAAG,EAAE4C,GAAG,EAAEC,GAAG,EAAEH,GAAG,EAAEC,GAAG,EAAET,GAAG,EAAEC,GAAG,CAAC,CAAC,EAAE;UACvE,IAAIwC,EAAE,GAAG5E,GAAG,GAAG2E,EAAE,CAAC,CAAC,CAAC;YAChBE,EAAE,GAAG5E,GAAG,GAAG0E,EAAE,CAAC,CAAC,CAAC;YAChBG,EAAE,GAAGnC,GAAG,GAAGgC,EAAE,CAAC,CAAC,CAAC;YAChBI,EAAE,GAAGnC,GAAG,GAAG+B,EAAE,CAAC,CAAC,CAAC;YAChBK,EAAE,GAAG,CAAC,GAAG1P,GAAG,CAACmL,IAAI,CAAC,CAACmE,EAAE,GAAGE,EAAE,GAAGD,EAAE,GAAGE,EAAE,KAAKnhB,IAAI,CAACghB,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CAAC,GAAGjhB,IAAI,CAACkhB,EAAE,GAAGA,EAAE,GAAGC,EAAE,GAAGA,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;YACjGE,EAAE,GAAGrhB,IAAI,CAAC+gB,EAAE,CAAC,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC,CAAC,GAAGA,EAAE,CAAC,CAAC,CAAC,CAAC;UAC5CJ,GAAG,GAAGtkB,GAAG,CAACuiB,EAAE,EAAE,CAACle,EAAE,GAAG2gB,EAAE,KAAKD,EAAE,GAAG,CAAC,CAAC,CAAC;UACnCR,GAAG,GAAGvkB,GAAG,CAACuiB,EAAE,EAAE,CAAChe,EAAE,GAAGygB,EAAE,KAAKD,EAAE,GAAG,CAAC,CAAC,CAAC;QAC7C;MACA;;MAEA;MACM,IAAI,EAAEZ,GAAG,GAAGxF,SAAO,CAAC,EAAEiF,OAAO,CAACzE,MAAM,CAACY,GAAG,EAAEC,GAAG,CAAC;;MAEpD;MAAA,KACW,IAAIuE,GAAG,GAAG5F,SAAO,EAAE;QACtBzK,EAAE,GAAGoO,cAAc,CAACM,GAAG,EAAEC,GAAG,EAAE9C,GAAG,EAAEC,GAAG,EAAEzb,EAAE,EAAEggB,GAAG,EAAExD,EAAE,CAAC;QACpD5M,EAAE,GAAGmO,cAAc,CAACI,GAAG,EAAEC,GAAG,EAAET,GAAG,EAAEC,GAAG,EAAE5d,EAAE,EAAEggB,GAAG,EAAExD,EAAE,CAAC;QAEpD6C,OAAO,CAACzE,MAAM,CAACjL,EAAE,CAACsP,EAAE,GAAGtP,EAAE,CAAC6L,GAAG,EAAE7L,EAAE,CAACuP,EAAE,GAAGvP,EAAE,CAAC8L,GAAG,CAAC;;QAEtD;QACQ,IAAIuE,GAAG,GAAGhC,EAAE,EAAEqB,OAAO,CAACjD,GAAG,CAACzM,EAAE,CAACsP,EAAE,EAAEtP,EAAE,CAACuP,EAAE,EAAEc,GAAG,EAAErP,KAAK,CAAChB,EAAE,CAAC8L,GAAG,EAAE9L,EAAE,CAAC6L,GAAG,CAAC,EAAE7K,KAAK,CAACf,EAAE,CAAC6L,GAAG,EAAE7L,EAAE,CAAC4L,GAAG,CAAC,EAAE,CAACgB,EAAE,CAAC;;QAEvG;QAAA,KACa;UACH6C,OAAO,CAACjD,GAAG,CAACzM,EAAE,CAACsP,EAAE,EAAEtP,EAAE,CAACuP,EAAE,EAAEc,GAAG,EAAErP,KAAK,CAAChB,EAAE,CAAC8L,GAAG,EAAE9L,EAAE,CAAC6L,GAAG,CAAC,EAAE7K,KAAK,CAAChB,EAAE,CAACyO,GAAG,EAAEzO,EAAE,CAACwO,GAAG,CAAC,EAAE,CAAC3B,EAAE,CAAC;UACjF6C,OAAO,CAACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEpc,EAAE,EAAE2Q,KAAK,CAAChB,EAAE,CAACuP,EAAE,GAAGvP,EAAE,CAACyO,GAAG,EAAEzO,EAAE,CAACsP,EAAE,GAAGtP,EAAE,CAACwO,GAAG,CAAC,EAAExN,KAAK,CAACf,EAAE,CAACsP,EAAE,GAAGtP,EAAE,CAACwO,GAAG,EAAExO,EAAE,CAACqP,EAAE,GAAGrP,EAAE,CAACuO,GAAG,CAAC,EAAE,CAAC3B,EAAE,CAAC;UACxG6C,OAAO,CAACjD,GAAG,CAACxM,EAAE,CAACqP,EAAE,EAAErP,EAAE,CAACsP,EAAE,EAAEc,GAAG,EAAErP,KAAK,CAACf,EAAE,CAACwO,GAAG,EAAExO,EAAE,CAACuO,GAAG,CAAC,EAAExN,KAAK,CAACf,EAAE,CAAC6L,GAAG,EAAE7L,EAAE,CAAC4L,GAAG,CAAC,EAAE,CAACgB,EAAE,CAAC;QAC3F;MACA;;MAEA;MAAA,KACW6C,OAAO,CAACzE,MAAM,CAACY,GAAG,EAAEC,GAAG,CAAC,EAAE4D,OAAO,CAACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEpc,EAAE,EAAEuf,GAAG,EAAEC,GAAG,EAAE,CAAChD,EAAE,CAAC;;MAEzE;MACA;MACM,IAAI,EAAE1c,EAAE,GAAGsa,SAAO,CAAC,IAAI,EAAEuF,GAAG,GAAGvF,SAAO,CAAC,EAAEiF,OAAO,CAACvE,MAAM,CAAC6C,GAAG,EAAEC,GAAG,CAAC;;MAEvE;MAAA,KACW,IAAImC,GAAG,GAAG3F,SAAO,EAAE;QACtBzK,EAAE,GAAGoO,cAAc,CAACJ,GAAG,EAAEC,GAAG,EAAEO,GAAG,EAAEC,GAAG,EAAEte,EAAE,EAAE,CAACigB,GAAG,EAAEvD,EAAE,CAAC;QACrD5M,EAAE,GAAGmO,cAAc,CAACvC,GAAG,EAAEC,GAAG,EAAE4C,GAAG,EAAEC,GAAG,EAAExe,EAAE,EAAE,CAACigB,GAAG,EAAEvD,EAAE,CAAC;QAErD6C,OAAO,CAACvE,MAAM,CAACnL,EAAE,CAACsP,EAAE,GAAGtP,EAAE,CAAC6L,GAAG,EAAE7L,EAAE,CAACuP,EAAE,GAAGvP,EAAE,CAAC8L,GAAG,CAAC;;QAEtD;QACQ,IAAIsE,GAAG,GAAG/B,EAAE,EAAEqB,OAAO,CAACjD,GAAG,CAACzM,EAAE,CAACsP,EAAE,EAAEtP,EAAE,CAACuP,EAAE,EAAEa,GAAG,EAAEpP,KAAK,CAAChB,EAAE,CAAC8L,GAAG,EAAE9L,EAAE,CAAC6L,GAAG,CAAC,EAAE7K,KAAK,CAACf,EAAE,CAAC6L,GAAG,EAAE7L,EAAE,CAAC4L,GAAG,CAAC,EAAE,CAACgB,EAAE,CAAC;;QAEvG;QAAA,KACa;UACH6C,OAAO,CAACjD,GAAG,CAACzM,EAAE,CAACsP,EAAE,EAAEtP,EAAE,CAACuP,EAAE,EAAEa,GAAG,EAAEpP,KAAK,CAAChB,EAAE,CAAC8L,GAAG,EAAE9L,EAAE,CAAC6L,GAAG,CAAC,EAAE7K,KAAK,CAAChB,EAAE,CAACyO,GAAG,EAAEzO,EAAE,CAACwO,GAAG,CAAC,EAAE,CAAC3B,EAAE,CAAC;UACjF6C,OAAO,CAACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEtc,EAAE,EAAE6Q,KAAK,CAAChB,EAAE,CAACuP,EAAE,GAAGvP,EAAE,CAACyO,GAAG,EAAEzO,EAAE,CAACsP,EAAE,GAAGtP,EAAE,CAACwO,GAAG,CAAC,EAAExN,KAAK,CAACf,EAAE,CAACsP,EAAE,GAAGtP,EAAE,CAACwO,GAAG,EAAExO,EAAE,CAACqP,EAAE,GAAGrP,EAAE,CAACuO,GAAG,CAAC,EAAE3B,EAAE,CAAC;UACvG6C,OAAO,CAACjD,GAAG,CAACxM,EAAE,CAACqP,EAAE,EAAErP,EAAE,CAACsP,EAAE,EAAEa,GAAG,EAAEpP,KAAK,CAACf,EAAE,CAACwO,GAAG,EAAExO,EAAE,CAACuO,GAAG,CAAC,EAAExN,KAAK,CAACf,EAAE,CAAC6L,GAAG,EAAE7L,EAAE,CAAC4L,GAAG,CAAC,EAAE,CAACgB,EAAE,CAAC;QAC3F;MACA;;MAEA;MAAA,KACW6C,OAAO,CAACjD,GAAG,CAAC,CAAC,EAAE,CAAC,EAAEtc,EAAE,EAAE4f,GAAG,EAAED,GAAG,EAAEjD,EAAE,CAAC;IAC9C;IAEI6C,OAAO,CAACxE,SAAS,EAAE;IAEnB,IAAIyE,MAAM,EAAE,OAAOD,OAAO,GAAG,IAAI,EAAEC,MAAM,GAAG,EAAE,IAAI,IAAI;EAC1D;EAEElD,GAAG,CAACsE,QAAQ,GAAG,YAAW;IACxB,IAAIhmB,CAAC,GAAG,CAAC,CAACqiB,WAAW,CAAClvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,GAAG,CAACsvB,WAAW,CAACpvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,IAAI,CAAC;MACnFJ,CAAC,GAAG,CAAC,CAAC4vB,UAAU,CAACtvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,GAAG,CAAC0vB,QAAQ,CAACxvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,IAAI,CAAC,GAAGusB,EAAE,GAAG,CAAC;IAC5F,OAAO,CAACrJ,GAAG,CAACtjB,CAAC,CAAC,GAAGmN,CAAC,EAAEoW,GAAG,CAACvjB,CAAC,CAAC,GAAGmN,CAAC,CAAC;EACnC,CAAG;EAED0hB,GAAG,CAACW,WAAW,GAAG,UAAS1b,CAAC,EAAE;IAC5B,OAAO1T,SAAS,CAACC,MAAM,IAAImvB,WAAW,GAAG,OAAO1b,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE+a,GAAG,IAAIW,WAAW;EAC3G,CAAG;EAEDX,GAAG,CAACa,WAAW,GAAG,UAAS5b,CAAC,EAAE;IAC5B,OAAO1T,SAAS,CAACC,MAAM,IAAIqvB,WAAW,GAAG,OAAO5b,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE+a,GAAG,IAAIa,WAAW;EAC3G,CAAG;EAEDb,GAAG,CAAC+C,YAAY,GAAG,UAAS9d,CAAC,EAAE;IAC7B,OAAO1T,SAAS,CAACC,MAAM,IAAIuxB,YAAY,GAAG,OAAO9d,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE+a,GAAG,IAAI+C,YAAY;EAC7G,CAAG;EAED/C,GAAG,CAACgD,SAAS,GAAG,UAAS/d,CAAC,EAAE;IAC1B,OAAO1T,SAAS,CAACC,MAAM,IAAIwxB,SAAS,GAAG/d,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,OAAOA,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE+a,GAAG,IAAIgD,SAAS;EAC1H,CAAG;EAEDhD,GAAG,CAACe,UAAU,GAAG,UAAS9b,CAAC,EAAE;IAC3B,OAAO1T,SAAS,CAACC,MAAM,IAAIuvB,UAAU,GAAG,OAAO9b,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE+a,GAAG,IAAIe,UAAU;EACzG,CAAG;EAEDf,GAAG,CAACiB,QAAQ,GAAG,UAAShc,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIyvB,QAAQ,GAAG,OAAOhc,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE+a,GAAG,IAAIiB,QAAQ;EACrG,CAAG;EAEDjB,GAAG,CAACmB,QAAQ,GAAG,UAASlc,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAI2vB,QAAQ,GAAG,OAAOlc,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE+a,GAAG,IAAImB,QAAQ;EACrG,CAAG;EAEDnB,GAAG,CAACiD,OAAO,GAAG,UAAShe,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAKyxB,OAAO,GAAGhe,CAAC,IAAI,IAAI,GAAG,IAAI,GAAGA,CAAC,EAAG+a,GAAG,IAAIiD,OAAO;EAC/E,CAAG;EAED,OAAOjD,GAAG;AACZ;AClQe,gBAAQ,CAAClrB,CAAC,EAAE;EACzB,OAAO,OAAOA,CAAC,KAAK,QAAQ,IAAI,QAAQ,IAAIA,CAAC,GACzCA,CAAC;EAAA,EACDtB,KAAK,CAAC0R,IAAI,CAACpQ,CAAC,CAAC,CAAC;AACpB;;ACNA,SAASyvB,MAAM,CAACtB,OAAO,EAAE;EACvB,IAAI,CAACuB,QAAQ,GAAGvB,OAAO;AACzB;AAEAsB,MAAM,CAAC1wB,SAAS,GAAG;EACjB4wB,SAAS,EAAE,YAAW;IACpB,IAAI,CAACC,KAAK,GAAG,CAAC;EAClB,CAAG;EACDC,OAAO,EAAE,YAAW;IAClB,IAAI,CAACD,KAAK,GAAG9mB,GAAG;EACpB,CAAG;EACDgnB,SAAS,EAAE,YAAW;IACpB,IAAI,CAACC,MAAM,GAAG,CAAC;EACnB,CAAG;EACDC,OAAO,EAAE,YAAW;IAClB,IAAI,IAAI,CAACJ,KAAK,IAAK,IAAI,CAACA,KAAK,KAAK,CAAC,IAAI,IAAI,CAACG,MAAM,KAAK,CAAE,EAAE,IAAI,CAACL,QAAQ,CAAC/F,SAAS,EAAE;IACpF,IAAI,CAACiG,KAAK,GAAG,CAAC,GAAG,IAAI,CAACA,KAAK;EAC/B,CAAG;EACDK,KAAK,EAAE,UAASjwB,CAAC,EAAEsI,CAAC,EAAE;IACpBtI,CAAC,GAAG,CAACA,CAAC,EAAEsI,CAAC,GAAG,CAACA,CAAC;IACd,QAAQ,IAAI,CAACynB,MAAM;MACjB,KAAK,CAAC;QAAE,IAAI,CAACA,MAAM,GAAG,CAAC;QAAE,IAAI,CAACH,KAAK,GAAG,IAAI,CAACF,QAAQ,CAAC9F,MAAM,CAAC5pB,CAAC,EAAEsI,CAAC,CAAC,GAAG,IAAI,CAAConB,QAAQ,CAAChG,MAAM,CAAC1pB,CAAC,EAAEsI,CAAC,CAAC;QAAE;MAC/F,KAAK,CAAC;QAAE,IAAI,CAACynB,MAAM,GAAG,CAAC;MAAC;MACxB;QAAS,IAAI,CAACL,QAAQ,CAAC9F,MAAM,CAAC5pB,CAAC,EAAEsI,CAAC,CAAC;QAAE;IAAM;EAEjD;AACA,CAAC;AAEc,oBAAQ,CAAC6lB,OAAO,EAAE;EAC/B,OAAO,IAAIsB,MAAM,CAACtB,OAAO,CAAC;AAC5B;AC9BO,SAASnuB,CAAC,CAACmD,CAAC,EAAE;EACnB,OAAOA,CAAC,CAAC,CAAC,CAAC;AACb;AAEO,SAASmF,CAAC,CAACnF,CAAC,EAAE;EACnB,OAAOA,CAAC,CAAC,CAAC,CAAC;AACb;ACAe,aAAQ,CAACnD,GAAC,EAAEsI,GAAC,EAAE;EAC5B,IAAI4nB,OAAO,GAAGlQ,UAAQ,CAAC,IAAI,CAAC;IACxBmO,OAAO,GAAG,IAAI;IACdgC,KAAK,GAAGC,WAAW;IACnBvN,MAAM,GAAG,IAAI;EAEjB7iB,GAAC,GAAG,OAAOA,GAAC,KAAK,UAAU,GAAGA,GAAC,GAAIA,GAAC,KAAKyD,SAAS,GAAI4sB,CAAM,GAAGrQ,UAAQ,CAAChgB,GAAC,CAAC;EAC1EsI,GAAC,GAAG,OAAOA,GAAC,KAAK,UAAU,GAAGA,GAAC,GAAIA,GAAC,KAAK7E,SAAS,GAAI6sB,CAAM,GAAGtQ,UAAQ,CAAC1X,GAAC,CAAC;EAE1E,SAASioB,IAAI,CAAChlB,IAAI,EAAE;IAClB,IAAIqB,CAAC;MACD1P,CAAC,GAAG,CAACqO,IAAI,GAAGilB,OAAK,CAACjlB,IAAI,CAAC,EAAE7O,MAAM;MAC/BwK,CAAC;MACDupB,QAAQ,GAAG,KAAK;MAChBrC,MAAM;IAEV,IAAID,OAAO,IAAI,IAAI,EAAEtL,MAAM,GAAGsN,KAAK,CAAC/B,MAAM,GAAG3E,IAAI,EAAE,CAAC;IAEpD,KAAK7c,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACvB,IAAI,EAAEA,CAAC,GAAG1P,CAAC,IAAIgzB,OAAO,CAAChpB,CAAC,GAAGqE,IAAI,CAACqB,CAAC,CAAC,EAAEA,CAAC,EAAErB,IAAI,CAAC,CAAC,KAAKklB,QAAQ,EAAE;QAC1D,IAAIA,QAAQ,GAAG,CAACA,QAAQ,EAAE5N,MAAM,CAACiN,SAAS,EAAE,CAAC,KACxCjN,MAAM,CAACmN,OAAO,EAAE;MAC7B;MACM,IAAIS,QAAQ,EAAE5N,MAAM,CAACoN,KAAK,CAAC,CAACjwB,GAAC,CAACkH,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC,EAAE,CAACjD,GAAC,CAACpB,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC,CAAC;IAChE;IAEI,IAAI6iB,MAAM,EAAE,OAAOvL,MAAM,GAAG,IAAI,EAAEuL,MAAM,GAAG,EAAE,IAAI,IAAI;EACzD;EAEEmC,IAAI,CAACvwB,CAAC,GAAG,UAASmQ,CAAC,EAAE;IACnB,OAAO1T,SAAS,CAACC,MAAM,IAAIsD,GAAC,GAAG,OAAOmQ,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEogB,IAAI,IAAIvwB,GAAC;EACxF,CAAG;EAEDuwB,IAAI,CAACjoB,CAAC,GAAG,UAAS6H,CAAC,EAAE;IACnB,OAAO1T,SAAS,CAACC,MAAM,IAAI4L,GAAC,GAAG,OAAO6H,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEogB,IAAI,IAAIjoB,GAAC;EACxF,CAAG;EAEDioB,IAAI,CAACL,OAAO,GAAG,UAAS/f,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIwzB,OAAO,GAAG,OAAO/f,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC,CAAC7P,CAAC,CAAC,EAAEogB,IAAI,IAAIL,OAAO;EACrG,CAAG;EAEDK,IAAI,CAACJ,KAAK,GAAG,UAAShgB,CAAC,EAAE;IACvB,OAAO1T,SAAS,CAACC,MAAM,IAAIyzB,KAAK,GAAGhgB,CAAC,EAAEge,OAAO,IAAI,IAAI,KAAKtL,MAAM,GAAGsN,KAAK,CAAChC,OAAO,CAAC,CAAC,EAAEoC,IAAI,IAAIJ,KAAK;EACrG,CAAG;EAEDI,IAAI,CAACpC,OAAO,GAAG,UAAShe,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIyT,CAAC,IAAI,IAAI,GAAGge,OAAO,GAAGtL,MAAM,GAAG,IAAI,GAAGA,MAAM,GAAGsN,KAAK,CAAChC,OAAO,GAAGhe,CAAC,CAAC,EAAEogB,IAAI,IAAIpC,OAAO;EACjH,CAAG;EAED,OAAOoC,IAAI;AACb;ACjDe,aAAQ,CAACvJ,EAAE,EAAEmD,EAAE,EAAEL,EAAE,EAAE;EAClC,IAAI7C,EAAE,GAAG,IAAI;IACTiJ,OAAO,GAAGlQ,UAAQ,CAAC,IAAI,CAAC;IACxBmO,OAAO,GAAG,IAAI;IACdgC,KAAK,GAAGC,WAAW;IACnBvN,MAAM,GAAG,IAAI;EAEjBmE,EAAE,GAAG,OAAOA,EAAE,KAAK,UAAU,GAAGA,EAAE,GAAIA,EAAE,KAAKvjB,SAAS,GAAI4sB,CAAM,GAAGrQ,UAAQ,CAAC,CAACgH,EAAE,CAAC;EAChFmD,EAAE,GAAG,OAAOA,EAAE,KAAK,UAAU,GAAGA,EAAE,GAAIA,EAAE,KAAK1mB,SAAS,GAAIuc,UAAQ,CAAC,CAAC,CAAC,GAAGA,UAAQ,CAAC,CAACmK,EAAE,CAAC;EACrFL,EAAE,GAAG,OAAOA,EAAE,KAAK,UAAU,GAAGA,EAAE,GAAIA,EAAE,KAAKrmB,SAAS,GAAI6sB,CAAM,GAAGtQ,UAAQ,CAAC,CAAC8J,EAAE,CAAC;EAEhF,SAAS4G,IAAI,CAACnlB,IAAI,EAAE;IAClB,IAAIqB,CAAC;MACD0V,CAAC;MACD7Z,CAAC;MACDvL,CAAC,GAAG,CAACqO,IAAI,GAAGilB,OAAK,CAACjlB,IAAI,CAAC,EAAE7O,MAAM;MAC/BwK,CAAC;MACDupB,QAAQ,GAAG,KAAK;MAChBrC,MAAM;MACNuC,GAAG,GAAG,IAAIjyB,KAAK,CAACxB,CAAC,CAAC;MAClB0zB,GAAG,GAAG,IAAIlyB,KAAK,CAACxB,CAAC,CAAC;IAEtB,IAAIixB,OAAO,IAAI,IAAI,EAAEtL,MAAM,GAAGsN,KAAK,CAAC/B,MAAM,GAAG3E,IAAI,EAAE,CAAC;IAEpD,KAAK7c,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACvB,IAAI,EAAEA,CAAC,GAAG1P,CAAC,IAAIgzB,OAAO,CAAChpB,CAAC,GAAGqE,IAAI,CAACqB,CAAC,CAAC,EAAEA,CAAC,EAAErB,IAAI,CAAC,CAAC,KAAKklB,QAAQ,EAAE;QAC1D,IAAIA,QAAQ,GAAG,CAACA,QAAQ,EAAE;UACxBnO,CAAC,GAAG1V,CAAC;UACLiW,MAAM,CAAC8M,SAAS,EAAE;UAClB9M,MAAM,CAACiN,SAAS,EAAE;QAC5B,CAAS,MAAM;UACLjN,MAAM,CAACmN,OAAO,EAAE;UAChBnN,MAAM,CAACiN,SAAS,EAAE;UAClB,KAAKrnB,CAAC,GAAGmE,CAAC,GAAG,CAAC,EAAEnE,CAAC,IAAI6Z,CAAC,EAAE,EAAE7Z,CAAC,EAAE;YAC3Boa,MAAM,CAACoN,KAAK,CAACU,GAAG,CAACloB,CAAC,CAAC,EAAEmoB,GAAG,CAACnoB,CAAC,CAAC,CAAC;UACxC;UACUoa,MAAM,CAACmN,OAAO,EAAE;UAChBnN,MAAM,CAACgN,OAAO,EAAE;QAC1B;MACA;MACM,IAAIY,QAAQ,EAAE;QACZE,GAAG,CAAC/jB,CAAC,CAAC,GAAG,CAACoa,EAAE,CAAC9f,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC,EAAEqlB,GAAG,CAAChkB,CAAC,CAAC,GAAG,CAACud,EAAE,CAACjjB,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC;QAClDsX,MAAM,CAACoN,KAAK,CAAChJ,EAAE,GAAG,CAACA,EAAE,CAAC/f,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC,GAAGolB,GAAG,CAAC/jB,CAAC,CAAC,EAAEkd,EAAE,GAAG,CAACA,EAAE,CAAC5iB,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC,GAAGqlB,GAAG,CAAChkB,CAAC,CAAC,CAAC;MAClF;IACA;IAEI,IAAIwhB,MAAM,EAAE,OAAOvL,MAAM,GAAG,IAAI,EAAEuL,MAAM,GAAG,EAAE,IAAI,IAAI;EACzD;EAEE,SAASyC,QAAQ,GAAG;IAClB,OAAON,IAAI,EAAE,CAACL,OAAO,CAACA,OAAO,CAAC,CAACC,KAAK,CAACA,KAAK,CAAC,CAAChC,OAAO,CAACA,OAAO,CAAC;EAChE;EAEEuC,IAAI,CAAC1wB,CAAC,GAAG,UAASmQ,CAAC,EAAE;IACnB,OAAO1T,SAAS,CAACC,MAAM,IAAIsqB,EAAE,GAAG,OAAO7W,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE8W,EAAE,GAAG,IAAI,EAAEyJ,IAAI,IAAI1J,EAAE;EACrG,CAAG;EAED0J,IAAI,CAAC1J,EAAE,GAAG,UAAS7W,CAAC,EAAE;IACpB,OAAO1T,SAAS,CAACC,MAAM,IAAIsqB,EAAE,GAAG,OAAO7W,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEugB,IAAI,IAAI1J,EAAE;EAC1F,CAAG;EAED0J,IAAI,CAACzJ,EAAE,GAAG,UAAS9W,CAAC,EAAE;IACpB,OAAO1T,SAAS,CAACC,MAAM,IAAIuqB,EAAE,GAAG9W,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,OAAOA,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEugB,IAAI,IAAIzJ,EAAE;EAC7G,CAAG;EAEDyJ,IAAI,CAACpoB,CAAC,GAAG,UAAS6H,CAAC,EAAE;IACnB,OAAO1T,SAAS,CAACC,MAAM,IAAIytB,EAAE,GAAG,OAAOha,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAE2Z,EAAE,GAAG,IAAI,EAAE4G,IAAI,IAAIvG,EAAE;EACrG,CAAG;EAEDuG,IAAI,CAACvG,EAAE,GAAG,UAASha,CAAC,EAAE;IACpB,OAAO1T,SAAS,CAACC,MAAM,IAAIytB,EAAE,GAAG,OAAOha,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEugB,IAAI,IAAIvG,EAAE;EAC1F,CAAG;EAEDuG,IAAI,CAAC5G,EAAE,GAAG,UAAS3Z,CAAC,EAAE;IACpB,OAAO1T,SAAS,CAACC,MAAM,IAAIotB,EAAE,GAAG3Z,CAAC,IAAI,IAAI,GAAG,IAAI,GAAG,OAAOA,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEugB,IAAI,IAAI5G,EAAE;EAC7G,CAAG;EAED4G,IAAI,CAACI,MAAM,GACXJ,IAAI,CAACK,MAAM,GAAG,YAAW;IACvB,OAAOF,QAAQ,EAAE,CAAC7wB,CAAC,CAACgnB,EAAE,CAAC,CAAC1e,CAAC,CAAC6hB,EAAE,CAAC;EACjC,CAAG;EAEDuG,IAAI,CAACM,MAAM,GAAG,YAAW;IACvB,OAAOH,QAAQ,EAAE,CAAC7wB,CAAC,CAACgnB,EAAE,CAAC,CAAC1e,CAAC,CAACwhB,EAAE,CAAC;EACjC,CAAG;EAED4G,IAAI,CAACO,MAAM,GAAG,YAAW;IACvB,OAAOJ,QAAQ,EAAE,CAAC7wB,CAAC,CAACinB,EAAE,CAAC,CAAC3e,CAAC,CAAC6hB,EAAE,CAAC;EACjC,CAAG;EAEDuG,IAAI,CAACR,OAAO,GAAG,UAAS/f,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIwzB,OAAO,GAAG,OAAO/f,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC,CAAC7P,CAAC,CAAC,EAAEugB,IAAI,IAAIR,OAAO;EACrG,CAAG;EAEDQ,IAAI,CAACP,KAAK,GAAG,UAAShgB,CAAC,EAAE;IACvB,OAAO1T,SAAS,CAACC,MAAM,IAAIyzB,KAAK,GAAGhgB,CAAC,EAAEge,OAAO,IAAI,IAAI,KAAKtL,MAAM,GAAGsN,KAAK,CAAChC,OAAO,CAAC,CAAC,EAAEuC,IAAI,IAAIP,KAAK;EACrG,CAAG;EAEDO,IAAI,CAACvC,OAAO,GAAG,UAAShe,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIyT,CAAC,IAAI,IAAI,GAAGge,OAAO,GAAGtL,MAAM,GAAG,IAAI,GAAGA,MAAM,GAAGsN,KAAK,CAAChC,OAAO,GAAGhe,CAAC,CAAC,EAAEugB,IAAI,IAAIvC,OAAO;EACjH,CAAG;EAED,OAAOuC,IAAI;AACb;AC9Ge,mBAAQ,CAACr0B,CAAC,EAAES,CAAC,EAAE;EAC5B,OAAOA,CAAC,GAAGT,CAAC,GAAG,CAAC,CAAC,GAAGS,CAAC,GAAGT,CAAC,GAAG,CAAC,GAAGS,CAAC,IAAIT,CAAC,GAAG,CAAC,GAAGyM,GAAG;AAClD;ACFe,mBAAQ,CAAC5B,CAAC,EAAE;EACzB,OAAOA,CAAC;AACV;ACIe,YAAQ,GAAG;EACxB,IAAIjG,KAAK,GAAG6gB,UAAQ;IAChBoP,UAAU,GAAGjlB,UAAU;IACvBvD,IAAI,GAAG,IAAI;IACXujB,UAAU,GAAGjM,UAAQ,CAAC,CAAC,CAAC;IACxBmM,QAAQ,GAAGnM,UAAQ,CAACiJ,GAAG,CAAC;IACxBoD,QAAQ,GAAGrM,UAAQ,CAAC,CAAC,CAAC;EAE1B,SAASmR,GAAG,CAAC5lB,IAAI,EAAE;IACjB,IAAIqB,CAAC;MACD1P,CAAC,GAAG,CAACqO,IAAI,GAAGilB,OAAK,CAACjlB,IAAI,CAAC,EAAE7O,MAAM;MAC/B4lB,CAAC;MACD7Z,CAAC;MACD2oB,GAAG,GAAG,CAAC;MACPnnB,KAAK,GAAG,IAAIvL,KAAK,CAACxB,CAAC,CAAC;MACpBm0B,IAAI,GAAG,IAAI3yB,KAAK,CAACxB,CAAC,CAAC;MACnBC,EAAE,GAAG,CAAC8uB,UAAU,CAACtvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;MACvC8uB,EAAE,GAAGjhB,IAAI,CAACC,GAAG,CAAC0e,GAAG,EAAE3e,IAAI,CAAC6C,GAAG,CAAC,CAAC8b,GAAG,EAAEkD,QAAQ,CAACxvB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,GAAGU,EAAE,CAAC,CAAC;MACxEC,EAAE;MACF+F,CAAC,GAAGmH,IAAI,CAACC,GAAG,CAACD,IAAI,CAACiF,GAAG,CAACgc,EAAE,CAAC,GAAGruB,CAAC,EAAEmvB,QAAQ,CAAC1vB,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,CAAC;MAC/D60B,EAAE,GAAGnuB,CAAC,IAAIooB,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC;MAC1BpgB,CAAC;IAEL,KAAKyB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACtB,IAAI,CAACzB,CAAC,GAAGkmB,IAAI,CAACpnB,KAAK,CAAC2C,CAAC,CAAC,GAAGA,CAAC,CAAC,GAAG,CAAC3L,KAAK,CAACsK,IAAI,CAACqB,CAAC,CAAC,EAAEA,CAAC,EAAErB,IAAI,CAAC,IAAI,CAAC,EAAE;QAC3D6lB,GAAG,IAAIjmB,CAAC;MAChB;IACA;;IAEA;IACI,IAAI+lB,UAAU,IAAI,IAAI,EAAEjnB,KAAK,CAACvB,IAAI,CAAC,UAASkE,CAAC,EAAE0V,CAAC,EAAE;MAAE,OAAO4O,UAAU,CAACG,IAAI,CAACzkB,CAAC,CAAC,EAAEykB,IAAI,CAAC/O,CAAC,CAAC,CAAC;IAAC,CAAE,CAAC,CAAC,KACvF,IAAI5Z,IAAI,IAAI,IAAI,EAAEuB,KAAK,CAACvB,IAAI,CAAC,UAASkE,CAAC,EAAE0V,CAAC,EAAE;MAAE,OAAO5Z,IAAI,CAAC6C,IAAI,CAACqB,CAAC,CAAC,EAAErB,IAAI,CAAC+W,CAAC,CAAC,CAAC;IAAC,CAAE,CAAC;;IAExF;IACI,KAAK1V,CAAC,GAAG,CAAC,EAAEnE,CAAC,GAAG2oB,GAAG,GAAG,CAAC7F,EAAE,GAAGruB,CAAC,GAAGo0B,EAAE,IAAIF,GAAG,GAAG,CAAC,EAAExkB,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAEzP,EAAE,GAAGC,EAAE,EAAE;MAClEklB,CAAC,GAAGrY,KAAK,CAAC2C,CAAC,CAAC,EAAEzB,CAAC,GAAGkmB,IAAI,CAAC/O,CAAC,CAAC,EAAEllB,EAAE,GAAGD,EAAE,IAAIgO,CAAC,GAAG,CAAC,GAAGA,CAAC,GAAG1C,CAAC,GAAG,CAAC,CAAC,GAAG6oB,EAAE,EAAED,IAAI,CAAC/O,CAAC,CAAC,GAAG;QACvE/W,IAAI,EAAEA,IAAI,CAAC+W,CAAC,CAAC;QACbrY,KAAK,EAAE2C,CAAC;QACR3L,KAAK,EAAEkK,CAAC;QACR8gB,UAAU,EAAE9uB,EAAE;QACdgvB,QAAQ,EAAE/uB,EAAE;QACZivB,QAAQ,EAAElpB;MAClB,CAAO;IACP;IAEI,OAAOkuB,IAAI;EACf;EAEEF,GAAG,CAAClwB,KAAK,GAAG,UAASkP,CAAC,EAAE;IACtB,OAAO1T,SAAS,CAACC,MAAM,IAAIuE,KAAK,GAAG,OAAOkP,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEghB,GAAG,IAAIlwB,KAAK;EAC/F,CAAG;EAEDkwB,GAAG,CAACD,UAAU,GAAG,UAAS/gB,CAAC,EAAE;IAC3B,OAAO1T,SAAS,CAACC,MAAM,IAAIw0B,UAAU,GAAG/gB,CAAC,EAAEzH,IAAI,GAAG,IAAI,EAAEyoB,GAAG,IAAID,UAAU;EAC7E,CAAG;EAEDC,GAAG,CAACzoB,IAAI,GAAG,UAASyH,CAAC,EAAE;IACrB,OAAO1T,SAAS,CAACC,MAAM,IAAIgM,IAAI,GAAGyH,CAAC,EAAE+gB,UAAU,GAAG,IAAI,EAAEC,GAAG,IAAIzoB,IAAI;EACvE,CAAG;EAEDyoB,GAAG,CAAClF,UAAU,GAAG,UAAS9b,CAAC,EAAE;IAC3B,OAAO1T,SAAS,CAACC,MAAM,IAAIuvB,UAAU,GAAG,OAAO9b,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEghB,GAAG,IAAIlF,UAAU;EACzG,CAAG;EAEDkF,GAAG,CAAChF,QAAQ,GAAG,UAAShc,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIyvB,QAAQ,GAAG,OAAOhc,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEghB,GAAG,IAAIhF,QAAQ;EACrG,CAAG;EAEDgF,GAAG,CAAC9E,QAAQ,GAAG,UAASlc,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAI2vB,QAAQ,GAAG,OAAOlc,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEghB,GAAG,IAAI9E,QAAQ;EACrG,CAAG;EAED,OAAO8E,GAAG;AACZ;AC/EA,SAASlN,IAAI,CAACjkB,CAAC,EAAE;EACf,OAAOA,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;AACvB;;AAEA;AACA;AACA;AACA;AACA,SAASuxB,MAAM,CAACC,IAAI,EAAExH,EAAE,EAAEC,EAAE,EAAE;EAC5B,IAAIwH,EAAE,GAAGD,IAAI,CAACjI,GAAG,GAAGiI,IAAI,CAACnI,GAAG;IACxBqI,EAAE,GAAG1H,EAAE,GAAGwH,IAAI,CAACjI,GAAG;IAClBoI,EAAE,GAAG,CAACH,IAAI,CAAChI,GAAG,GAAGgI,IAAI,CAAClI,GAAG,KAAKmI,EAAE,IAAIC,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IACjDE,EAAE,GAAG,CAAC3H,EAAE,GAAGuH,IAAI,CAAChI,GAAG,KAAKkI,EAAE,IAAID,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IAC3CtuB,CAAC,GAAG,CAACwuB,EAAE,GAAGD,EAAE,GAAGE,EAAE,GAAGH,EAAE,KAAKA,EAAE,GAAGC,EAAE,CAAC;EACvC,OAAO,CAACzN,IAAI,CAAC0N,EAAE,CAAC,GAAG1N,IAAI,CAAC2N,EAAE,CAAC,IAAItnB,IAAI,CAACC,GAAG,CAACD,IAAI,CAACiF,GAAG,CAACoiB,EAAE,CAAC,EAAErnB,IAAI,CAACiF,GAAG,CAACqiB,EAAE,CAAC,EAAE,GAAG,GAAGtnB,IAAI,CAACiF,GAAG,CAACpM,CAAC,CAAC,CAAC,IAAI,CAAC;AAC7F;;AAEA;AACA,SAAS0uB,MAAM,CAACL,IAAI,EAAEjS,CAAC,EAAE;EACvB,IAAI7B,CAAC,GAAG8T,IAAI,CAACjI,GAAG,GAAGiI,IAAI,CAACnI,GAAG;EAC3B,OAAO3L,CAAC,GAAG,CAAC,CAAC,IAAI8T,IAAI,CAAChI,GAAG,GAAGgI,IAAI,CAAClI,GAAG,CAAC,GAAG5L,CAAC,GAAG6B,CAAC,IAAI,CAAC,GAAGA,CAAC;AACxD;;AAEA;AACA;AACA;AACA,SAAS0Q,KAAK,CAACuB,IAAI,EAAE/S,EAAE,EAAEC,EAAE,EAAE;EAC3B,IAAIsI,EAAE,GAAGwK,IAAI,CAACnI,GAAG;IACbc,EAAE,GAAGqH,IAAI,CAAClI,GAAG;IACbrC,EAAE,GAAGuK,IAAI,CAACjI,GAAG;IACbO,EAAE,GAAG0H,IAAI,CAAChI,GAAG;IACb4B,EAAE,GAAG,CAACnE,EAAE,GAAGD,EAAE,IAAI,CAAC;EACtBwK,IAAI,CAAC9B,QAAQ,CAAC3F,aAAa,CAAC/C,EAAE,GAAGoE,EAAE,EAAEjB,EAAE,GAAGiB,EAAE,GAAG3M,EAAE,EAAEwI,EAAE,GAAGmE,EAAE,EAAEtB,EAAE,GAAGsB,EAAE,GAAG1M,EAAE,EAAEuI,EAAE,EAAE6C,EAAE,CAAC;AACnF;AAEA,SAASgI,SAAS,CAAC3D,OAAO,EAAE;EAC1B,IAAI,CAACuB,QAAQ,GAAGvB,OAAO;AACzB;AAEA2D,SAAS,CAAC/yB,SAAS,GAAG;EACpB4wB,SAAS,EAAE,YAAW;IACpB,IAAI,CAACC,KAAK,GAAG,CAAC;EAClB,CAAG;EACDC,OAAO,EAAE,YAAW;IAClB,IAAI,CAACD,KAAK,GAAG9mB,GAAG;EACpB,CAAG;EACDgnB,SAAS,EAAE,YAAW;IACpB,IAAI,CAACzG,GAAG,GAAG,IAAI,CAACE,GAAG,GACnB,IAAI,CAACD,GAAG,GAAG,IAAI,CAACE,GAAG,GACnB,IAAI,CAACuI,GAAG,GAAGjpB,GAAG;IACd,IAAI,CAACinB,MAAM,GAAG,CAAC;EACnB,CAAG;EACDC,OAAO,EAAE,YAAW;IAClB,QAAQ,IAAI,CAACD,MAAM;MACjB,KAAK,CAAC;QAAE,IAAI,CAACL,QAAQ,CAAC9F,MAAM,CAAC,IAAI,CAACL,GAAG,EAAE,IAAI,CAACC,GAAG,CAAC;QAAE;MAClD,KAAK,CAAC;QAAEyG,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC8B,GAAG,EAAEF,MAAM,CAAC,IAAI,EAAE,IAAI,CAACE,GAAG,CAAC,CAAC;QAAE;IAAM;IAE/D,IAAI,IAAI,CAACnC,KAAK,IAAK,IAAI,CAACA,KAAK,KAAK,CAAC,IAAI,IAAI,CAACG,MAAM,KAAK,CAAE,EAAE,IAAI,CAACL,QAAQ,CAAC/F,SAAS,EAAE;IACpF,IAAI,CAACiG,KAAK,GAAG,CAAC,GAAG,IAAI,CAACA,KAAK;EAC/B,CAAG;EACDK,KAAK,EAAE,UAASjwB,CAAC,EAAEsI,CAAC,EAAE;IACpB,IAAIoW,EAAE,GAAG5V,GAAG;IAEZ9I,CAAC,GAAG,CAACA,CAAC,EAAEsI,CAAC,GAAG,CAACA,CAAC;IACd,IAAItI,CAAC,KAAK,IAAI,CAACupB,GAAG,IAAIjhB,CAAC,KAAK,IAAI,CAACkhB,GAAG,EAAE,OAAO;IAC7C,QAAQ,IAAI,CAACuG,MAAM;MACjB,KAAK,CAAC;QAAE,IAAI,CAACA,MAAM,GAAG,CAAC;QAAE,IAAI,CAACH,KAAK,GAAG,IAAI,CAACF,QAAQ,CAAC9F,MAAM,CAAC5pB,CAAC,EAAEsI,CAAC,CAAC,GAAG,IAAI,CAAConB,QAAQ,CAAChG,MAAM,CAAC1pB,CAAC,EAAEsI,CAAC,CAAC;QAAE;MAC/F,KAAK,CAAC;QAAE,IAAI,CAACynB,MAAM,GAAG,CAAC;QAAE;MACzB,KAAK,CAAC;QAAE,IAAI,CAACA,MAAM,GAAG,CAAC;QAAEE,KAAK,CAAC,IAAI,EAAE4B,MAAM,CAAC,IAAI,EAAEnT,EAAE,GAAG6S,MAAM,CAAC,IAAI,EAAEvxB,CAAC,EAAEsI,CAAC,CAAC,CAAC,EAAEoW,EAAE,CAAC;QAAE;MACjF;QAASuR,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC8B,GAAG,EAAErT,EAAE,GAAG6S,MAAM,CAAC,IAAI,EAAEvxB,CAAC,EAAEsI,CAAC,CAAC,CAAC;QAAE;IAAM;IAGjE,IAAI,CAAC+gB,GAAG,GAAG,IAAI,CAACE,GAAG,EAAE,IAAI,CAACA,GAAG,GAAGvpB,CAAC;IACjC,IAAI,CAACspB,GAAG,GAAG,IAAI,CAACE,GAAG,EAAE,IAAI,CAACA,GAAG,GAAGlhB,CAAC;IACjC,IAAI,CAACypB,GAAG,GAAGrT,EAAE;EACjB;AACA;AAEA,SAASsT,SAAS,CAAC7D,OAAO,EAAE;EAC1B,IAAI,CAACuB,QAAQ,GAAG,IAAIuC,cAAc,CAAC9D,OAAO,CAAC;AAC7C;AAEA,CAAC6D,SAAS,CAACjzB,SAAS,GAAGD,MAAM,CAACsS,MAAM,CAAC0gB,SAAS,CAAC/yB,SAAS,CAAC,EAAEkxB,KAAK,GAAG,UAASjwB,CAAC,EAAEsI,CAAC,EAAE;EAChFwpB,SAAS,CAAC/yB,SAAS,CAACkxB,KAAK,CAAChxB,IAAI,CAAC,IAAI,EAAEqJ,CAAC,EAAEtI,CAAC,CAAC;AAC5C,CAAC;AAED,SAASiyB,cAAc,CAAC9D,OAAO,EAAE;EAC/B,IAAI,CAACuB,QAAQ,GAAGvB,OAAO;AACzB;AAEA8D,cAAc,CAAClzB,SAAS,GAAG;EACzB2qB,MAAM,EAAE,UAAS1pB,CAAC,EAAEsI,CAAC,EAAE;IAAE,IAAI,CAAConB,QAAQ,CAAChG,MAAM,CAACphB,CAAC,EAAEtI,CAAC,CAAC;EAAC,CAAE;EACtD2pB,SAAS,EAAE,YAAW;IAAE,IAAI,CAAC+F,QAAQ,CAAC/F,SAAS,EAAE;EAAC,CAAE;EACpDC,MAAM,EAAE,UAAS5pB,CAAC,EAAEsI,CAAC,EAAE;IAAE,IAAI,CAAConB,QAAQ,CAAC9F,MAAM,CAACthB,CAAC,EAAEtI,CAAC,CAAC;EAAC,CAAE;EACtD+pB,aAAa,EAAE,UAAS9C,EAAE,EAAE6C,EAAE,EAAEE,EAAE,EAAEC,EAAE,EAAEjqB,CAAC,EAAEsI,CAAC,EAAE;IAAE,IAAI,CAAConB,QAAQ,CAAC3F,aAAa,CAACD,EAAE,EAAE7C,EAAE,EAAEgD,EAAE,EAAED,EAAE,EAAE1hB,CAAC,EAAEtI,CAAC,CAAC;EAAC;AACpG,CAAC;AAEM,SAASkyB,SAAS,CAAC/D,OAAO,EAAE;EACjC,OAAO,IAAI2D,SAAS,CAAC3D,OAAO,CAAC;AAC/B;AAEO,SAASgE,SAAS,CAAChE,OAAO,EAAE;EACjC,OAAO,IAAI6D,SAAS,CAAC7D,OAAO,CAAC;AAC/B;ACvGA,SAASiE,OAAO,CAACjE,OAAO,EAAE;EACxB,IAAI,CAACuB,QAAQ,GAAGvB,OAAO;AACzB;AAEAiE,OAAO,CAACrzB,SAAS,GAAG;EAClB4wB,SAAS,EAAE,YAAW;IACpB,IAAI,CAACC,KAAK,GAAG,CAAC;EAClB,CAAG;EACDC,OAAO,EAAE,YAAW;IAClB,IAAI,CAACD,KAAK,GAAG9mB,GAAG;EACpB,CAAG;EACDgnB,SAAS,EAAE,YAAW;IACpB,IAAI,CAACuC,EAAE,GAAG,EAAE;IACZ,IAAI,CAACC,EAAE,GAAG,EAAE;EAChB,CAAG;EACDtC,OAAO,EAAE,YAAW;IAClB,IAAIhwB,CAAC,GAAG,IAAI,CAACqyB,EAAE;MACX/pB,CAAC,GAAG,IAAI,CAACgqB,EAAE;MACXp1B,CAAC,GAAG8C,CAAC,CAACtD,MAAM;IAEhB,IAAIQ,CAAC,EAAE;MACL,IAAI,CAAC0yB,KAAK,GAAG,IAAI,CAACF,QAAQ,CAAC9F,MAAM,CAAC5pB,CAAC,CAAC,CAAC,CAAC,EAAEsI,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAConB,QAAQ,CAAChG,MAAM,CAAC1pB,CAAC,CAAC,CAAC,CAAC,EAAEsI,CAAC,CAAC,CAAC,CAAC,CAAC;MAChF,IAAIpL,CAAC,KAAK,CAAC,EAAE;QACX,IAAI,CAACwyB,QAAQ,CAAC9F,MAAM,CAAC5pB,CAAC,CAAC,CAAC,CAAC,EAAEsI,CAAC,CAAC,CAAC,CAAC,CAAC;MACxC,CAAO,MAAM;QACL,IAAIiqB,EAAE,GAAGC,aAAa,CAACxyB,CAAC,CAAC;UACrByyB,EAAE,GAAGD,aAAa,CAAClqB,CAAC,CAAC;QACzB,KAAK,IAAI+b,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGpnB,CAAC,EAAE,EAAEmnB,EAAE,EAAE,EAAEC,EAAE,EAAE;UAC3C,IAAI,CAACoL,QAAQ,CAAC3F,aAAa,CAACwI,EAAE,CAAC,CAAC,CAAC,CAAClO,EAAE,CAAC,EAAEoO,EAAE,CAAC,CAAC,CAAC,CAACpO,EAAE,CAAC,EAAEkO,EAAE,CAAC,CAAC,CAAC,CAAClO,EAAE,CAAC,EAAEoO,EAAE,CAAC,CAAC,CAAC,CAACpO,EAAE,CAAC,EAAErkB,CAAC,CAACskB,EAAE,CAAC,EAAEhc,CAAC,CAACgc,EAAE,CAAC,CAAC;QAC/F;MACA;IACA;IAEI,IAAI,IAAI,CAACsL,KAAK,IAAK,IAAI,CAACA,KAAK,KAAK,CAAC,IAAI1yB,CAAC,KAAK,CAAE,EAAE,IAAI,CAACwyB,QAAQ,CAAC/F,SAAS,EAAE;IAC1E,IAAI,CAACiG,KAAK,GAAG,CAAC,GAAG,IAAI,CAACA,KAAK;IAC3B,IAAI,CAACyC,EAAE,GAAG,IAAI,CAACC,EAAE,GAAG,IAAI;EAC5B,CAAG;EACDrC,KAAK,EAAE,UAASjwB,CAAC,EAAEsI,CAAC,EAAE;IACpB,IAAI,CAAC+pB,EAAE,CAACjuB,IAAI,CAAC,CAACpE,CAAC,CAAC;IAChB,IAAI,CAACsyB,EAAE,CAACluB,IAAI,CAAC,CAACkE,CAAC,CAAC;EACpB;AACA,CAAC;;AAED;AACA,SAASkqB,aAAa,CAACxyB,CAAC,EAAE;EACxB,IAAI4M,CAAC;IACD1P,CAAC,GAAG8C,CAAC,CAACtD,MAAM,GAAG,CAAC;IAChB+f,CAAC;IACDpgB,CAAC,GAAG,IAAIqC,KAAK,CAACxB,CAAC,CAAC;IAChBJ,CAAC,GAAG,IAAI4B,KAAK,CAACxB,CAAC,CAAC;IAChBsM,CAAC,GAAG,IAAI9K,KAAK,CAACxB,CAAC,CAAC;EACpBb,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAES,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE0M,CAAC,CAAC,CAAC,CAAC,GAAGxJ,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC;EAC1C,KAAK4M,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,GAAG,CAAC,EAAE,EAAE0P,CAAC,EAAEvQ,CAAC,CAACuQ,CAAC,CAAC,GAAG,CAAC,EAAE9P,CAAC,CAAC8P,CAAC,CAAC,GAAG,CAAC,EAAEpD,CAAC,CAACoD,CAAC,CAAC,GAAG,CAAC,GAAG5M,CAAC,CAAC4M,CAAC,CAAC,GAAG,CAAC,GAAG5M,CAAC,CAAC4M,CAAC,GAAG,CAAC,CAAC;EAC9EvQ,CAAC,CAACa,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAEJ,CAAC,CAACI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,EAAEsM,CAAC,CAACtM,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG8C,CAAC,CAAC9C,CAAC,GAAG,CAAC,CAAC,GAAG8C,CAAC,CAAC9C,CAAC,CAAC;EAC1D,KAAK0P,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE6P,CAAC,GAAGpgB,CAAC,CAACuQ,CAAC,CAAC,GAAG9P,CAAC,CAAC8P,CAAC,GAAG,CAAC,CAAC,EAAE9P,CAAC,CAAC8P,CAAC,CAAC,IAAI6P,CAAC,EAAEjT,CAAC,CAACoD,CAAC,CAAC,IAAI6P,CAAC,GAAGjT,CAAC,CAACoD,CAAC,GAAG,CAAC,CAAC;EAC5EvQ,CAAC,CAACa,CAAC,GAAG,CAAC,CAAC,GAAGsM,CAAC,CAACtM,CAAC,GAAG,CAAC,CAAC,GAAGJ,CAAC,CAACI,CAAC,GAAG,CAAC,CAAC;EAC9B,KAAK0P,CAAC,GAAG1P,CAAC,GAAG,CAAC,EAAE0P,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAEvQ,CAAC,CAACuQ,CAAC,CAAC,GAAG,CAACpD,CAAC,CAACoD,CAAC,CAAC,GAAGvQ,CAAC,CAACuQ,CAAC,GAAG,CAAC,CAAC,IAAI9P,CAAC,CAAC8P,CAAC,CAAC;EAC5D9P,CAAC,CAACI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC8C,CAAC,CAAC9C,CAAC,CAAC,GAAGb,CAAC,CAACa,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;EAChC,KAAK0P,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,GAAG,CAAC,EAAE,EAAE0P,CAAC,EAAE9P,CAAC,CAAC8P,CAAC,CAAC,GAAG,CAAC,GAAG5M,CAAC,CAAC4M,CAAC,GAAG,CAAC,CAAC,GAAGvQ,CAAC,CAACuQ,CAAC,GAAG,CAAC,CAAC;EAC1D,OAAO,CAACvQ,CAAC,EAAES,CAAC,CAAC;AACf;AAEe,qBAAQ,CAACqxB,OAAO,EAAE;EAC/B,OAAO,IAAIiE,OAAO,CAACjE,OAAO,CAAC;AAC7B;AChEA,SAASuE,IAAI,CAACvE,OAAO,EAAE5O,CAAC,EAAE;EACxB,IAAI,CAACmQ,QAAQ,GAAGvB,OAAO;EACvB,IAAI,CAACwE,EAAE,GAAGpT,CAAC;AACb;AAEAmT,IAAI,CAAC3zB,SAAS,GAAG;EACf4wB,SAAS,EAAE,YAAW;IACpB,IAAI,CAACC,KAAK,GAAG,CAAC;EAClB,CAAG;EACDC,OAAO,EAAE,YAAW;IAClB,IAAI,CAACD,KAAK,GAAG9mB,GAAG;EACpB,CAAG;EACDgnB,SAAS,EAAE,YAAW;IACpB,IAAI,CAACuC,EAAE,GAAG,IAAI,CAACC,EAAE,GAAGxpB,GAAG;IACvB,IAAI,CAACinB,MAAM,GAAG,CAAC;EACnB,CAAG;EACDC,OAAO,EAAE,YAAW;IAClB,IAAI,CAAC,GAAG,IAAI,CAAC2C,EAAE,IAAI,IAAI,CAACA,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC5C,MAAM,KAAK,CAAC,EAAE,IAAI,CAACL,QAAQ,CAAC9F,MAAM,CAAC,IAAI,CAACyI,EAAE,EAAE,IAAI,CAACC,EAAE,CAAC;IAC3F,IAAI,IAAI,CAAC1C,KAAK,IAAK,IAAI,CAACA,KAAK,KAAK,CAAC,IAAI,IAAI,CAACG,MAAM,KAAK,CAAE,EAAE,IAAI,CAACL,QAAQ,CAAC/F,SAAS,EAAE;IACpF,IAAI,IAAI,CAACiG,KAAK,IAAI,CAAC,EAAE,IAAI,CAAC+C,EAAE,GAAG,CAAC,GAAG,IAAI,CAACA,EAAE,EAAE,IAAI,CAAC/C,KAAK,GAAG,CAAC,GAAG,IAAI,CAACA,KAAK;EAC3E,CAAG;EACDK,KAAK,EAAE,UAASjwB,CAAC,EAAEsI,CAAC,EAAE;IACpBtI,CAAC,GAAG,CAACA,CAAC,EAAEsI,CAAC,GAAG,CAACA,CAAC;IACd,QAAQ,IAAI,CAACynB,MAAM;MACjB,KAAK,CAAC;QAAE,IAAI,CAACA,MAAM,GAAG,CAAC;QAAE,IAAI,CAACH,KAAK,GAAG,IAAI,CAACF,QAAQ,CAAC9F,MAAM,CAAC5pB,CAAC,EAAEsI,CAAC,CAAC,GAAG,IAAI,CAAConB,QAAQ,CAAChG,MAAM,CAAC1pB,CAAC,EAAEsI,CAAC,CAAC;QAAE;MAC/F,KAAK,CAAC;QAAE,IAAI,CAACynB,MAAM,GAAG,CAAC;MAAC;MACxB;QAAS;UACP,IAAI,IAAI,CAAC4C,EAAE,IAAI,CAAC,EAAE;YAChB,IAAI,CAACjD,QAAQ,CAAC9F,MAAM,CAAC,IAAI,CAACyI,EAAE,EAAE/pB,CAAC,CAAC;YAChC,IAAI,CAAConB,QAAQ,CAAC9F,MAAM,CAAC5pB,CAAC,EAAEsI,CAAC,CAAC;UACpC,CAAS,MAAM;YACL,IAAI2e,EAAE,GAAG,IAAI,CAACoL,EAAE,IAAI,CAAC,GAAG,IAAI,CAACM,EAAE,CAAC,GAAG3yB,CAAC,GAAG,IAAI,CAAC2yB,EAAE;YAC9C,IAAI,CAACjD,QAAQ,CAAC9F,MAAM,CAAC3C,EAAE,EAAE,IAAI,CAACqL,EAAE,CAAC;YACjC,IAAI,CAAC5C,QAAQ,CAAC9F,MAAM,CAAC3C,EAAE,EAAE3e,CAAC,CAAC;UACrC;UACQ;QACR;IAAO;IAEH,IAAI,CAAC+pB,EAAE,GAAGryB,CAAC,EAAE,IAAI,CAACsyB,EAAE,GAAGhqB,CAAC;EAC5B;AACA,CAAC;AAEc,kBAAQ,CAAC6lB,OAAO,EAAE;EAC/B,OAAO,IAAIuE,IAAI,CAACvE,OAAO,EAAE,GAAG,CAAC;AAC/B;AAMO,SAASyE,SAAS,CAACzE,OAAO,EAAE;EACjC,OAAO,IAAIuE,IAAI,CAACvE,OAAO,EAAE,CAAC,CAAC;AAC7B;ACpDe,eAAQ,CAAC0E,MAAM,EAAEC,KAAK,EAAE;EACrC,IAAI,EAAE,CAAC51B,CAAC,GAAG21B,MAAM,CAACn2B,MAAM,IAAI,CAAC,CAAC,EAAE;EAChC,KAAK,IAAIkQ,CAAC,GAAG,CAAC,EAAE0V,CAAC,EAAEqP,EAAE,EAAEC,EAAE,GAAGiB,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE51B,CAAC,EAAEuf,CAAC,GAAGmV,EAAE,CAACl1B,MAAM,EAAEkQ,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;IAC1E+kB,EAAE,GAAGC,EAAE,EAAEA,EAAE,GAAGiB,MAAM,CAACC,KAAK,CAAClmB,CAAC,CAAC,CAAC;IAC9B,KAAK0V,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;MACtBsP,EAAE,CAACtP,CAAC,CAAC,CAAC,CAAC,CAAC,IAAIsP,EAAE,CAACtP,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGzZ,KAAK,CAAC8oB,EAAE,CAACrP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqP,EAAE,CAACrP,CAAC,CAAC,CAAC,CAAC,CAAC,GAAGqP,EAAE,CAACrP,CAAC,CAAC,CAAC,CAAC,CAAC;IAClE;EACA;AACA;ACRe,uBAAQ,CAACuQ,MAAM,EAAE;EAC9B,IAAI31B,CAAC,GAAG21B,MAAM,CAACn2B,MAAM;IAAEwgB,CAAC,GAAG,IAAIxe,KAAK,CAACxB,CAAC,CAAC;EACvC,OAAO,EAAEA,CAAC,IAAI,CAAC,EAAEggB,CAAC,CAAChgB,CAAC,CAAC,GAAGA,CAAC;EACzB,OAAOggB,CAAC;AACV;ACCA,SAAS6V,UAAU,CAAC7rB,CAAC,EAAEtE,GAAG,EAAE;EAC1B,OAAOsE,CAAC,CAACtE,GAAG,CAAC;AACf;AAEA,SAASowB,WAAW,CAACpwB,GAAG,EAAE;EACxB,MAAMiwB,MAAM,GAAG,EAAE;EACjBA,MAAM,CAACjwB,GAAG,GAAGA,GAAG;EAChB,OAAOiwB,MAAM;AACf;AAEe,cAAQ,GAAG;EACxB,IAAItwB,IAAI,GAAGyd,UAAQ,CAAC,EAAE,CAAC;IACnB8S,KAAK,GAAGG,cAAS;IACjBhwB,MAAM,GAAGiwB,MAAU;IACnBjyB,KAAK,GAAG8xB,UAAU;EAEtB,SAASI,KAAK,CAAC5nB,IAAI,EAAE;IACnB,IAAI6nB,EAAE,GAAG10B,KAAK,CAAC0R,IAAI,CAAC7N,IAAI,CAAC5F,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,EAAEu2B,WAAW,CAAC;MACzDpmB,CAAC;MAAE1P,CAAC,GAAGk2B,EAAE,CAAC12B,MAAM;MAAE4lB,CAAC,GAAG,CAAC,CAAC;MACxB+Q,EAAE;IAEN,KAAK,MAAMnsB,CAAC,IAAIqE,IAAI,EAAE;MACpB,KAAKqB,CAAC,GAAG,CAAC,EAAE,EAAE0V,CAAC,EAAE1V,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;QAC3B,CAACwmB,EAAE,CAACxmB,CAAC,CAAC,CAAC0V,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAACrhB,KAAK,CAACiG,CAAC,EAAEksB,EAAE,CAACxmB,CAAC,CAAC,CAAChK,GAAG,EAAE0f,CAAC,EAAE/W,IAAI,CAAC,CAAC,EAAEA,IAAI,GAAGrE,CAAC;MAChE;IACA;IAEI,KAAK0F,CAAC,GAAG,CAAC,EAAEymB,EAAE,GAAG7C,OAAK,CAACsC,KAAK,CAACM,EAAE,CAAC,CAAC,EAAExmB,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MAC7CwmB,EAAE,CAACC,EAAE,CAACzmB,CAAC,CAAC,CAAC,CAAC3C,KAAK,GAAG2C,CAAC;IACzB;IAEI3J,MAAM,CAACmwB,EAAE,EAAEC,EAAE,CAAC;IACd,OAAOD,EAAE;EACb;EAEED,KAAK,CAAC5wB,IAAI,GAAG,UAAS4N,CAAC,EAAE;IACvB,OAAO1T,SAAS,CAACC,MAAM,IAAI6F,IAAI,GAAG,OAAO4N,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAACthB,KAAK,CAAC0R,IAAI,CAACD,CAAC,CAAC,CAAC,EAAEgjB,KAAK,IAAI5wB,IAAI;EAC1G,CAAG;EAED4wB,KAAK,CAAClyB,KAAK,GAAG,UAASkP,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAIuE,KAAK,GAAG,OAAOkP,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAAC,CAAC7P,CAAC,CAAC,EAAEgjB,KAAK,IAAIlyB,KAAK;EACjG,CAAG;EAEDkyB,KAAK,CAACL,KAAK,GAAG,UAAS3iB,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAIo2B,KAAK,GAAG3iB,CAAC,IAAI,IAAI,GAAG8iB,cAAS,GAAG,OAAO9iB,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAG6P,UAAQ,CAACthB,KAAK,CAAC0R,IAAI,CAACD,CAAC,CAAC,CAAC,EAAEgjB,KAAK,IAAIL,KAAK;EACpI,CAAG;EAEDK,KAAK,CAAClwB,MAAM,GAAG,UAASkN,CAAC,EAAE;IACzB,OAAO1T,SAAS,CAACC,MAAM,IAAIuG,MAAM,GAAGkN,CAAC,IAAI,IAAI,GAAG+iB,MAAU,GAAG/iB,CAAC,EAAEgjB,KAAK,IAAIlwB,MAAM;EACnF,CAAG;EAED,OAAOkwB,KAAK;AACd;AClDA,MAAMG,aAAa,GAAgB;EACjCttB,IAAI,EAAE;IAAEyd,KAAK,EAAE,GAAG;IAAEsF,MAAM,EAAE;EAAG,CAAE;EACjCwK,MAAM,EAAE;IACNC,GAAG,EAAE,CAAC;IACN9mB,KAAK,EAAE,CAAC;IACR+mB,MAAM,EAAE,CAAC;IACTv1B,IAAI,EAAE;EACP;EACD4qB,SAAS,EAAE,YAAY;EACvB4K,IAAI,EAAE;IACJ/K,OAAO,EAAE;MACP/Y,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC;MAC9BpM,IAAI,EAAE;IACP;IACDolB,SAAS,EAAE;MACThZ,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,CAAC;MAC9BpM,IAAI,EAAE;IACP;EACF;EACDmwB,SAAS,EAAE;IACT3zB,CAAC,EAAE,EAAE;IACLsI,CAAC,EAAE;EACJ;CACF;AAEa,MAAOsrB,KAAK;EAOxBtuB,WAAY,KAAY,EAAE+hB,MAA4B;IACpD,IAAI,CAAC9b,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACsoB,MAAM,GAAG,EAAE;IAChB,IAAI,CAACxM,MAAM,GAAGyM,eAAe,CAC3BC,QAAQ,CAAE5wB,CAAC,IAAKA,CAAC,KAAKM,SAAS,EAAE4jB,MAAM,CAAC,EACxCiM,aAAa,CACP;IACR,IAAI,CAACU,MAAM,GAAG,IAAItL,MAAM,CAAC,IAAI,CAACrB,MAAM,CAACqM,IAAI,CAAC;IAC1C,IAAI,CAACO,OAAO,GAAGC,GAAG,CAAC,CAAC,CAAC;;EAGvB,IAAIC,SAAS;IACX,IAAI,IAAI,CAACH,MAAM,CAACrL,OAAO,CAACnlB,IAAI,KAAK,MAAM,EAAE,OAAO,IAAI,CAACwwB,MAAM,CAACrL,OAAO;IACnE,IAAI,IAAI,CAACqL,MAAM,CAACpL,SAAS,CAACplB,IAAI,KAAK,MAAM,EAAE,OAAO,IAAI,CAACwwB,MAAM,CAACpL,SAAS;IACvE,OAAO,IAAI;;EAGb,IAAIC,MAAM;IACR,MAAM;MAAE0K,MAAM;MAAEvtB;IAAI,CAAE,GAAG,IAAI,CAACqhB,MAAM;IACpC,MAAMsM,SAAS,GAAG,IAAI,CAACtM,MAAM,CAACsM,SAAS;IAEvC,IAAI,IAAI,CAACtM,MAAM,CAACqM,IAAI,CAAC/K,OAAO,CAACyL,IAAI,EAAE;MACjCT,SAAS,CAACrrB,CAAC,GAAG,CAAC;IAChB;IAED,IAAI,IAAI,CAAC+e,MAAM,CAACqM,IAAI,CAAC9K,SAAS,CAACwL,IAAI,EAAE;MACnCT,SAAS,CAAC3zB,CAAC,GAAG,CAAC;IAChB;IAED,OAAO;MACLA,CAAC,EAAEuzB,MAAM,CAACr1B,IAAI,GAAGy1B,SAAS,CAAC3zB,CAAC;MAC5BsI,CAAC,EAAEirB,MAAM,CAACC,GAAG;MACb/P,KAAK,EAAEzd,IAAI,CAACyd,KAAK,GAAG8P,MAAM,CAAC7mB,KAAK;MAChCqc,MAAM,EAAE/iB,IAAI,CAAC+iB,MAAM,GAAGwK,MAAM,CAACE,MAAM,GAAGE,SAAS,CAACrrB;KACjD;;EAGI+rB,cAAc,CAAC9xB,IAAc;IAClC,OAAO4wB,KAAK,EAAE,CACX5wB,IAAI,CAACA,IAAI,CAAC,CACVuwB,KAAK,CAACwB,cAAc,CAAC,CAAC,IAAI,CAAC/oB,IAAW,CAAC;;EAGrCgpB,UAAU,CAAChpB,IAAY;IAC5B,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACipB,MAAM,CAAC,MAAM,CAAC;;EAGd/M,YAAY,CAACJ,MAA4B;IAC9C,IAAI,CAACA,MAAM,GAAGyM,eAAe,CAC3BC,QAAQ,CAAE5wB,CAAC,IAAKA,CAAC,KAAKM,SAAS,EAAE4jB,MAAM,CAAC,EACxC,IAAI,CAACA,MAAM,CACL;IACR,IAAI,CAAC2M,MAAM,CAACvM,YAAY,CAAC,IAAI,CAACJ,MAAM,CAACqM,IAAI,CAAC;IAE1C,IAAI,CAACc,MAAM,CAAC,QAAQ,CAAC;;EAGhBC,QAAQ,CAACC,KAAY;IAC1B,IAAI,CAACb,MAAM,CAACzvB,IAAI,CAACswB,KAAK,CAAC;IACvB,IAAI,CAACF,MAAM,CAAC,QAAQ,CAAC;;EAGhBG,WAAW,CAACC,EAAU;IAC3B,IAAI,CAACf,MAAM,GAAG,IAAI,CAACA,MAAM,CAAC7rB,MAAM,CAAEuB,CAAC,IAAKA,CAAC,CAACqrB,EAAE,KAAKA,EAAE,CAAC;IACpD,IAAI,CAACJ,MAAM,CAAC,QAAQ,CAAC;;EAGhBK,SAAS,CAACrxB,IAAgB;IAC/B,IAAIA,IAAI,EAAE;MACR,OAAO,IAAI,CAACqwB,MAAM,CAAC7rB,MAAM,CAAEuB,CAAC,IAAKA,CAAC,CAAC/F,IAAI,KAAKA,IAAI,CAAC;IAClD;IACD,OAAO,IAAI,CAACqwB,MAAM;;EAGbiB,OAAO,CAACvyB,IAAc;IAC3B,OAAOA,IAAI,CAACf,MAAM,CAAC,CAACymB,GAAG,EAAErlB,GAAG,KAAKqlB,GAAG,CAAC/hB,MAAM,CAAC2E,MAAM,CAACjI,GAAG,EAAE,IAAI,CAAC2I,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC;;EAGnEwpB,OAAO,CAACx1B,GAAc,IAAC,CAAC,EAAEiE,OAAsB,IAAI;IACzD,MAAMjB,IAAI,GAAG,IAAI,CAACsxB,MAAM,CACrB7rB,MAAM,CAAEuB,CAAC,IAAI;MACZ,IAAI/F,IAAI,EAAE,OAAO+F,CAAC,CAAC/F,IAAI,KAAKA,IAAI;MAChC,OAAO,IAAI;IACb,CAAC,CAAC,CACDb,GAAG,CAAE4G,CAAC,IAAKA,CAAC,CAACyrB,QAAQ,CAAC;IAEzB,IAAIz1B,GAAG,KAAK,CAAC,CAAC,EAAE;MACd,OAAOgD,IAAI;IACZ;IAED,OAAOsI,MAAM,CAACtL,GAAG,EAAEgD,IAAI,CAAC;;EAGnB0yB,cAAc,CAAC11B,GAAc,IAAC,CAAC,EAAEiE,OAAsB,IAAI;IAChE,MAAMjB,IAAI,GAAG,IAAI,CAACsxB,MAAM,CACrB7rB,MAAM,CAAEuB,CAAC,IAAI;MACZ,IAAI/F,IAAI,EAAE,OAAO+F,CAAC,CAAC/F,IAAI,KAAKA,IAAI,IAAI+F,CAAC,CAAClG,KAAK,CAAC6xB,OAAO;MACnD,OAAO3rB,CAAC,CAAClG,KAAK,CAAC6xB,OAAO;IACxB,CAAC,CAAC,CACDvyB,GAAG,CAAE4G,CAAC,IAAKA,CAAC,CAACyrB,QAAQ,CAAC;IAEzB,IAAIz1B,GAAG,KAAK,CAAC,CAAC,EAAE;MACd,OAAOgD,IAAI;IACZ;IAED,OAAOsI,MAAM,CAACtL,GAAG,EAAEgD,IAAI,CAAC;;EAGnBiyB,MAAM,CAACrkB,CAAS;IACrB,MAAMyX,WAAW,GAAG,IAAI,CAACyM,cAAc,CAAC,IAAI,CAACY,cAAc,CAAC,CAAC,CAAC,CAAC;IAC/D,IAAI,CAACjB,MAAM,CAACtM,WAAW,CAAC,IAAI,CAACmB,MAAM,EAAE,IAAI,CAACxB,MAAM,CAACyB,SAAS,CAAC;IAC3D,IAAI,CAACkL,MAAM,CAACrM,YAAY,CAAC,IAAI,CAACpc,IAAI,EAAEqc,WAAW,EAAE,IAAI,CAACmN,OAAO,EAAE,CAAC;IAEhE,IAAI,CAACd,OAAO,CAAChzB,KAAK,IAAI,CAAC;;;AAG1B;;AC5JM,IAAIk0B,KAAK,GAAG,8BAA8B;AAEjD,iBAAe;EACbC,GAAG,EAAE,4BAA4B;EACjCD,KAAK,EAAEA,KAAK;EACZE,KAAK,EAAE,8BAA8B;EACrCC,GAAG,EAAE,sCAAsC;EAC3CC,KAAK,EAAE;AACT,CAAC;ACNc,kBAAQ,CAAC/vB,IAAI,EAAE;EAC5B,IAAImgB,MAAM,GAAGngB,IAAI,IAAI,EAAE;IAAEoH,CAAC,GAAG+Y,MAAM,CAACnf,OAAO,CAAC,GAAG,CAAC;EAChD,IAAIoG,CAAC,IAAI,CAAC,IAAI,CAAC+Y,MAAM,GAAGngB,IAAI,CAAChG,KAAK,CAAC,CAAC,EAAEoN,CAAC,CAAC,MAAM,OAAO,EAAEpH,IAAI,GAAGA,IAAI,CAAChG,KAAK,CAACoN,CAAC,GAAG,CAAC,CAAC;EAC/E,OAAO4oB,UAAU,CAACr1B,cAAc,CAACwlB,MAAM,CAAC,GAAG;IAAC8P,KAAK,EAAED,UAAU,CAAC7P,MAAM,CAAC;IAAE+P,KAAK,EAAElwB;EAAI,CAAC,GAAGA,IAAI,CAAC;AAC7F;;ACHA,SAASmwB,cAAc,CAACnwB,IAAI,EAAE;EAC5B,OAAO,YAAW;IAChB,IAAIowB,QAAQ,GAAG,IAAI,CAACC,aAAa;MAC7BC,GAAG,GAAG,IAAI,CAACC,YAAY;IAC3B,OAAOD,GAAG,KAAKX,KAAK,IAAIS,QAAQ,CAACI,eAAe,CAACD,YAAY,KAAKZ,KAAK,GACjES,QAAQ,CAACK,aAAa,CAACzwB,IAAI,CAAC,GAC5BowB,QAAQ,CAACM,eAAe,CAACJ,GAAG,EAAEtwB,IAAI,CAAC;EAC7C,CAAG;AACH;AAEA,SAAS2wB,YAAY,CAACC,QAAQ,EAAE;EAC9B,OAAO,YAAW;IAChB,OAAO,IAAI,CAACP,aAAa,CAACK,eAAe,CAACE,QAAQ,CAACX,KAAK,EAAEW,QAAQ,CAACV,KAAK,CAAC;EAC7E,CAAG;AACH;AAEe,gBAAQ,CAAClwB,IAAI,EAAE;EAC5B,IAAI4wB,QAAQ,GAAGC,SAAS,CAAC7wB,IAAI,CAAC;EAC9B,OAAO,CAAC4wB,QAAQ,CAACV,KAAK,GAChBS,YAAY,GACZR,cAAc,EAAES,QAAQ,CAAC;AACjC;ACxBA,SAASE,IAAI,GAAG;AAED,iBAAQ,CAACC,QAAQ,EAAE;EAChC,OAAOA,QAAQ,IAAI,IAAI,GAAGD,IAAI,GAAG,YAAW;IAC1C,OAAO,IAAI,CAACE,aAAa,CAACD,QAAQ,CAAC;EACvC,CAAG;AACH;ACHe,yBAAQ,CAACE,MAAM,EAAE;EAC9B,IAAI,OAAOA,MAAM,KAAK,UAAU,EAAEA,MAAM,GAAGF,QAAQ,CAACE,MAAM,CAAC;EAE3D,KAAK,IAAIC,MAAM,GAAG,IAAI,CAACC,OAAO,EAAEla,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAEk6B,SAAS,GAAG,IAAIl4B,KAAK,CAAC+d,CAAC,CAAC,EAAE6F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IAC9F,KAAK,IAAIyC,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC,EAAEplB,CAAC,GAAG6nB,KAAK,CAACroB,MAAM,EAAEm6B,QAAQ,GAAGD,SAAS,CAACtU,CAAC,CAAC,GAAG,IAAI5jB,KAAK,CAACxB,CAAC,CAAC,EAAE45B,IAAI,EAAEC,OAAO,EAAEnqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACtH,IAAI,CAACkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,MAAMmqB,OAAO,GAAGN,MAAM,CAACx3B,IAAI,CAAC63B,IAAI,EAAEA,IAAI,CAACE,QAAQ,EAAEpqB,CAAC,EAAEmY,KAAK,CAAC,CAAC,EAAE;QAC/E,IAAI,UAAU,IAAI+R,IAAI,EAAEC,OAAO,CAACC,QAAQ,GAAGF,IAAI,CAACE,QAAQ;QACxDH,QAAQ,CAACjqB,CAAC,CAAC,GAAGmqB,OAAO;MAC7B;IACA;EACA;EAEE,OAAO,IAAIE,SAAS,CAACL,SAAS,EAAE,IAAI,CAACM,QAAQ,CAAC;AAChD;;AChBA;AACA;AACA;AACA;AACA;AACA;AACe,SAAS1G,KAAK,CAACxwB,CAAC,EAAE;EAC/B,OAAOA,CAAC,IAAI,IAAI,GAAG,EAAE,GAAGtB,KAAK,CAACC,OAAO,CAACqB,CAAC,CAAC,GAAGA,CAAC,GAAGtB,KAAK,CAAC0R,IAAI,CAACpQ,CAAC,CAAC;AAC9D;ACRA,SAASm3B,KAAK,GAAG;EACf,OAAO,EAAE;AACX;AAEe,oBAAQ,CAACZ,QAAQ,EAAE;EAChC,OAAOA,QAAQ,IAAI,IAAI,GAAGY,KAAK,GAAG,YAAW;IAC3C,OAAO,IAAI,CAACC,gBAAgB,CAACb,QAAQ,CAAC;EAC1C,CAAG;AACH;ACJA,SAASc,QAAQ,CAACZ,MAAM,EAAE;EACxB,OAAO,YAAW;IAChB,OAAOjG,KAAK,CAACiG,MAAM,CAAC95B,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,CAAC;EAC/C,CAAG;AACH;AAEe,4BAAQ,CAACg6B,MAAM,EAAE;EAC9B,IAAI,OAAOA,MAAM,KAAK,UAAU,EAAEA,MAAM,GAAGY,QAAQ,CAACZ,MAAM,CAAC,CAAC,KACvDA,MAAM,GAAGa,WAAW,CAACb,MAAM,CAAC;EAEjC,KAAK,IAAIC,MAAM,GAAG,IAAI,CAACC,OAAO,EAAEla,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAEk6B,SAAS,GAAG,EAAE,EAAEW,OAAO,GAAG,EAAE,EAAEjV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IAClG,KAAK,IAAIyC,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC,EAAEplB,CAAC,GAAG6nB,KAAK,CAACroB,MAAM,EAAEo6B,IAAI,EAAElqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACrE,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,EAAE;QACnBgqB,SAAS,CAACxyB,IAAI,CAACqyB,MAAM,CAACx3B,IAAI,CAAC63B,IAAI,EAAEA,IAAI,CAACE,QAAQ,EAAEpqB,CAAC,EAAEmY,KAAK,CAAC,CAAC;QAC1DwS,OAAO,CAACnzB,IAAI,CAAC0yB,IAAI,CAAC;MAC1B;IACA;EACA;EAEE,OAAO,IAAIG,SAAS,CAACL,SAAS,EAAEW,OAAO,CAAC;AAC1C;ACxBe,gBAAQ,CAAChB,QAAQ,EAAE;EAChC,OAAO,YAAW;IAChB,OAAO,IAAI,CAACiB,OAAO,CAACjB,QAAQ,CAAC;EACjC,CAAG;AACH;AAEO,SAASkB,YAAY,CAAClB,QAAQ,EAAE;EACrC,OAAO,UAASO,IAAI,EAAE;IACpB,OAAOA,IAAI,CAACU,OAAO,CAACjB,QAAQ,CAAC;EACjC,CAAG;AACH;ACRA,IAAImB,IAAI,GAAGh5B,KAAK,CAACK,SAAS,CAAC24B,IAAI;AAE/B,SAASC,SAAS,CAACnzB,KAAK,EAAE;EACxB,OAAO,YAAW;IAChB,OAAOkzB,IAAI,CAACz4B,IAAI,CAAC,IAAI,CAAC24B,QAAQ,EAAEpzB,KAAK,CAAC;EAC1C,CAAG;AACH;AAEA,SAASqzB,UAAU,GAAG;EACpB,OAAO,IAAI,CAACC,iBAAiB;AAC/B;AAEe,8BAAQ,CAACtzB,KAAK,EAAE;EAC7B,OAAO,IAAI,CAACiyB,MAAM,CAACjyB,KAAK,IAAI,IAAI,GAAGqzB,UAAU,GACvCF,SAAS,CAAC,OAAOnzB,KAAK,KAAK,UAAU,GAAGA,KAAK,GAAGizB,YAAY,CAACjzB,KAAK,CAAC,CAAC,CAAC;AAC7E;ACfA,IAAIwD,MAAM,GAAGtJ,KAAK,CAACK,SAAS,CAACiJ,MAAM;AAEnC,SAAS4vB,QAAQ,GAAG;EAClB,OAAOl5B,KAAK,CAAC0R,IAAI,CAAC,IAAI,CAACwnB,QAAQ,CAAC;AAClC;AAEA,SAASG,cAAc,CAACvzB,KAAK,EAAE;EAC7B,OAAO,YAAW;IAChB,OAAOwD,MAAM,CAAC/I,IAAI,CAAC,IAAI,CAAC24B,QAAQ,EAAEpzB,KAAK,CAAC;EAC5C,CAAG;AACH;AAEe,iCAAQ,CAACA,KAAK,EAAE;EAC7B,OAAO,IAAI,CAACwzB,SAAS,CAACxzB,KAAK,IAAI,IAAI,GAAGozB,QAAQ,GACxCG,cAAc,CAAC,OAAOvzB,KAAK,KAAK,UAAU,GAAGA,KAAK,GAAGizB,YAAY,CAACjzB,KAAK,CAAC,CAAC,CAAC;AAClF;ACde,yBAAQ,CAACA,KAAK,EAAE;EAC7B,IAAI,OAAOA,KAAK,KAAK,UAAU,EAAEA,KAAK,GAAGyzB,OAAO,CAACzzB,KAAK,CAAC;EAEvD,KAAK,IAAIkyB,MAAM,GAAG,IAAI,CAACC,OAAO,EAAEla,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAEk6B,SAAS,GAAG,IAAIl4B,KAAK,CAAC+d,CAAC,CAAC,EAAE6F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IAC9F,KAAK,IAAIyC,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC,EAAEplB,CAAC,GAAG6nB,KAAK,CAACroB,MAAM,EAAEm6B,QAAQ,GAAGD,SAAS,CAACtU,CAAC,CAAC,GAAG,EAAE,EAAEwU,IAAI,EAAElqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACnG,IAAI,CAACkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,KAAKpI,KAAK,CAACvF,IAAI,CAAC63B,IAAI,EAAEA,IAAI,CAACE,QAAQ,EAAEpqB,CAAC,EAAEmY,KAAK,CAAC,EAAE;QAClE8R,QAAQ,CAACzyB,IAAI,CAAC0yB,IAAI,CAAC;MAC3B;IACA;EACA;EAEE,OAAO,IAAIG,SAAS,CAACL,SAAS,EAAE,IAAI,CAACM,QAAQ,CAAC;AAChD;ACfe,eAAQ,CAAC1C,MAAM,EAAE;EAC9B,OAAO,IAAI91B,KAAK,CAAC81B,MAAM,CAAC93B,MAAM,CAAC;AACjC;ACCe,wBAAQ,GAAG;EACxB,OAAO,IAAIu6B,SAAS,CAAC,IAAI,CAACiB,MAAM,IAAI,IAAI,CAACvB,OAAO,CAACh0B,GAAG,CAACw1B,MAAM,CAAC,EAAE,IAAI,CAACjB,QAAQ,CAAC;AAC9E;AAEO,SAASkB,SAAS,CAAClnB,MAAM,EAAEmnB,KAAK,EAAE;EACvC,IAAI,CAACxC,aAAa,GAAG3kB,MAAM,CAAC2kB,aAAa;EACzC,IAAI,CAACE,YAAY,GAAG7kB,MAAM,CAAC6kB,YAAY;EACvC,IAAI,CAACuC,KAAK,GAAG,IAAI;EACjB,IAAI,CAACC,OAAO,GAAGrnB,MAAM;EACrB,IAAI,CAAC8lB,QAAQ,GAAGqB,KAAK;AACvB;AAEAD,SAAS,CAACr5B,SAAS,GAAG;EACpBuG,WAAW,EAAE8yB,SAAS;EACtBI,WAAW,EAAE,UAASC,KAAK,EAAE;IAAE,OAAO,IAAI,CAACF,OAAO,CAACG,YAAY,CAACD,KAAK,EAAE,IAAI,CAACH,KAAK,CAAC;EAAC,CAAE;EACrFI,YAAY,EAAE,UAASD,KAAK,EAAE13B,IAAI,EAAE;IAAE,OAAO,IAAI,CAACw3B,OAAO,CAACG,YAAY,CAACD,KAAK,EAAE13B,IAAI,CAAC;EAAC,CAAE;EACtFy1B,aAAa,EAAE,UAASD,QAAQ,EAAE;IAAE,OAAO,IAAI,CAACgC,OAAO,CAAC/B,aAAa,CAACD,QAAQ,CAAC;EAAC,CAAE;EAClFa,gBAAgB,EAAE,UAASb,QAAQ,EAAE;IAAE,OAAO,IAAI,CAACgC,OAAO,CAACnB,gBAAgB,CAACb,QAAQ,CAAC;EAAC;AACxF,CAAC;ACrBc,mBAAQ,CAACv2B,CAAC,EAAE;EACzB,OAAO,YAAW;IAChB,OAAOA,CAAC;EACZ,CAAG;AACH;ACAA,SAAS24B,SAAS,CAACznB,MAAM,EAAE6T,KAAK,EAAE6T,KAAK,EAAEpE,MAAM,EAAEqE,IAAI,EAAEttB,IAAI,EAAE;EAC3D,IAAIqB,CAAC,GAAG,CAAC;IACLkqB,IAAI;IACJgC,WAAW,GAAG/T,KAAK,CAACroB,MAAM;IAC1Bq8B,UAAU,GAAGxtB,IAAI,CAAC7O,MAAM;;EAE9B;EACA;EACA;EACE,OAAOkQ,CAAC,GAAGmsB,UAAU,EAAE,EAAEnsB,CAAC,EAAE;IAC1B,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,EAAE;MACnBkqB,IAAI,CAACE,QAAQ,GAAGzrB,IAAI,CAACqB,CAAC,CAAC;MACvB4nB,MAAM,CAAC5nB,CAAC,CAAC,GAAGkqB,IAAI;IACtB,CAAK,MAAM;MACL8B,KAAK,CAAChsB,CAAC,CAAC,GAAG,IAAIwrB,SAAS,CAAClnB,MAAM,EAAE3F,IAAI,CAACqB,CAAC,CAAC,CAAC;IAC/C;EACA;;EAEA;EACE,OAAOA,CAAC,GAAGksB,WAAW,EAAE,EAAElsB,CAAC,EAAE;IAC3B,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,EAAE;MACnBisB,IAAI,CAACjsB,CAAC,CAAC,GAAGkqB,IAAI;IACpB;EACA;AACA;AAEA,SAASkC,OAAO,CAAC9nB,MAAM,EAAE6T,KAAK,EAAE6T,KAAK,EAAEpE,MAAM,EAAEqE,IAAI,EAAEttB,IAAI,EAAE3I,GAAG,EAAE;EAC9D,IAAIgK,CAAC;IACDkqB,IAAI;IACJmC,cAAc,GAAG,IAAI5rB,GAAG;IACxByrB,WAAW,GAAG/T,KAAK,CAACroB,MAAM;IAC1Bq8B,UAAU,GAAGxtB,IAAI,CAAC7O,MAAM;IACxBw8B,SAAS,GAAG,IAAIx6B,KAAK,CAACo6B,WAAW,CAAC;IAClCK,QAAQ;;EAEd;EACA;EACE,KAAKvsB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGksB,WAAW,EAAE,EAAElsB,CAAC,EAAE;IAChC,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,EAAE;MACnBssB,SAAS,CAACtsB,CAAC,CAAC,GAAGusB,QAAQ,GAAGv2B,GAAG,CAAC3D,IAAI,CAAC63B,IAAI,EAAEA,IAAI,CAACE,QAAQ,EAAEpqB,CAAC,EAAEmY,KAAK,CAAC,GAAG,EAAE;MACtE,IAAIkU,cAAc,CAACprB,GAAG,CAACsrB,QAAQ,CAAC,EAAE;QAChCN,IAAI,CAACjsB,CAAC,CAAC,GAAGkqB,IAAI;MACtB,CAAO,MAAM;QACLmC,cAAc,CAACvrB,GAAG,CAACyrB,QAAQ,EAAErC,IAAI,CAAC;MAC1C;IACA;EACA;;EAEA;EACA;EACA;EACE,KAAKlqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmsB,UAAU,EAAE,EAAEnsB,CAAC,EAAE;IAC/BusB,QAAQ,GAAGv2B,GAAG,CAAC3D,IAAI,CAACiS,MAAM,EAAE3F,IAAI,CAACqB,CAAC,CAAC,EAAEA,CAAC,EAAErB,IAAI,CAAC,GAAG,EAAE;IAClD,IAAIurB,IAAI,GAAGmC,cAAc,CAACtrB,GAAG,CAACwrB,QAAQ,CAAC,EAAE;MACvC3E,MAAM,CAAC5nB,CAAC,CAAC,GAAGkqB,IAAI;MAChBA,IAAI,CAACE,QAAQ,GAAGzrB,IAAI,CAACqB,CAAC,CAAC;MACvBqsB,cAAc,CAAClrB,MAAM,CAACorB,QAAQ,CAAC;IACrC,CAAK,MAAM;MACLP,KAAK,CAAChsB,CAAC,CAAC,GAAG,IAAIwrB,SAAS,CAAClnB,MAAM,EAAE3F,IAAI,CAACqB,CAAC,CAAC,CAAC;IAC/C;EACA;;EAEA;EACE,KAAKA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGksB,WAAW,EAAE,EAAElsB,CAAC,EAAE;IAChC,IAAI,CAACkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,KAAMqsB,cAAc,CAACtrB,GAAG,CAACurB,SAAS,CAACtsB,CAAC,CAAC,CAAC,KAAKkqB,IAAK,EAAE;MACpE+B,IAAI,CAACjsB,CAAC,CAAC,GAAGkqB,IAAI;IACpB;EACA;AACA;AAEA,SAASuB,KAAK,CAACvB,IAAI,EAAE;EACnB,OAAOA,IAAI,CAACE,QAAQ;AACtB;AAEe,uBAAQ,CAAC/1B,KAAK,EAAE2B,GAAG,EAAE;EAClC,IAAI,CAACnG,SAAS,CAACC,MAAM,EAAE,OAAOgC,KAAK,CAAC0R,IAAI,CAAC,IAAI,EAAEioB,KAAK,CAAC;EAErD,IAAI73B,IAAI,GAAGoC,GAAG,GAAGo2B,OAAO,GAAGL,SAAS;IAChCpB,OAAO,GAAG,IAAI,CAACL,QAAQ;IACvBR,MAAM,GAAG,IAAI,CAACC,OAAO;EAEzB,IAAI,OAAO11B,KAAK,KAAK,UAAU,EAAEA,KAAK,GAAG+e,UAAQ,CAAC/e,KAAK,CAAC;EAExD,KAAK,IAAIwb,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAE83B,MAAM,GAAG,IAAI91B,KAAK,CAAC+d,CAAC,CAAC,EAAEmc,KAAK,GAAG,IAAIl6B,KAAK,CAAC+d,CAAC,CAAC,EAAEoc,IAAI,GAAG,IAAIn6B,KAAK,CAAC+d,CAAC,CAAC,EAAE6F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IAC/G,IAAIpR,MAAM,GAAGqmB,OAAO,CAACjV,CAAC,CAAC;MACnByC,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC;MACjBwW,WAAW,GAAG/T,KAAK,CAACroB,MAAM;MAC1B6O,IAAI,GAAG6tB,SAAS,CAACn4B,KAAK,CAAChC,IAAI,CAACiS,MAAM,EAAEA,MAAM,IAAIA,MAAM,CAAC8lB,QAAQ,EAAE1U,CAAC,EAAEiV,OAAO,CAAC,CAAC;MAC3EwB,UAAU,GAAGxtB,IAAI,CAAC7O,MAAM;MACxB28B,UAAU,GAAGT,KAAK,CAACtW,CAAC,CAAC,GAAG,IAAI5jB,KAAK,CAACq6B,UAAU,CAAC;MAC7CO,WAAW,GAAG9E,MAAM,CAAClS,CAAC,CAAC,GAAG,IAAI5jB,KAAK,CAACq6B,UAAU,CAAC;MAC/CQ,SAAS,GAAGV,IAAI,CAACvW,CAAC,CAAC,GAAG,IAAI5jB,KAAK,CAACo6B,WAAW,CAAC;IAEhDt4B,IAAI,CAAC0Q,MAAM,EAAE6T,KAAK,EAAEsU,UAAU,EAAEC,WAAW,EAAEC,SAAS,EAAEhuB,IAAI,EAAE3I,GAAG,CAAC;;IAEtE;IACA;IACA;IACI,KAAK,IAAIyhB,EAAE,GAAG,CAAC,EAAEC,EAAE,GAAG,CAAC,EAAEkV,QAAQ,EAAEz4B,IAAI,EAAEsjB,EAAE,GAAG0U,UAAU,EAAE,EAAE1U,EAAE,EAAE;MAC9D,IAAImV,QAAQ,GAAGH,UAAU,CAAChV,EAAE,CAAC,EAAE;QAC7B,IAAIA,EAAE,IAAIC,EAAE,EAAEA,EAAE,GAAGD,EAAE,GAAG,CAAC;QACzB,OAAO,EAAEtjB,IAAI,GAAGu4B,WAAW,CAAChV,EAAE,CAAC,CAAC,IAAI,EAAEA,EAAE,GAAGyU,UAAU,CAAC;QACtDS,QAAQ,CAAClB,KAAK,GAAGv3B,IAAI,IAAI,IAAI;MACrC;IACA;EACA;EAEEyzB,MAAM,GAAG,IAAIyC,SAAS,CAACzC,MAAM,EAAE+C,OAAO,CAAC;EACvC/C,MAAM,CAAC0D,MAAM,GAAGU,KAAK;EACrBpE,MAAM,CAACiF,KAAK,GAAGZ,IAAI;EACnB,OAAOrE,MAAM;AACf;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS4E,SAAS,CAAC7tB,IAAI,EAAE;EACvB,OAAO,OAAOA,IAAI,KAAK,QAAQ,IAAI,QAAQ,IAAIA,IAAI,GAC/CA,IAAI;EAAA,EACJ7M,KAAK,CAAC0R,IAAI,CAAC7E,IAAI,CAAC,CAAC;AACvB;;AC5He,uBAAQ,GAAG;EACxB,OAAO,IAAI0rB,SAAS,CAAC,IAAI,CAACwC,KAAK,IAAI,IAAI,CAAC9C,OAAO,CAACh0B,GAAG,CAACw1B,MAAM,CAAC,EAAE,IAAI,CAACjB,QAAQ,CAAC;AAC7E;ACLe,uBAAQ,CAACwC,OAAO,EAAEC,QAAQ,EAAEC,MAAM,EAAE;EACjD,IAAIhB,KAAK,GAAG,IAAI,CAACA,KAAK,EAAE;IAAEpE,MAAM,GAAG,IAAI;IAAEqE,IAAI,GAAG,IAAI,CAACA,IAAI,EAAE;EAC3D,IAAI,OAAOa,OAAO,KAAK,UAAU,EAAE;IACjCd,KAAK,GAAGc,OAAO,CAACd,KAAK,CAAC;IACtB,IAAIA,KAAK,EAAEA,KAAK,GAAGA,KAAK,CAACiB,SAAS,EAAE;EACxC,CAAG,MAAM;IACLjB,KAAK,GAAGA,KAAK,CAACkB,MAAM,CAACJ,OAAO,GAAG,EAAE,CAAC;EACtC;EACE,IAAIC,QAAQ,IAAI,IAAI,EAAE;IACpBnF,MAAM,GAAGmF,QAAQ,CAACnF,MAAM,CAAC;IACzB,IAAIA,MAAM,EAAEA,MAAM,GAAGA,MAAM,CAACqF,SAAS,EAAE;EAC3C;EACE,IAAID,MAAM,IAAI,IAAI,EAAEf,IAAI,CAACkB,MAAM,EAAE,CAAC,KAAMH,MAAM,CAACf,IAAI,CAAC;EACpD,OAAOD,KAAK,IAAIpE,MAAM,GAAGoE,KAAK,CAACoB,KAAK,CAACxF,MAAM,CAAC,CAAC1B,KAAK,EAAE,GAAG0B,MAAM;AAC/D;ACZe,wBAAQ,CAACrG,OAAO,EAAE;EAC/B,IAAI0L,SAAS,GAAG1L,OAAO,CAAC0L,SAAS,GAAG1L,OAAO,CAAC0L,SAAS,EAAE,GAAG1L,OAAO;EAEjE,KAAK,IAAI8L,OAAO,GAAG,IAAI,CAACtD,OAAO,EAAEuD,OAAO,GAAGL,SAAS,CAAClD,OAAO,EAAEwD,EAAE,GAAGF,OAAO,CAACv9B,MAAM,EAAEohB,EAAE,GAAGoc,OAAO,CAACx9B,MAAM,EAAE+f,CAAC,GAAGnS,IAAI,CAACC,GAAG,CAAC4vB,EAAE,EAAErc,EAAE,CAAC,EAAEsc,MAAM,GAAG,IAAI17B,KAAK,CAACy7B,EAAE,CAAC,EAAE7X,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IACvK,KAAK,IAAI+X,MAAM,GAAGJ,OAAO,CAAC3X,CAAC,CAAC,EAAEgY,MAAM,GAAGJ,OAAO,CAAC5X,CAAC,CAAC,EAAEplB,CAAC,GAAGm9B,MAAM,CAAC39B,MAAM,EAAEs9B,KAAK,GAAGI,MAAM,CAAC9X,CAAC,CAAC,GAAG,IAAI5jB,KAAK,CAACxB,CAAC,CAAC,EAAE45B,IAAI,EAAElqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MAC/H,IAAIkqB,IAAI,GAAGuD,MAAM,CAACztB,CAAC,CAAC,IAAI0tB,MAAM,CAAC1tB,CAAC,CAAC,EAAE;QACjCotB,KAAK,CAACptB,CAAC,CAAC,GAAGkqB,IAAI;MACvB;IACA;EACA;EAEE,OAAOxU,CAAC,GAAG6X,EAAE,EAAE,EAAE7X,CAAC,EAAE;IAClB8X,MAAM,CAAC9X,CAAC,CAAC,GAAG2X,OAAO,CAAC3X,CAAC,CAAC;EAC1B;EAEE,OAAO,IAAI2U,SAAS,CAACmD,MAAM,EAAE,IAAI,CAAClD,QAAQ,CAAC;AAC7C;AClBe,wBAAQ,GAAG;EAExB,KAAK,IAAIR,MAAM,GAAG,IAAI,CAACC,OAAO,EAAErU,CAAC,GAAG,CAAC,CAAC,EAAE7F,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAE,EAAE4lB,CAAC,GAAG7F,CAAC,GAAG;IACnE,KAAK,IAAIsI,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC,EAAE1V,CAAC,GAAGmY,KAAK,CAACroB,MAAM,GAAG,CAAC,EAAEqE,IAAI,GAAGgkB,KAAK,CAACnY,CAAC,CAAC,EAAEkqB,IAAI,EAAE,EAAElqB,CAAC,IAAI,CAAC,GAAG;MAClF,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,EAAE;QACnB,IAAI7L,IAAI,IAAI+1B,IAAI,CAACyD,uBAAuB,CAACx5B,IAAI,CAAC,GAAG,CAAC,EAAEA,IAAI,CAACy5B,UAAU,CAAC9B,YAAY,CAAC5B,IAAI,EAAE/1B,IAAI,CAAC;QAC5FA,IAAI,GAAG+1B,IAAI;MACnB;IACA;EACA;EAEE,OAAO,IAAI;AACb;ACVe,uBAAQ,CAAC2D,OAAO,EAAE;EAC/B,IAAI,CAACA,OAAO,EAAEA,OAAO,GAAGzuB,SAAS;EAEjC,SAAS0uB,WAAW,CAACr+B,CAAC,EAAES,CAAC,EAAE;IACzB,OAAOT,CAAC,IAAIS,CAAC,GAAG29B,OAAO,CAACp+B,CAAC,CAAC26B,QAAQ,EAAEl6B,CAAC,CAACk6B,QAAQ,CAAC,GAAG,CAAC36B,CAAC,GAAG,CAACS,CAAC;EAC7D;EAEE,KAAK,IAAI45B,MAAM,GAAG,IAAI,CAACC,OAAO,EAAEla,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAEi+B,UAAU,GAAG,IAAIj8B,KAAK,CAAC+d,CAAC,CAAC,EAAE6F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IAC/F,KAAK,IAAIyC,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC,EAAEplB,CAAC,GAAG6nB,KAAK,CAACroB,MAAM,EAAEk+B,SAAS,GAAGD,UAAU,CAACrY,CAAC,CAAC,GAAG,IAAI5jB,KAAK,CAACxB,CAAC,CAAC,EAAE45B,IAAI,EAAElqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MAC/G,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,EAAE;QACnBguB,SAAS,CAAChuB,CAAC,CAAC,GAAGkqB,IAAI;MAC3B;IACA;IACI8D,SAAS,CAAClyB,IAAI,CAACgyB,WAAW,CAAC;EAC/B;EAEE,OAAO,IAAIzD,SAAS,CAAC0D,UAAU,EAAE,IAAI,CAACzD,QAAQ,CAAC,CAACpE,KAAK,EAAE;AACzD;AAEA,SAAS9mB,SAAS,CAAC3P,CAAC,EAAES,CAAC,EAAE;EACvB,OAAOT,CAAC,GAAGS,CAAC,GAAG,CAAC,CAAC,GAAGT,CAAC,GAAGS,CAAC,GAAG,CAAC,GAAGT,CAAC,IAAIS,CAAC,GAAG,CAAC,GAAGgM,GAAG;AAClD;ACvBe,uBAAQ,GAAG;EACxB,IAAI+xB,QAAQ,GAAGp+B,SAAS,CAAC,CAAC,CAAC;EAC3BA,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;EACnBo+B,QAAQ,CAACl+B,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;EAC/B,OAAO,IAAI;AACb;ACLe,wBAAQ,GAAG;EACxB,OAAOiC,KAAK,CAAC0R,IAAI,CAAC,IAAI,CAAC;AACzB;ACFe,uBAAQ,GAAG;EAExB,KAAK,IAAIsmB,MAAM,GAAG,IAAI,CAACC,OAAO,EAAErU,CAAC,GAAG,CAAC,EAAE7F,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAE4lB,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IACpE,KAAK,IAAIyC,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC,EAAE1V,CAAC,GAAG,CAAC,EAAE1P,CAAC,GAAG6nB,KAAK,CAACroB,MAAM,EAAEkQ,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MAC/D,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC;MACnB,IAAIkqB,IAAI,EAAE,OAAOA,IAAI;IAC3B;EACA;EAEE,OAAO,IAAI;AACb;ACVe,uBAAQ,GAAG;EACxB,IAAI9wB,IAAI,GAAG,CAAC;EACZ,KAAK,MAAM8wB,IAAI,IAAI,IAAI,EAAE,EAAE9wB,IAAI,CAAC;EAChC,OAAOA,IAAI;AACb;ACJe,wBAAQ,GAAG;EACxB,OAAO,CAAC,IAAI,CAAC8wB,IAAI,EAAE;AACrB;ACFe,uBAAQ,CAAC+D,QAAQ,EAAE;EAEhC,KAAK,IAAInE,MAAM,GAAG,IAAI,CAACC,OAAO,EAAErU,CAAC,GAAG,CAAC,EAAE7F,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAE4lB,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IACpE,KAAK,IAAIyC,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC,EAAE1V,CAAC,GAAG,CAAC,EAAE1P,CAAC,GAAG6nB,KAAK,CAACroB,MAAM,EAAEo6B,IAAI,EAAElqB,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACrE,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,EAAEiuB,QAAQ,CAAC57B,IAAI,CAAC63B,IAAI,EAAEA,IAAI,CAACE,QAAQ,EAAEpqB,CAAC,EAAEmY,KAAK,CAAC;IACvE;EACA;EAEE,OAAO,IAAI;AACb;ACPA,SAAS+V,UAAU,CAACt1B,IAAI,EAAE;EACxB,OAAO,YAAW;IAChB,IAAI,CAACu1B,eAAe,CAACv1B,IAAI,CAAC;EAC9B,CAAG;AACH;AAEA,SAASw1B,YAAY,CAAC5E,QAAQ,EAAE;EAC9B,OAAO,YAAW;IAChB,IAAI,CAAC6E,iBAAiB,CAAC7E,QAAQ,CAACX,KAAK,EAAEW,QAAQ,CAACV,KAAK,CAAC;EAC1D,CAAG;AACH;AAEA,SAASwF,YAAY,CAAC11B,IAAI,EAAEvE,KAAK,EAAE;EACjC,OAAO,YAAW;IAChB,IAAI,CAACk6B,YAAY,CAAC31B,IAAI,EAAEvE,KAAK,CAAC;EAClC,CAAG;AACH;AAEA,SAASm6B,cAAc,CAAChF,QAAQ,EAAEn1B,KAAK,EAAE;EACvC,OAAO,YAAW;IAChB,IAAI,CAACo6B,cAAc,CAACjF,QAAQ,CAACX,KAAK,EAAEW,QAAQ,CAACV,KAAK,EAAEz0B,KAAK,CAAC;EAC9D,CAAG;AACH;AAEA,SAASq6B,YAAY,CAAC91B,IAAI,EAAEvE,KAAK,EAAE;EACjC,OAAO,YAAW;IAChB,IAAIkK,CAAC,GAAGlK,KAAK,CAACtE,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;IACpC,IAAI0O,CAAC,IAAI,IAAI,EAAE,IAAI,CAAC4vB,eAAe,CAACv1B,IAAI,CAAC,CAAC,KACrC,IAAI,CAAC21B,YAAY,CAAC31B,IAAI,EAAE2F,CAAC,CAAC;EACnC,CAAG;AACH;AAEA,SAASowB,cAAc,CAACnF,QAAQ,EAAEn1B,KAAK,EAAE;EACvC,OAAO,YAAW;IAChB,IAAIkK,CAAC,GAAGlK,KAAK,CAACtE,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;IACpC,IAAI0O,CAAC,IAAI,IAAI,EAAE,IAAI,CAAC8vB,iBAAiB,CAAC7E,QAAQ,CAACX,KAAK,EAAEW,QAAQ,CAACV,KAAK,CAAC,CAAC,KACjE,IAAI,CAAC2F,cAAc,CAACjF,QAAQ,CAACX,KAAK,EAAEW,QAAQ,CAACV,KAAK,EAAEvqB,CAAC,CAAC;EAC/D,CAAG;AACH;AAEe,uBAAQ,CAAC3F,IAAI,EAAEvE,KAAK,EAAE;EACnC,IAAIm1B,QAAQ,GAAGC,SAAS,CAAC7wB,IAAI,CAAC;EAE9B,IAAI/I,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;IACxB,IAAIo6B,IAAI,GAAG,IAAI,CAACA,IAAI,EAAE;IACtB,OAAOV,QAAQ,CAACV,KAAK,GACfoB,IAAI,CAAC0E,cAAc,CAACpF,QAAQ,CAACX,KAAK,EAAEW,QAAQ,CAACV,KAAK,CAAC,GACnDoB,IAAI,CAAC2E,YAAY,CAACrF,QAAQ,CAAC;EACrC;EAEE,OAAO,IAAI,CAACsF,IAAI,CAAC,CAACz6B,KAAK,IAAI,IAAI,GACxBm1B,QAAQ,CAACV,KAAK,GAAGsF,YAAY,GAAGF,UAAU,GAAK,OAAO75B,KAAK,KAAK,UAAU,GAC1Em1B,QAAQ,CAACV,KAAK,GAAG6F,cAAc,GAAGD,YAAY,GAC9ClF,QAAQ,CAACV,KAAK,GAAG0F,cAAc,GAAGF,YAAc,EAAE9E,QAAQ,EAAEn1B,KAAK,CAAC,CAAC;AAC5E;ACxDe,oBAAQ,CAAC61B,IAAI,EAAE;EAC5B,OAAQA,IAAI,CAACjB,aAAa,IAAIiB,IAAI,CAACjB,aAAa,CAAC8F,WAAW;EAAA,GACpD7E,IAAI,CAAClB,QAAQ,IAAIkB,IAAK;EAAA,GACvBA,IAAI,CAAC6E,WAAW,CAAC;AAC1B;;ACFA,SAASC,WAAW,CAACp2B,IAAI,EAAE;EACzB,OAAO,YAAW;IAChB,IAAI,CAACq2B,KAAK,CAACC,cAAc,CAACt2B,IAAI,CAAC;EACnC,CAAG;AACH;AAEA,SAASu2B,aAAa,CAACv2B,IAAI,EAAEvE,KAAK,EAAE+6B,QAAQ,EAAE;EAC5C,OAAO,YAAW;IAChB,IAAI,CAACH,KAAK,CAACI,WAAW,CAACz2B,IAAI,EAAEvE,KAAK,EAAE+6B,QAAQ,CAAC;EACjD,CAAG;AACH;AAEA,SAASE,aAAa,CAAC12B,IAAI,EAAEvE,KAAK,EAAE+6B,QAAQ,EAAE;EAC5C,OAAO,YAAW;IAChB,IAAI7wB,CAAC,GAAGlK,KAAK,CAACtE,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;IACpC,IAAI0O,CAAC,IAAI,IAAI,EAAE,IAAI,CAAC0wB,KAAK,CAACC,cAAc,CAACt2B,IAAI,CAAC,CAAC,KAC1C,IAAI,CAACq2B,KAAK,CAACI,WAAW,CAACz2B,IAAI,EAAE2F,CAAC,EAAE6wB,QAAQ,CAAC;EAClD,CAAG;AACH;AAEe,wBAAQ,CAACx2B,IAAI,EAAEvE,KAAK,EAAE+6B,QAAQ,EAAE;EAC7C,OAAOv/B,SAAS,CAACC,MAAM,GAAG,CAAC,GACrB,IAAI,CAACg/B,IAAI,CAAC,CAACz6B,KAAK,IAAI,IAAI,GAClB26B,WAAW,GAAG,OAAO36B,KAAK,KAAK,UAAU,GACzCi7B,aAAa,GACbH,aAAa,EAAEv2B,IAAI,EAAEvE,KAAK,EAAE+6B,QAAQ,IAAI,IAAI,GAAG,EAAE,GAAGA,QAAQ,CAAC,CAAC,GACpEG,UAAU,CAAC,IAAI,CAACrF,IAAI,EAAE,EAAEtxB,IAAI,CAAC;AACrC;AAEO,SAAS22B,UAAU,CAACrF,IAAI,EAAEtxB,IAAI,EAAE;EACrC,OAAOsxB,IAAI,CAAC+E,KAAK,CAACO,gBAAgB,CAAC52B,IAAI,CAAC,IACjCm2B,WAAW,CAAC7E,IAAI,CAAC,CAACuF,gBAAgB,CAACvF,IAAI,EAAE,IAAI,CAAC,CAACsF,gBAAgB,CAAC52B,IAAI,CAAC;AAC9E;AClCA,SAAS82B,cAAc,CAAC92B,IAAI,EAAE;EAC5B,OAAO,YAAW;IAChB,OAAO,IAAI,CAACA,IAAI,CAAC;EACrB,CAAG;AACH;AAEA,SAAS+2B,gBAAgB,CAAC/2B,IAAI,EAAEvE,KAAK,EAAE;EACrC,OAAO,YAAW;IAChB,IAAI,CAACuE,IAAI,CAAC,GAAGvE,KAAK;EACtB,CAAG;AACH;AAEA,SAASu7B,gBAAgB,CAACh3B,IAAI,EAAEvE,KAAK,EAAE;EACrC,OAAO,YAAW;IAChB,IAAIkK,CAAC,GAAGlK,KAAK,CAACtE,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;IACpC,IAAI0O,CAAC,IAAI,IAAI,EAAE,OAAO,IAAI,CAAC3F,IAAI,CAAC,CAAC,KAC5B,IAAI,CAACA,IAAI,CAAC,GAAG2F,CAAC;EACvB,CAAG;AACH;AAEe,2BAAQ,CAAC3F,IAAI,EAAEvE,KAAK,EAAE;EACnC,OAAOxE,SAAS,CAACC,MAAM,GAAG,CAAC,GACrB,IAAI,CAACg/B,IAAI,CAAC,CAACz6B,KAAK,IAAI,IAAI,GACpBq7B,cAAc,GAAG,OAAOr7B,KAAK,KAAK,UAAU,GAC5Cu7B,gBAAgB,GAChBD,gBAAgB,EAAE/2B,IAAI,EAAEvE,KAAK,CAAC,CAAC,GACnC,IAAI,CAAC61B,IAAI,EAAE,CAACtxB,IAAI,CAAC;AACzB;AC3BA,SAASi3B,UAAU,CAAClb,MAAM,EAAE;EAC1B,OAAOA,MAAM,CAAC7E,IAAI,EAAE,CAACvS,KAAK,CAAC,OAAO,CAAC;AACrC;AAEA,SAASuyB,SAAS,CAAC5F,IAAI,EAAE;EACvB,OAAOA,IAAI,CAAC4F,SAAS,IAAI,IAAIC,SAAS,CAAC7F,IAAI,CAAC;AAC9C;AAEA,SAAS6F,SAAS,CAAC7F,IAAI,EAAE;EACvB,IAAI,CAAC8F,KAAK,GAAG9F,IAAI;EACjB,IAAI,CAAC+F,MAAM,GAAGJ,UAAU,CAAC3F,IAAI,CAAC2E,YAAY,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;AAC5D;AAEAkB,SAAS,CAAC59B,SAAS,GAAG;EACpB+9B,GAAG,EAAE,UAASt3B,IAAI,EAAE;IAClB,IAAIoH,CAAC,GAAG,IAAI,CAACiwB,MAAM,CAACr2B,OAAO,CAAChB,IAAI,CAAC;IACjC,IAAIoH,CAAC,GAAG,CAAC,EAAE;MACT,IAAI,CAACiwB,MAAM,CAACz4B,IAAI,CAACoB,IAAI,CAAC;MACtB,IAAI,CAACo3B,KAAK,CAACzB,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC0B,MAAM,CAACl0B,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7D;EACA,CAAG;EACDoxB,MAAM,EAAE,UAASv0B,IAAI,EAAE;IACrB,IAAIoH,CAAC,GAAG,IAAI,CAACiwB,MAAM,CAACr2B,OAAO,CAAChB,IAAI,CAAC;IACjC,IAAIoH,CAAC,IAAI,CAAC,EAAE;MACV,IAAI,CAACiwB,MAAM,CAACE,MAAM,CAACnwB,CAAC,EAAE,CAAC,CAAC;MACxB,IAAI,CAACgwB,KAAK,CAACzB,YAAY,CAAC,OAAO,EAAE,IAAI,CAAC0B,MAAM,CAACl0B,IAAI,CAAC,GAAG,CAAC,CAAC;IAC7D;EACA,CAAG;EACDtG,QAAQ,EAAE,UAASmD,IAAI,EAAE;IACvB,OAAO,IAAI,CAACq3B,MAAM,CAACr2B,OAAO,CAAChB,IAAI,CAAC,IAAI,CAAC;EACzC;AACA,CAAC;AAED,SAASw3B,UAAU,CAAClG,IAAI,EAAE9sB,KAAK,EAAE;EAC/B,IAAIrJ,IAAI,GAAG+7B,SAAS,CAAC5F,IAAI,CAAC;IAAElqB,CAAC,GAAG,CAAC,CAAC;IAAE1P,CAAC,GAAG8M,KAAK,CAACtN,MAAM;EACpD,OAAO,EAAEkQ,CAAC,GAAG1P,CAAC,EAAEyD,IAAI,CAACm8B,GAAG,CAAC9yB,KAAK,CAAC4C,CAAC,CAAC,CAAC;AACpC;AAEA,SAASqwB,aAAa,CAACnG,IAAI,EAAE9sB,KAAK,EAAE;EAClC,IAAIrJ,IAAI,GAAG+7B,SAAS,CAAC5F,IAAI,CAAC;IAAElqB,CAAC,GAAG,CAAC,CAAC;IAAE1P,CAAC,GAAG8M,KAAK,CAACtN,MAAM;EACpD,OAAO,EAAEkQ,CAAC,GAAG1P,CAAC,EAAEyD,IAAI,CAACo5B,MAAM,CAAC/vB,KAAK,CAAC4C,CAAC,CAAC,CAAC;AACvC;AAEA,SAASswB,WAAW,CAAClzB,KAAK,EAAE;EAC1B,OAAO,YAAW;IAChBgzB,UAAU,CAAC,IAAI,EAAEhzB,KAAK,CAAC;EAC3B,CAAG;AACH;AAEA,SAASmzB,YAAY,CAACnzB,KAAK,EAAE;EAC3B,OAAO,YAAW;IAChBizB,aAAa,CAAC,IAAI,EAAEjzB,KAAK,CAAC;EAC9B,CAAG;AACH;AAEA,SAASozB,eAAe,CAACpzB,KAAK,EAAE/I,KAAK,EAAE;EACrC,OAAO,YAAW;IAChB,CAACA,KAAK,CAACtE,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,GAAGugC,UAAU,GAAGC,aAAa,EAAE,IAAI,EAAEjzB,KAAK,CAAC;EAC5E,CAAG;AACH;AAEe,0BAAQ,CAACxE,IAAI,EAAEvE,KAAK,EAAE;EACnC,IAAI+I,KAAK,GAAGyyB,UAAU,CAACj3B,IAAI,GAAG,EAAE,CAAC;EAEjC,IAAI/I,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;IACxB,IAAIiE,IAAI,GAAG+7B,SAAS,CAAC,IAAI,CAAC5F,IAAI,EAAE,CAAC;MAAElqB,CAAC,GAAG,CAAC,CAAC;MAAE1P,CAAC,GAAG8M,KAAK,CAACtN,MAAM;IAC3D,OAAO,EAAEkQ,CAAC,GAAG1P,CAAC,EAAE,IAAI,CAACyD,IAAI,CAAC0B,QAAQ,CAAC2H,KAAK,CAAC4C,CAAC,CAAC,CAAC,EAAE,OAAO,KAAK;IAC1D,OAAO,IAAI;EACf;EAEE,OAAO,IAAI,CAAC8uB,IAAI,CAAC,CAAC,OAAOz6B,KAAK,KAAK,UAAU,GACvCm8B,eAAe,GAAGn8B,KAAK,GACvBi8B,WAAW,GACXC,YAAY,EAAEnzB,KAAK,EAAE/I,KAAK,CAAC,CAAC;AACpC;AC1EA,SAASo8B,UAAU,GAAG;EACpB,IAAI,CAACC,WAAW,GAAG,EAAE;AACvB;AAEA,SAASC,YAAY,CAACt8B,KAAK,EAAE;EAC3B,OAAO,YAAW;IAChB,IAAI,CAACq8B,WAAW,GAAGr8B,KAAK;EAC5B,CAAG;AACH;AAEA,SAASu8B,YAAY,CAACv8B,KAAK,EAAE;EAC3B,OAAO,YAAW;IAChB,IAAIkK,CAAC,GAAGlK,KAAK,CAACtE,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;IACpC,IAAI,CAAC6gC,WAAW,GAAGnyB,CAAC,IAAI,IAAI,GAAG,EAAE,GAAGA,CAAC;EACzC,CAAG;AACH;AAEe,uBAAQ,CAAClK,KAAK,EAAE;EAC7B,OAAOxE,SAAS,CAACC,MAAM,GACjB,IAAI,CAACg/B,IAAI,CAACz6B,KAAK,IAAI,IAAI,GACnBo8B,UAAU,GAAG,CAAC,OAAOp8B,KAAK,KAAK,UAAU,GACzCu8B,YAAY,GACZD,YAAY,EAAEt8B,KAAK,CAAC,CAAC,GACzB,IAAI,CAAC61B,IAAI,EAAE,CAACwG,WAAW;AAC/B;ACxBA,SAASG,UAAU,GAAG;EACpB,IAAI,CAACC,SAAS,GAAG,EAAE;AACrB;AAEA,SAASC,YAAY,CAAC18B,KAAK,EAAE;EAC3B,OAAO,YAAW;IAChB,IAAI,CAACy8B,SAAS,GAAGz8B,KAAK;EAC1B,CAAG;AACH;AAEA,SAAS28B,YAAY,CAAC38B,KAAK,EAAE;EAC3B,OAAO,YAAW;IAChB,IAAIkK,CAAC,GAAGlK,KAAK,CAACtE,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;IACpC,IAAI,CAACihC,SAAS,GAAGvyB,CAAC,IAAI,IAAI,GAAG,EAAE,GAAGA,CAAC;EACvC,CAAG;AACH;AAEe,uBAAQ,CAAClK,KAAK,EAAE;EAC7B,OAAOxE,SAAS,CAACC,MAAM,GACjB,IAAI,CAACg/B,IAAI,CAACz6B,KAAK,IAAI,IAAI,GACnBw8B,UAAU,GAAG,CAAC,OAAOx8B,KAAK,KAAK,UAAU,GACzC28B,YAAY,GACZD,YAAY,EAAE18B,KAAK,CAAC,CAAC,GACzB,IAAI,CAAC61B,IAAI,EAAE,CAAC4G,SAAS;AAC7B;ACxBA,SAASG,KAAK,GAAG;EACf,IAAI,IAAI,CAACC,WAAW,EAAE,IAAI,CAACtD,UAAU,CAAChC,WAAW,CAAC,IAAI,CAAC;AACzD;AAEe,wBAAQ,GAAG;EACxB,OAAO,IAAI,CAACkD,IAAI,CAACmC,KAAK,CAAC;AACzB;ACNA,SAASE,KAAK,GAAG;EACf,IAAI,IAAI,CAACC,eAAe,EAAE,IAAI,CAACxD,UAAU,CAAC9B,YAAY,CAAC,IAAI,EAAE,IAAI,CAAC8B,UAAU,CAACyD,UAAU,CAAC;AAC1F;AAEe,wBAAQ,GAAG;EACxB,OAAO,IAAI,CAACvC,IAAI,CAACqC,KAAK,CAAC;AACzB;ACJe,yBAAQ,CAACv4B,IAAI,EAAE;EAC5B,IAAI4L,MAAM,GAAG,OAAO5L,IAAI,KAAK,UAAU,GAAGA,IAAI,GAAG04B,OAAO,CAAC14B,IAAI,CAAC;EAC9D,OAAO,IAAI,CAACixB,MAAM,CAAC,YAAW;IAC5B,OAAO,IAAI,CAAC+B,WAAW,CAACpnB,MAAM,CAACzU,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,CAAC;EAC1D,CAAG,CAAC;AACJ;ACJA,SAAS0hC,YAAY,GAAG;EACtB,OAAO,IAAI;AACb;AAEe,yBAAQ,CAAC34B,IAAI,EAAE44B,MAAM,EAAE;EACpC,IAAIhtB,MAAM,GAAG,OAAO5L,IAAI,KAAK,UAAU,GAAGA,IAAI,GAAG04B,OAAO,CAAC14B,IAAI,CAAC;IAC1DixB,MAAM,GAAG2H,MAAM,IAAI,IAAI,GAAGD,YAAY,GAAG,OAAOC,MAAM,KAAK,UAAU,GAAGA,MAAM,GAAG7H,QAAQ,CAAC6H,MAAM,CAAC;EACrG,OAAO,IAAI,CAAC3H,MAAM,CAAC,YAAW;IAC5B,OAAO,IAAI,CAACiC,YAAY,CAACtnB,MAAM,CAACzU,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,EAAEg6B,MAAM,CAAC95B,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,IAAI,IAAI,CAAC;EAClG,CAAG,CAAC;AACJ;ACbA,SAASs9B,MAAM,GAAG;EAChB,IAAI7oB,MAAM,GAAG,IAAI,CAACspB,UAAU;EAC5B,IAAItpB,MAAM,EAAEA,MAAM,CAACmtB,WAAW,CAAC,IAAI,CAAC;AACtC;AAEe,yBAAQ,GAAG;EACxB,OAAO,IAAI,CAAC3C,IAAI,CAAC3B,MAAM,CAAC;AAC1B;ACPA,SAASuE,sBAAsB,GAAG;EAChC,IAAIC,KAAK,GAAG,IAAI,CAACC,SAAS,CAAC,KAAK,CAAC;IAAEttB,MAAM,GAAG,IAAI,CAACspB,UAAU;EAC3D,OAAOtpB,MAAM,GAAGA,MAAM,CAACwnB,YAAY,CAAC6F,KAAK,EAAE,IAAI,CAACT,WAAW,CAAC,GAAGS,KAAK;AACtE;AAEA,SAASE,mBAAmB,GAAG;EAC7B,IAAIF,KAAK,GAAG,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC;IAAEttB,MAAM,GAAG,IAAI,CAACspB,UAAU;EAC1D,OAAOtpB,MAAM,GAAGA,MAAM,CAACwnB,YAAY,CAAC6F,KAAK,EAAE,IAAI,CAACT,WAAW,CAAC,GAAGS,KAAK;AACtE;AAEe,wBAAQ,CAACG,IAAI,EAAE;EAC5B,OAAO,IAAI,CAACjI,MAAM,CAACiI,IAAI,GAAGD,mBAAmB,GAAGH,sBAAsB,CAAC;AACzE;ACZe,wBAAQ,CAACr9B,KAAK,EAAE;EAC7B,OAAOxE,SAAS,CAACC,MAAM,GACjB,IAAI,CAACiiC,QAAQ,CAAC,UAAU,EAAE19B,KAAK,CAAC,GAChC,IAAI,CAAC61B,IAAI,EAAE,CAACE,QAAQ;AAC5B;ACJA,SAAS4H,eAAe,CAACC,QAAQ,EAAE;EACjC,OAAO,UAASC,KAAK,EAAE;IACrBD,QAAQ,CAAC5/B,IAAI,CAAC,IAAI,EAAE6/B,KAAK,EAAE,IAAI,CAAC9H,QAAQ,CAAC;EAC7C,CAAG;AACH;AAEA,SAAS+H,cAAc,CAACC,SAAS,EAAE;EACjC,OAAOA,SAAS,CAACtiB,IAAI,EAAE,CAACvS,KAAK,CAAC,OAAO,CAAC,CAACxH,GAAG,CAAC,UAAS4c,CAAC,EAAE;IACrD,IAAI/Z,IAAI,GAAG,EAAE;MAAEoH,CAAC,GAAG2S,CAAC,CAAC/Y,OAAO,CAAC,GAAG,CAAC;IACjC,IAAIoG,CAAC,IAAI,CAAC,EAAEpH,IAAI,GAAG+Z,CAAC,CAAC/f,KAAK,CAACoN,CAAC,GAAG,CAAC,CAAC,EAAE2S,CAAC,GAAGA,CAAC,CAAC/f,KAAK,CAAC,CAAC,EAAEoN,CAAC,CAAC;IACpD,OAAO;MAACpJ,IAAI,EAAE+b,CAAC;MAAE/Z,IAAI,EAAEA;IAAI,CAAC;EAChC,CAAG,CAAC;AACJ;AAEA,SAASy5B,QAAQ,CAACC,QAAQ,EAAE;EAC1B,OAAO,YAAW;IAChB,IAAIC,EAAE,GAAG,IAAI,CAACC,IAAI;IAClB,IAAI,CAACD,EAAE,EAAE;IACT,KAAK,IAAI7c,CAAC,GAAG,CAAC,EAAE1V,CAAC,GAAG,CAAC,CAAC,EAAE6P,CAAC,GAAG0iB,EAAE,CAACziC,MAAM,EAAEwgB,CAAC,EAAEoF,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;MACpD,IAAIpF,CAAC,GAAGiiB,EAAE,CAAC7c,CAAC,CAAC,EAAE,CAAC,CAAC4c,QAAQ,CAAC17B,IAAI,IAAI0Z,CAAC,CAAC1Z,IAAI,KAAK07B,QAAQ,CAAC17B,IAAI,KAAK0Z,CAAC,CAAC1X,IAAI,KAAK05B,QAAQ,CAAC15B,IAAI,EAAE;QACvF,IAAI,CAAC65B,mBAAmB,CAACniB,CAAC,CAAC1Z,IAAI,EAAE0Z,CAAC,CAAC2hB,QAAQ,EAAE3hB,CAAC,CAACoiB,OAAO,CAAC;MAC/D,CAAO,MAAM;QACLH,EAAE,CAAC,EAAEvyB,CAAC,CAAC,GAAGsQ,CAAC;MACnB;IACA;IACI,IAAI,EAAEtQ,CAAC,EAAEuyB,EAAE,CAACziC,MAAM,GAAGkQ,CAAC,CAAC,KAClB,OAAO,IAAI,CAACwyB,IAAI;EACzB,CAAG;AACH;AAEA,SAASG,KAAK,CAACL,QAAQ,EAAEj+B,KAAK,EAAEq+B,OAAO,EAAE;EACvC,OAAO,YAAW;IAChB,IAAIH,EAAE,GAAG,IAAI,CAACC,IAAI;MAAEliB,CAAC;MAAE2hB,QAAQ,GAAGD,eAAe,CAAC39B,KAAK,CAAC;IACxD,IAAIk+B,EAAE,EAAE,KAAK,IAAI7c,CAAC,GAAG,CAAC,EAAE7F,CAAC,GAAG0iB,EAAE,CAACziC,MAAM,EAAE4lB,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;MACjD,IAAI,CAACpF,CAAC,GAAGiiB,EAAE,CAAC7c,CAAC,CAAC,EAAE9e,IAAI,KAAK07B,QAAQ,CAAC17B,IAAI,IAAI0Z,CAAC,CAAC1X,IAAI,KAAK05B,QAAQ,CAAC15B,IAAI,EAAE;QAClE,IAAI,CAAC65B,mBAAmB,CAACniB,CAAC,CAAC1Z,IAAI,EAAE0Z,CAAC,CAAC2hB,QAAQ,EAAE3hB,CAAC,CAACoiB,OAAO,CAAC;QACvD,IAAI,CAACE,gBAAgB,CAACtiB,CAAC,CAAC1Z,IAAI,EAAE0Z,CAAC,CAAC2hB,QAAQ,GAAGA,QAAQ,EAAE3hB,CAAC,CAACoiB,OAAO,GAAGA,OAAO,CAAC;QACzEpiB,CAAC,CAACjc,KAAK,GAAGA,KAAK;QACf;MACR;IACA;IACI,IAAI,CAACu+B,gBAAgB,CAACN,QAAQ,CAAC17B,IAAI,EAAEq7B,QAAQ,EAAES,OAAO,CAAC;IACvDpiB,CAAC,GAAG;MAAC1Z,IAAI,EAAE07B,QAAQ,CAAC17B,IAAI;MAAEgC,IAAI,EAAE05B,QAAQ,CAAC15B,IAAI;MAAEvE,KAAK,EAAEA,KAAK;MAAE49B,QAAQ,EAAEA,QAAQ;MAAES,OAAO,EAAEA;IAAO,CAAC;IAClG,IAAI,CAACH,EAAE,EAAE,IAAI,CAACC,IAAI,GAAG,CAACliB,CAAC,CAAC,CAAC,KACpBiiB,EAAE,CAAC/6B,IAAI,CAAC8Y,CAAC,CAAC;EACnB,CAAG;AACH;AAEe,qBAAQ,CAACgiB,QAAQ,EAAEj+B,KAAK,EAAEq+B,OAAO,EAAE;EAChD,IAAIN,SAAS,GAAGD,cAAc,CAACG,QAAQ,GAAG,EAAE,CAAC;IAAEtyB,CAAC;IAAE1P,CAAC,GAAG8hC,SAAS,CAACtiC,MAAM;IAAE6iB,CAAC;EAEzE,IAAI9iB,SAAS,CAACC,MAAM,GAAG,CAAC,EAAE;IACxB,IAAIyiC,EAAE,GAAG,IAAI,CAACrI,IAAI,EAAE,CAACsI,IAAI;IACzB,IAAID,EAAE,EAAE,KAAK,IAAI7c,CAAC,GAAG,CAAC,EAAE7F,CAAC,GAAG0iB,EAAE,CAACziC,MAAM,EAAEwgB,CAAC,EAAEoF,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;MACpD,KAAK1V,CAAC,GAAG,CAAC,EAAEsQ,CAAC,GAAGiiB,EAAE,CAAC7c,CAAC,CAAC,EAAE1V,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;QACjC,IAAI,CAAC2S,CAAC,GAAGyf,SAAS,CAACpyB,CAAC,CAAC,EAAEpJ,IAAI,KAAK0Z,CAAC,CAAC1Z,IAAI,IAAI+b,CAAC,CAAC/Z,IAAI,KAAK0X,CAAC,CAAC1X,IAAI,EAAE;UAC3D,OAAO0X,CAAC,CAACjc,KAAK;QACxB;MACA;IACA;IACI;EACJ;EAEEk+B,EAAE,GAAGl+B,KAAK,GAAGs+B,KAAK,GAAGN,QAAQ;EAC7B,KAAKryB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE,IAAI,CAAC8uB,IAAI,CAACyD,EAAE,CAACH,SAAS,CAACpyB,CAAC,CAAC,EAAE3L,KAAK,EAAEq+B,OAAO,CAAC,CAAC;EACnE,OAAO,IAAI;AACb;AChEA,SAASG,aAAa,CAAC3I,IAAI,EAAEtzB,IAAI,EAAEk8B,MAAM,EAAE;EACzC,IAAIC,MAAM,GAAGhE,WAAW,CAAC7E,IAAI,CAAC;IAC1BgI,KAAK,GAAGa,MAAM,CAACC,WAAW;EAE9B,IAAI,OAAOd,KAAK,KAAK,UAAU,EAAE;IAC/BA,KAAK,GAAG,IAAIA,KAAK,CAACt7B,IAAI,EAAEk8B,MAAM,CAAC;EACnC,CAAG,MAAM;IACLZ,KAAK,GAAGa,MAAM,CAAC/J,QAAQ,CAACiK,WAAW,CAAC,OAAO,CAAC;IAC5C,IAAIH,MAAM,EAAEZ,KAAK,CAACgB,SAAS,CAACt8B,IAAI,EAAEk8B,MAAM,CAACK,OAAO,EAAEL,MAAM,CAACM,UAAU,CAAC,EAAElB,KAAK,CAACmB,MAAM,GAAGP,MAAM,CAACO,MAAM,CAAC,KAC9FnB,KAAK,CAACgB,SAAS,CAACt8B,IAAI,EAAE,KAAK,EAAE,KAAK,CAAC;EAC5C;EAEEszB,IAAI,CAAC2I,aAAa,CAACX,KAAK,CAAC;AAC3B;AAEA,SAASoB,gBAAgB,CAAC18B,IAAI,EAAEk8B,MAAM,EAAE;EACtC,OAAO,YAAW;IAChB,OAAOD,aAAa,CAAC,IAAI,EAAEj8B,IAAI,EAAEk8B,MAAM,CAAC;EAC5C,CAAG;AACH;AAEA,SAASS,gBAAgB,CAAC38B,IAAI,EAAEk8B,MAAM,EAAE;EACtC,OAAO,YAAW;IAChB,OAAOD,aAAa,CAAC,IAAI,EAAEj8B,IAAI,EAAEk8B,MAAM,CAAC/iC,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC,CAAC;EACnE,CAAG;AACH;AAEe,2BAAQ,CAAC+G,IAAI,EAAEk8B,MAAM,EAAE;EACpC,OAAO,IAAI,CAAChE,IAAI,CAAC,CAAC,OAAOgE,MAAM,KAAK,UAAU,GACxCS,gBAAgB,GAChBD,gBAAgB,EAAE18B,IAAI,EAAEk8B,MAAM,CAAC,CAAC;AACxC;ACjCe,4BAAS,GAAG;EACzB,KAAK,IAAIhJ,MAAM,GAAG,IAAI,CAACC,OAAO,EAAErU,CAAC,GAAG,CAAC,EAAE7F,CAAC,GAAGia,MAAM,CAACh6B,MAAM,EAAE4lB,CAAC,GAAG7F,CAAC,EAAE,EAAE6F,CAAC,EAAE;IACpE,KAAK,IAAIyC,KAAK,GAAG2R,MAAM,CAACpU,CAAC,CAAC,EAAE1V,CAAC,GAAG,CAAC,EAAE1P,CAAC,GAAG6nB,KAAK,CAACroB,MAAM,EAAEo6B,IAAI,EAAElqB,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACrE,IAAIkqB,IAAI,GAAG/R,KAAK,CAACnY,CAAC,CAAC,EAAE,MAAMkqB,IAAI;IACrC;EACA;AACA;AC6BO,IAAIsJ,IAAI,GAAG,CAAC,IAAI,CAAC;AAEjB,SAASnJ,SAAS,CAACP,MAAM,EAAEa,OAAO,EAAE;EACzC,IAAI,CAACZ,OAAO,GAAGD,MAAM;EACrB,IAAI,CAACQ,QAAQ,GAAGK,OAAO;AACzB;AAMA,SAAS8I,mBAAmB,GAAG;EAC7B,OAAO,IAAI;AACb;AAEApJ,SAAS,CAACl4B,SAAS,GAAyB;EAC1CuG,WAAW,EAAE2xB,SAAS;EACtBR,MAAM,EAAE6J,gBAAgB;EACxBtI,SAAS,EAAEuI,mBAAmB;EAC9BC,WAAW,EAAEC,qBAAqB;EAClCC,cAAc,EAAEC,wBAAwB;EACxC34B,MAAM,EAAE44B,gBAAgB;EACxBr1B,IAAI,EAAEs1B,cAAc;EACpBjI,KAAK,EAAEkI,eAAe;EACtBjI,IAAI,EAAEkI,cAAc;EACpBp4B,IAAI,EAAEq4B,cAAc;EACpBhH,KAAK,EAAEiH,eAAe;EACtBpH,SAAS,EAAEwG,mBAAmB;EAC9BvN,KAAK,EAAEoO,eAAe;EACtBx4B,IAAI,EAAEy4B,cAAc;EACpBliC,IAAI,EAAEmiC,cAAc;EACpBC,KAAK,EAAEC,eAAe;EACtBxK,IAAI,EAAEyK,cAAc;EACpBv7B,IAAI,EAAEw7B,cAAc;EACpBrK,KAAK,EAAEsK,eAAe;EACtB/F,IAAI,EAAEgG,cAAc;EACpBC,IAAI,EAAEC,cAAc;EACpB/F,KAAK,EAAEgG,eAAe;EACtBlD,QAAQ,EAAEmD,kBAAkB;EAC5BC,OAAO,EAAEC,iBAAiB;EAC1BC,IAAI,EAAEC,cAAc;EACpBC,IAAI,EAAEC,cAAc;EACpBvE,KAAK,EAAEwE,eAAe;EACtBtE,KAAK,EAAEuE,eAAe;EACtBxI,MAAM,EAAEyI,gBAAgB;EACxBC,MAAM,EAAEC,gBAAgB;EACxB1I,MAAM,EAAE2I,gBAAgB;EACxBnE,KAAK,EAAEoE,eAAe;EACtBtK,KAAK,EAAEuK,eAAe;EACtBzD,EAAE,EAAE0D,YAAY;EAChBC,QAAQ,EAAEC,kBAAkB;EAC5B,CAAC1hC,MAAM,CAACC,QAAQ,GAAG0hC;AACrB,CAAC;ACrFc,eAAQ,CAACzM,QAAQ,EAAE;EAChC,OAAO,OAAOA,QAAQ,KAAK,QAAQ,GAC7B,IAAIU,SAAS,CAAC,CAAC,CAACrB,QAAQ,CAACY,aAAa,CAACD,QAAQ,CAAC,CAAC,CAAC,EAAE,CAACX,QAAQ,CAACI,eAAe,CAAC,CAAC,GAC/E,IAAIiB,SAAS,CAAC,CAAC,CAACV,QAAQ,CAAC,CAAC,EAAE6J,IAAI,CAAC;AACzC;ACNe,oBAAQ,CAACtB,KAAK,EAAE;EAC7B,IAAImE,WAAW;EACf,OAAOA,WAAW,GAAGnE,KAAK,CAACmE,WAAW,EAAEnE,KAAK,GAAGmE,WAAW;EAC3D,OAAOnE,KAAK;AACd;ACFe,gBAAQ,CAACA,KAAK,EAAEhI,IAAI,EAAE;EACnCgI,KAAK,GAAGmE,WAAW,CAACnE,KAAK,CAAC;EAC1B,IAAIhI,IAAI,KAAKrzB,SAAS,EAAEqzB,IAAI,GAAGgI,KAAK,CAACoE,aAAa;EAClD,IAAIpM,IAAI,EAAE;IACR,IAAI1B,GAAG,GAAG0B,IAAI,CAACqM,eAAe,IAAIrM,IAAI;IACtC,IAAI1B,GAAG,CAACgO,cAAc,EAAE;MACtB,IAAInT,KAAK,GAAGmF,GAAG,CAACgO,cAAc,EAAE;MAChCnT,KAAK,CAACjwB,CAAC,GAAG8+B,KAAK,CAACuE,OAAO,EAAEpT,KAAK,CAAC3nB,CAAC,GAAGw2B,KAAK,CAACwE,OAAO;MAChDrT,KAAK,GAAGA,KAAK,CAACsT,eAAe,CAACzM,IAAI,CAAC0M,YAAY,EAAE,CAACC,OAAO,EAAE,CAAC;MAC5D,OAAO,CAACxT,KAAK,CAACjwB,CAAC,EAAEiwB,KAAK,CAAC3nB,CAAC,CAAC;IAC/B;IACI,IAAIwuB,IAAI,CAAC4M,qBAAqB,EAAE;MAC9B,IAAIlY,IAAI,GAAGsL,IAAI,CAAC4M,qBAAqB,EAAE;MACvC,OAAO,CAAC5E,KAAK,CAACuE,OAAO,GAAG7X,IAAI,CAACttB,IAAI,GAAG44B,IAAI,CAAC6M,UAAU,EAAE7E,KAAK,CAACwE,OAAO,GAAG9X,IAAI,CAACgI,GAAG,GAAGsD,IAAI,CAAC8M,SAAS,CAAC;IACrG;EACA;EACE,OAAO,CAAC9E,KAAK,CAAC+E,KAAK,EAAE/E,KAAK,CAACgF,KAAK,CAAC;AACnC;ACnBe,iBAAQ,CAAC9jC,CAAC,EAAE;EACzB,OAAOA,CAAC;AACV;ACAA,IAAIwzB,GAAG,GAAG,CAAC;EACP9mB,KAAK,GAAG,CAAC;EACT+mB,MAAM,GAAG,CAAC;EACVv1B,IAAI,GAAG,CAAC;EACRgrB,OAAO,GAAG,IAAI;AAElB,SAAS6a,UAAU,CAAC/jC,CAAC,EAAE;EACrB,OAAO,YAAY,GAAGA,CAAC,GAAG,KAAK;AACjC;AAEA,SAASgkC,UAAU,CAAC17B,CAAC,EAAE;EACrB,OAAO,cAAc,GAAGA,CAAC,GAAG,GAAG;AACjC;AAEA,SAASuE,MAAM,CAACqD,KAAK,EAAE;EACrB,OAAOhJ,CAAC,IAAI,CAACgJ,KAAK,CAAChJ,CAAC,CAAC;AACvB;AAEA,SAASyF,MAAM,CAACuD,KAAK,EAAEjN,MAAM,EAAE;EAC7BA,MAAM,GAAGqH,IAAI,CAAC6C,GAAG,CAAC,CAAC,EAAE+C,KAAK,CAACM,SAAS,EAAE,GAAGvN,MAAM,GAAG,CAAC,CAAC,GAAG,CAAC;EACxD,IAAIiN,KAAK,CAACrB,KAAK,EAAE,EAAE5L,MAAM,GAAGqH,IAAI,CAACuE,KAAK,CAAC5L,MAAM,CAAC;EAC9C,OAAOiE,CAAC,IAAI,CAACgJ,KAAK,CAAChJ,CAAC,CAAC,GAAGjE,MAAM;AAChC;AAEA,SAASghC,QAAQ,GAAG;EAClB,OAAO,CAAC,IAAI,CAACC,MAAM;AACrB;AAEA,SAASxQ,IAAI,CAACyQ,MAAM,EAAEj0B,KAAK,EAAE;EAC3B,IAAIk0B,aAAa,GAAG,EAAE;IAClBpc,UAAU,GAAG,IAAI;IACjBxB,UAAU,GAAG,IAAI;IACjB6d,aAAa,GAAG,CAAC;IACjBC,aAAa,GAAG,CAAC;IACjBC,WAAW,GAAG,CAAC;IACfthC,MAAM,GAAG,OAAO08B,MAAM,KAAK,WAAW,IAAIA,MAAM,CAAC6E,gBAAgB,GAAG,CAAC,GAAG,CAAC,GAAG,GAAG;IAC/E/7B,CAAC,GAAG07B,MAAM,KAAK3Q,GAAG,IAAI2Q,MAAM,KAAKjmC,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC;IAC9C8B,CAAC,GAAGmkC,MAAM,KAAKjmC,IAAI,IAAIimC,MAAM,KAAKz3B,KAAK,GAAG,GAAG,GAAG,GAAG;IACnDgW,SAAS,GAAGyhB,MAAM,KAAK3Q,GAAG,IAAI2Q,MAAM,KAAK1Q,MAAM,GAAGsQ,UAAU,GAAGC,UAAU;EAE7E,SAAStQ,IAAI,CAACvF,OAAO,EAAE;IACrB,IAAI/qB,MAAM,GAAG4kB,UAAU,IAAI,IAAI,GAAI9X,KAAK,CAAC7B,KAAK,GAAG6B,KAAK,CAAC7B,KAAK,CAAC1R,KAAK,CAACuT,KAAK,EAAEk0B,aAAa,CAAC,GAAGl0B,KAAK,CAACN,MAAM,EAAE,GAAIoY,UAAU;MACnHxL,MAAM,GAAGgK,UAAU,IAAI,IAAI,GAAItW,KAAK,CAACsW,UAAU,GAAGtW,KAAK,CAACsW,UAAU,CAAC7pB,KAAK,CAACuT,KAAK,EAAEk0B,aAAa,CAAC,GAAGtiB,QAAQ,GAAI0E,UAAU;MACvHie,OAAO,GAAGn6B,IAAI,CAAC6C,GAAG,CAACk3B,aAAa,EAAE,CAAC,CAAC,GAAGE,WAAW;MAClD90B,KAAK,GAAGS,KAAK,CAACT,KAAK,EAAE;MACrBi1B,MAAM,GAAG,CAACj1B,KAAK,CAAC,CAAC,CAAC,GAAGxM,MAAM;MAC3B0hC,MAAM,GAAG,CAACl1B,KAAK,CAACA,KAAK,CAAC/S,MAAM,GAAG,CAAC,CAAC,GAAGuG,MAAM;MAC1C2hC,QAAQ,GAAG,CAAC10B,KAAK,CAACM,SAAS,GAAG7D,MAAM,GAAGE,MAAM,EAAEqD,KAAK,CAACG,IAAI,EAAE,EAAEpN,MAAM,CAAC;MACpE42B,SAAS,GAAG1L,OAAO,CAAC0L,SAAS,GAAG1L,OAAO,CAAC0L,SAAS,EAAE,GAAG1L,OAAO;MAC7D1E,IAAI,GAAGoQ,SAAS,CAAC7B,SAAS,CAAC,SAAS,CAAC,CAACzsB,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC;MAClDs5B,IAAI,GAAGhL,SAAS,CAAC7B,SAAS,CAAC,OAAO,CAAC,CAACzsB,IAAI,CAACnI,MAAM,EAAE8M,KAAK,CAAC,CAAC4iB,KAAK,EAAE;MAC/DgS,QAAQ,GAAGD,IAAI,CAAChM,IAAI,EAAE;MACtBkM,SAAS,GAAGF,IAAI,CAACjM,KAAK,EAAE,CAACkB,MAAM,CAAC,GAAG,CAAC,CAAC6H,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC;MAC1DpR,IAAI,GAAGsU,IAAI,CAACpO,MAAM,CAAC,MAAM,CAAC;MAC1BwL,IAAI,GAAG4C,IAAI,CAACpO,MAAM,CAAC,MAAM,CAAC;IAE9BhN,IAAI,GAAGA,IAAI,CAACuQ,KAAK,CAACvQ,IAAI,CAACmP,KAAK,EAAE,CAAC4J,MAAM,CAAC,MAAM,EAAE,OAAO,CAAC,CACjDb,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CACvBA,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAAC;IAEpCkD,IAAI,GAAGA,IAAI,CAAC7K,KAAK,CAAC+K,SAAS,CAAC;IAE5BxU,IAAI,GAAGA,IAAI,CAACyJ,KAAK,CAAC+K,SAAS,CAACjL,MAAM,CAAC,MAAM,CAAC,CACrC6H,IAAI,CAAC,QAAQ,EAAE,cAAc,CAAC,CAC9BA,IAAI,CAAC3hC,CAAC,GAAG,GAAG,EAAEyI,CAAC,GAAG47B,aAAa,CAAC,CAAC;IAEtCpC,IAAI,GAAGA,IAAI,CAACjI,KAAK,CAAC+K,SAAS,CAACjL,MAAM,CAAC,MAAM,CAAC,CACrC6H,IAAI,CAAC,MAAM,EAAE,cAAc,CAAC,CAC5BA,IAAI,CAAC3hC,CAAC,EAAEyI,CAAC,GAAGg8B,OAAO,CAAC,CACpB9C,IAAI,CAAC,IAAI,EAAEwC,MAAM,KAAK3Q,GAAG,GAAG,KAAK,GAAG2Q,MAAM,KAAK1Q,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC,CAAC;IAElF,IAAItF,OAAO,KAAK0L,SAAS,EAAE;MACzBpQ,IAAI,GAAGA,IAAI,CAACub,UAAU,CAAC7W,OAAO,CAAC;MAC/B0W,IAAI,GAAGA,IAAI,CAACG,UAAU,CAAC7W,OAAO,CAAC;MAC/BoC,IAAI,GAAGA,IAAI,CAACyU,UAAU,CAAC7W,OAAO,CAAC;MAC/B8T,IAAI,GAAGA,IAAI,CAAC+C,UAAU,CAAC7W,OAAO,CAAC;MAE/B2W,QAAQ,GAAGA,QAAQ,CAACE,UAAU,CAAC7W,OAAO,CAAC,CAClCwT,IAAI,CAAC,SAAS,EAAEzY,OAAO,CAAC,CACxByY,IAAI,CAAC,WAAW,EAAE,UAASz6B,CAAC,EAAE;QAAE,OAAOyH,QAAQ,CAACzH,CAAC,GAAG09B,QAAQ,CAAC19B,CAAC,CAAC,CAAC,GAAGwb,SAAS,CAACxb,CAAC,GAAGjE,MAAM,CAAC,GAAG,IAAI,CAACw4B,YAAY,CAAC,WAAW,CAAC;MAAC,CAAE,CAAC;MAElIsJ,SAAS,CACJpD,IAAI,CAAC,SAAS,EAAEzY,OAAO,CAAC,CACxByY,IAAI,CAAC,WAAW,EAAE,UAASz6B,CAAC,EAAE;QAAE,IAAI/D,CAAC,GAAG,IAAI,CAACq3B,UAAU,CAAC0J,MAAM;QAAE,OAAOxhB,SAAS,CAAC,CAACvf,CAAC,IAAIwL,QAAQ,CAACxL,CAAC,GAAGA,CAAC,CAAC+D,CAAC,CAAC,CAAC,GAAG/D,CAAC,GAAGyhC,QAAQ,CAAC19B,CAAC,CAAC,IAAIjE,MAAM,CAAC;MAAC,CAAE,CAAC;IACrJ;IAEI6hC,QAAQ,CAAC/K,MAAM,EAAE;IAEjBtQ,IAAI,CACCkY,IAAI,CAAC,GAAG,EAAEwC,MAAM,KAAKjmC,IAAI,IAAIimC,MAAM,KAAKz3B,KAAK,GACvC43B,aAAa,GAAG,GAAG,GAAG77B,CAAC,GAAG67B,aAAa,GAAG,GAAG,GAAGI,MAAM,GAAG,GAAG,GAAGzhC,MAAM,GAAG,GAAG,GAAG0hC,MAAM,GAAG,GAAG,GAAGl8B,CAAC,GAAG67B,aAAa,GAAG,GAAG,GAAGrhC,MAAM,GAAG,GAAG,GAAGyhC,MAAM,GAAG,GAAG,GAAGC,MAAM,GAC3JL,aAAa,GAAG,GAAG,GAAGI,MAAM,GAAG,GAAG,GAAGj8B,CAAC,GAAG67B,aAAa,GAAG,GAAG,GAAGrhC,MAAM,GAAG,GAAG,GAAG0hC,MAAM,GAAG,GAAG,GAAGl8B,CAAC,GAAG67B,aAAa,GAAG,GAAG,GAAGI,MAAM,GAAG,GAAG,GAAGzhC,MAAM,GAAG,GAAG,GAAG0hC,MAAO,CAAC;IAExKE,IAAI,CACClD,IAAI,CAAC,SAAS,EAAE,CAAC,CAAC,CAClBA,IAAI,CAAC,WAAW,EAAE,UAASz6B,CAAC,EAAE;MAAE,OAAOwb,SAAS,CAACkiB,QAAQ,CAAC19B,CAAC,CAAC,GAAGjE,MAAM,CAAC;IAAC,CAAE,CAAC;IAE/EstB,IAAI,CACCoR,IAAI,CAAC3hC,CAAC,GAAG,GAAG,EAAEyI,CAAC,GAAG47B,aAAa,CAAC;IAErCpC,IAAI,CACCN,IAAI,CAAC3hC,CAAC,EAAEyI,CAAC,GAAGg8B,OAAO,CAAC,CACpBxC,IAAI,CAACzlB,MAAM,CAAC;IAEjBqd,SAAS,CAAC7xB,MAAM,CAACi8B,QAAQ,CAAC,CACrBtC,IAAI,CAAC,MAAM,EAAE,MAAM,CAAC,CACpBA,IAAI,CAAC,WAAW,EAAE,EAAE,CAAC,CACrBA,IAAI,CAAC,aAAa,EAAE,YAAY,CAAC,CACjCA,IAAI,CAAC,aAAa,EAAEwC,MAAM,KAAKz3B,KAAK,GAAG,OAAO,GAAGy3B,MAAM,KAAKjmC,IAAI,GAAG,KAAK,GAAG,QAAQ,CAAC;IAEzF27B,SAAS,CACJ6B,IAAI,CAAC,YAAW;MAAE,IAAI,CAACwI,MAAM,GAAGU,QAAQ;IAAC,CAAE,CAAC;EACrD;EAEElR,IAAI,CAACxjB,KAAK,GAAG,UAASC,CAAC,EAAE;IACvB,OAAO1T,SAAS,CAACC,MAAM,IAAIwT,KAAK,GAAGC,CAAC,EAAEujB,IAAI,IAAIxjB,KAAK;EACvD,CAAG;EAEDwjB,IAAI,CAACrlB,KAAK,GAAG,YAAW;IACtB,OAAO+1B,aAAa,GAAG1lC,KAAK,CAAC0R,IAAI,CAAC3T,SAAS,CAAC,EAAEi3B,IAAI;EACtD,CAAG;EAEDA,IAAI,CAAC0Q,aAAa,GAAG,UAASj0B,CAAC,EAAE;IAC/B,OAAO1T,SAAS,CAACC,MAAM,IAAI0nC,aAAa,GAAGj0B,CAAC,IAAI,IAAI,GAAG,EAAE,GAAGzR,KAAK,CAAC0R,IAAI,CAACD,CAAC,CAAC,EAAEujB,IAAI,IAAI0Q,aAAa,CAAC5kC,KAAK,EAAE;EAC5G,CAAG;EAEDk0B,IAAI,CAAC1L,UAAU,GAAG,UAAS7X,CAAC,EAAE;IAC5B,OAAO1T,SAAS,CAACC,MAAM,IAAIsrB,UAAU,GAAG7X,CAAC,IAAI,IAAI,GAAG,IAAI,GAAGzR,KAAK,CAAC0R,IAAI,CAACD,CAAC,CAAC,EAAEujB,IAAI,IAAI1L,UAAU,IAAIA,UAAU,CAACxoB,KAAK,EAAE;EACtH,CAAG;EAEDk0B,IAAI,CAAClN,UAAU,GAAG,UAASrW,CAAC,EAAE;IAC5B,OAAO1T,SAAS,CAACC,MAAM,IAAI8pB,UAAU,GAAGrW,CAAC,EAAEujB,IAAI,IAAIlN,UAAU;EACjE,CAAG;EAEDkN,IAAI,CAACuR,QAAQ,GAAG,UAAS90B,CAAC,EAAE;IAC1B,OAAO1T,SAAS,CAACC,MAAM,IAAI2nC,aAAa,GAAGC,aAAa,GAAG,CAACn0B,CAAC,EAAEujB,IAAI,IAAI2Q,aAAa;EACxF,CAAG;EAED3Q,IAAI,CAAC2Q,aAAa,GAAG,UAASl0B,CAAC,EAAE;IAC/B,OAAO1T,SAAS,CAACC,MAAM,IAAI2nC,aAAa,GAAG,CAACl0B,CAAC,EAAEujB,IAAI,IAAI2Q,aAAa;EACxE,CAAG;EAED3Q,IAAI,CAAC4Q,aAAa,GAAG,UAASn0B,CAAC,EAAE;IAC/B,OAAO1T,SAAS,CAACC,MAAM,IAAI4nC,aAAa,GAAG,CAACn0B,CAAC,EAAEujB,IAAI,IAAI4Q,aAAa;EACxE,CAAG;EAED5Q,IAAI,CAAC6Q,WAAW,GAAG,UAASp0B,CAAC,EAAE;IAC7B,OAAO1T,SAAS,CAACC,MAAM,IAAI6nC,WAAW,GAAG,CAACp0B,CAAC,EAAEujB,IAAI,IAAI6Q,WAAW;EACpE,CAAG;EAED7Q,IAAI,CAACzwB,MAAM,GAAG,UAASkN,CAAC,EAAE;IACxB,OAAO1T,SAAS,CAACC,MAAM,IAAIuG,MAAM,GAAG,CAACkN,CAAC,EAAEujB,IAAI,IAAIzwB,MAAM;EAC1D,CAAG;EAED,OAAOywB,IAAI;AACb;AAUO,SAASwR,UAAU,CAACh1B,KAAK,EAAE;EAChC,OAAOwjB,IAAI,CAACD,MAAM,EAAEvjB,KAAK,CAAC;AAC5B;AAEO,SAASi1B,QAAQ,CAACj1B,KAAK,EAAE;EAC9B,OAAOwjB,IAAI,CAACx1B,IAAI,EAAEgS,KAAK,CAAC;AAC1B;AC1KA,eAAe,MAAY;EACzB,MAAMk1B,KAAK,GAAGC,MAAM,CAAC,OAAO,CAAU;EACtC,OAAOD,KAAK;AACd,CAAC;ACGD,gBAAe,CAACpQ,QAA0B,EAAE3xB,KAAK,GAAG;EAAE6xB,OAAO,EAAE,KAAK;EAAE1xB,IAAI,EAAE;AAAM,CAAE,KAAkB;EACpG,MAAM8hC,MAAM,GAAGpR,GAAG,CAAU,EAAE,CAAC;EAC/B,MAAMkR,KAAK,GAAGG,QAAQ,EAAE;EACxB,MAAM;IAAErQ,OAAO;IAAE1xB;EAAI,CAAE,GAAGH,KAAK;EAE/B,SAASmiC,SAAS,CAAC5iC,GAAW,EAAEQ,MAA2B;IACzD,MAAM;MAAEulB,OAAO;MAAEC;IAAS,CAAE,GAAGwc,KAAK,CAACpR,MAAM;IAE3C,IAAIoR,KAAK,CAAC/d,MAAM,CAACyB,SAAS,KAAK,YAAY,EAAE;MAC3C,MAAM2c,GAAG,GAAGriC,MAAM,CACfT,GAAG,CAAE9D,GAAG,IAAI;QACX,OAAO;UACLmB,CAAC,EAAE2oB,OAAO,CAACZ,MAAM,CAAClpB,GAAG,CAAC0M,IAAI,CAAC3I,GAAG,CAAC,CAAC;UAChC0F,CAAC,EAAEsgB,SAAS,CAACb,MAAM,CAAClpB,GAAG,CAAC,CAAC,CAAC,CAAC;UAC3BwE,KAAK,EAAE;YAAED,MAAM,EAAE,CAAC,GAAGvE,GAAG,CAAC;YAAE0M,IAAI,EAAE1M,GAAG,CAAC0M;UAAI;SAC1C;MACH,CAAC,CAAC,CACDvD,MAAM,CAAE7E,CAAC,IAAK,CAAC0F,KAAK,CAAC1F,CAAC,CAACnD,CAAC,CAAC,IAAI,CAAC6I,KAAK,CAAC1F,CAAC,CAACmF,CAAC,CAAC,CAAC;MAE5Co9B,OAAO,CAACz2B,GAAG,CAACw2B,GAAG,CAAC;MAChB,OAAOA,GAAG;IACX,OAAM,IAAIL,KAAK,CAAC/d,MAAM,CAACyB,SAAS,KAAK,UAAU,EAAE;MAChD,OAAO1lB,MAAM,CACVT,GAAG,CAAE9D,GAAG,IAAI;QACX,OAAO;UACLmB,CAAC,EAAE4oB,SAAS,CAACb,MAAM,CAAClpB,GAAG,CAAC,CAAC,CAAC,CAAC;UAC3ByJ,CAAC,EAAEqgB,OAAO,CAACZ,MAAM,CAAClpB,GAAG,CAAC0M,IAAI,CAAC3I,GAAG,CAAC,CAAC;UAChCS,KAAK,EAAE;YAAED,MAAM,EAAE,CAAC,GAAGvE,GAAG,CAAC;YAAE0M,IAAI,EAAE1M,GAAG,CAAC0M;UAAI;SAC1C;MACH,CAAC,CAAC,CACDvD,MAAM,CAAE7E,CAAC,IAAK,CAAC0F,KAAK,CAAC1F,CAAC,CAACnD,CAAC,CAAC,IAAI,CAAC6I,KAAK,CAAC1F,CAAC,CAACmF,CAAC,CAAC,CAAC;IAC7C;IACD,OAAO,EAAE;;EAGX,SAASksB,MAAM;IACb,MAAMjyB,IAAI,GAAG6iC,KAAK,CAACnQ,cAAc,CAAC,CAAC,EAAEzxB,IAAI,CAAC;IAC1C,MAAM,CAACmiC,UAAU,EAAEC,YAAY,CAAC,GAAG5Q,QAAQ;IAC3C,MAAM7B,KAAK,GAAGiS,KAAK,CAAC/Q,cAAc,CAACa,OAAO,GAAG3yB,IAAI,GAAG,CAACyyB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IAClE,MAAMzpB,IAAI,GAAG4nB,KAAK,CAACuE,IAAI,CAAE/wB,CAAC,IAAKA,CAAC,CAAC/D,GAAG,KAAKgjC,YAAY,CAAC;IAEtD,IAAIr6B,IAAI,EAAE;MACR+5B,MAAM,CAACrkC,KAAK,GAAGukC,SAAS,CAACG,UAAU,EAAEp6B,IAAI,CAAC;IAC3C;;EAGHs6B,KAAK,CACHT,KAAK,CAACnR,OAAO,EACb,MAAK;IACHO,MAAM,EAAE;IACRkR,OAAO,CAACz2B,GAAG,CAAC,QAAQ,CAAC;EACvB,CAAC,EACD;IAAE62B,SAAS,EAAE;EAAI,CAAE,CACpB;EAED,OAAO;IACLR;GACD;AACH,CAAC;AC3DD,eAAe,MAAkB;EAC/B,MAAMS,KAAK,GAAGV,MAAM,CAAC,YAAY,EAAE;IACjCp7B,KAAK,EAAE,CAAC,CAAC;IACT26B,QAAQ,EAAE;MAAE5kC,CAAC,EAAE,CAAC;MAAEsI,CAAC,EAAE;IAAC,CAAE;IACxB09B,KAAK,EAAE;EACR,EAAC;EACF,OAAOD,KAAK;AACd,CAAC;ACND,cAAe,CAAC/Q,QAA0B,EAAE3xB,KAAK,GAAG;EAAE4iC,QAAQ,EAAE,CAAC,CAAC;EAAEC,GAAG,EAAE,CAAC;EAAEhR,OAAO,EAAE,KAAK;EAAE1xB,IAAI,EAAE;AAAK,CAAE,KAAgB;EACvH,MAAM2iC,IAAI,GAAGjS,GAAG,CAAc,EAAE,CAAC;EACjC,MAAMkR,KAAK,GAAGG,QAAQ,EAAE;EACxB,MAAM;IAAErQ,OAAO;IAAE1xB,IAAI;IAAE0iC;EAAG,CAAE,GAAG7iC,KAAK;EAEpC,SAAS2wB,MAAM;IACb,MAAM;MAAErL,OAAO;MAAEC;IAAS,CAAE,GAAGwc,KAAK,CAACpR,MAAM;IAC3C,MAAMG,SAAS,GAAGxL,OAAO,CAACnlB,IAAI,KAAK,MAAM,GAAGmlB,OAAO,GAAGC,SAAS;IAC/D,MAAMwd,WAAW,GAAGzd,OAAO,CAACnlB,IAAI,KAAK,MAAM,GAAGolB,SAAS,GAAGD,OAAO;IAEjE,OAAO;MAAEwL,SAAS;MAAEiS;IAAW,CAAE;;EAGnC,SAASC,QAAQ;IACf,IAAInR,OAAO,EAAE;MACX,OAAO,CAAC;IACT;IAED,MAAMoR,SAAS,GAAGlB,KAAK,CAACvQ,SAAS,CAACrxB,IAAW,CAAC;IAC9C,MAAMjE,GAAG,GAAG+mC,SAAS,CAACC,SAAS,CAAEh9B,CAAC,IAAKA,CAAC,CAACyrB,QAAQ,CAACrsB,IAAI,CAAC,GAAG,CAAC,KAAKqsB,QAAQ,CAACrsB,IAAI,CAAC,GAAG,CAAC,CAAC;IAEnF,OAAOpJ,GAAG,GAAG,CAAC,CAAC,GAAGA,GAAG,GAAG,CAAC;;EAG3B,SAASinC,WAAW;IAClB,MAAM;MAAErS;IAAS,CAAE,GAAGH,MAAM,EAAE;IAC9B,MAAMiS,QAAQ,GACZ5iC,KAAK,CAAC4iC,QAAQ,GAAG,CAAC,CAAC,GAAG37B,IAAI,CAACC,GAAG,CAAC4pB,SAAS,CAAC3jB,SAAS,EAAE,GAAG01B,GAAG,EAAE7iC,KAAK,CAAC4iC,QAAQ,CAAC,GAAG9R,SAAS,CAAC3jB,SAAS,EAAE,GAAG01B,GAAG;IAE3G,MAAMI,SAAS,GAAGlB,KAAK,CAACvQ,SAAS,CAACrxB,IAAW,CAAC;IAE9C,OAAO8iC,SAAS,CAAC5pC,MAAM,GAAG,CAAC,IAAI,CAACw4B,OAAO,GAAG+Q,QAAQ,GAAGK,SAAS,CAAC5pC,MAAM,GAAGupC,QAAQ;;EAGlF,SAASQ,YAAY;IACnB,IAAIvR,OAAO,EAAE;MACX,OAAO,CAAC;IACT;IAED,MAAM;MAAEf;IAAS,CAAE,GAAGH,MAAM,EAAE;IAC9B,MAAM7mB,GAAG,GAAGgnB,SAAS,CAAC3jB,SAAS,EAAE,GAAG01B,GAAG;IACvC,MAAMQ,KAAK,GAAGtB,KAAK,CAACvQ,SAAS,CAACrxB,IAAW,CAAC,CAAC9G,MAAM,GAAG8pC,WAAW,EAAE;IACjE,OAAO,CAACr5B,GAAG,GAAGu5B,KAAK,IAAI,CAAC;;EAG1B,SAASC,OAAO,CAAC/jC,GAAW,EAAEQ,MAAiD;IAC7E,MAAM;MAAE+wB,SAAS;MAAEiS;IAAW,CAAE,GAAGpS,MAAM,EAAE;IAC3C,MAAM/pB,KAAK,GAAGo8B,QAAQ,EAAE;IACxB,MAAMO,OAAO,GAAGJ,WAAW,EAAE;IAC7B,MAAMK,IAAI,GAAGJ,YAAY,EAAE;IAE3B,OAAOrjC,MAAM,CAACT,GAAG,CAAE9D,GAAG,IAAI;MACxB,MAAM2sB,IAAI,GAAc;QAAExrB,CAAC,EAAE,CAAC;QAAEsI,CAAC,EAAE,CAAC;QAAEmb,KAAK,EAAE,CAAC;QAAEsF,MAAM,EAAE,CAAC;QAAE1lB,KAAK,EAAE;UAAED,MAAM,EAAE,CAAC,GAAGvE,GAAG,CAAC;UAAE0M,IAAI,EAAE1M,GAAG,CAAC0M;QAAI;MAAE,CAAE;MACxG,MAAMu7B,IAAI,GAAG3S,SAAS,CAACjkB,KAAK,CAACrR,GAAG,CAAC0M,IAAI,CAAC3I,GAAG,CAAC,CAAC;MAC3C,MAAM,CAACmkC,KAAK,EAAEC,KAAK,CAAC,GAAGZ,WAAW,CAACzjC,GAAG,CAAC9D,GAAG,CAAC;MAE3C,IAAIumC,KAAK,CAAC/d,MAAM,CAACyB,SAAS,KAAK,YAAY,EAAE;QAC3C0C,IAAI,CAACljB,CAAC,GAAGgC,IAAI,CAACC,GAAG,CAACw8B,KAAK,EAAEC,KAAK,CAAC;QAC/Bxb,IAAI,CAACzC,MAAM,GAAGze,IAAI,CAACiF,GAAG,CAACw3B,KAAK,GAAGC,KAAK,CAAC;QAErCxb,IAAI,CAACxrB,CAAC,GAAG6mC,IAAI,GAAGC,IAAI,GAAG78B,KAAK,GAAG28B,OAAO,GAAGV,GAAG,GAAG,CAAC;QAChD1a,IAAI,CAAC/H,KAAK,GAAGmjB,OAAO;MACrB,OAAM,IAAIxB,KAAK,CAAC/d,MAAM,CAACyB,SAAS,KAAK,UAAU,EAAE;QAChD0C,IAAI,CAACxrB,CAAC,GAAGsK,IAAI,CAACC,GAAG,CAACw8B,KAAK,EAAEC,KAAK,CAAC;QAC/Bxb,IAAI,CAAC/H,KAAK,GAAGnZ,IAAI,CAACiF,GAAG,CAACw3B,KAAK,GAAGC,KAAK,CAAC;QAEpCxb,IAAI,CAACljB,CAAC,GAAGu+B,IAAI,GAAGC,IAAI,GAAG78B,KAAK,GAAG28B,OAAO,GAAGV,GAAG,GAAG,CAAC;QAChD1a,IAAI,CAACzC,MAAM,GAAG6d,OAAO;MACtB;MACD,OAAOpb,IAAI;IACb,CAAC,CAAC;;;;EAKJ,SAASgJ,MAAM;IACb,MAAMjyB,IAAI,GAAG2yB,OAAO,GAAGkQ,KAAK,CAACnQ,cAAc,CAAC,CAAC,EAAEzxB,IAAI,CAAC,GAAG,CAACwxB,QAAQ,CAAC,CAAC,CAAC,CAAC;IACpE,MAAM,CAAC2Q,UAAU,EAAEC,YAAY,CAAC,GAAG5Q,QAAQ;IAC3C,MAAM7B,KAAK,GAAGiS,KAAK,CAAC/Q,cAAc,CAAC9xB,IAAI,CAAC;IACxC,MAAMgJ,IAAI,GAAG4nB,KAAK,CAACuE,IAAI,CAAE/wB,CAAC,IAAKA,CAAC,CAAC/D,GAAG,KAAKgjC,YAAY,CAAC;IAEtD,IAAIr6B,IAAI,EAAE;MACR46B,IAAI,CAACllC,KAAK,GAAG0lC,OAAO,CAAChB,UAAU,EAAEp6B,IAAI,CAAC;IACvC;;EAGHs6B,KAAK,CAACT,KAAK,CAACnR,OAAO,EAAE,MAAK;IACxBO,MAAM,EAAE;EACV,CAAC,CAAC;EAEF,OAAO;IACL2R;GACD;AACH,CAAC;AC3FD,iBAAe,MAAa;EAC1B,MAAMJ,KAAK,GAAGkB,QAAQ,EAAE;EACxB,MAAM7B,KAAK,GAAGG,QAAQ,EAAE;EACxB,MAAM2B,IAAI,GAAGC,QAAQ,CAAC,MAAMpB,KAAK,CAACC,KAAK,CAAC;EACxC,MAAMpB,QAAQ,GAAG1Q,GAAG,CAAC;IAAEl0B,CAAC,EAAE,CAAC;IAAEsI,CAAC,EAAE;EAAC,CAAE,CAAC;EACpC,MAAM8+B,OAAO,GAAGlT,GAAG,CAAC,EAAE,CAAC;EAEvB2R,KAAK,CAACE,KAAK,EAAE,MAAK;IAChB,MAAM;MAAEpd;IAAO,CAAE,GAAGyc,KAAK,CAACpR,MAAM;IAChC,MAAMzxB,IAAI,GAAG6iC,KAAK,CAACrQ,OAAO,CAAC,CAAC,CAAC;IAC7B,MAAMzxB,IAAI,GAAG8hC,KAAK,CAACtQ,OAAO,CAACvyB,IAAI,CAAa;IAC5C,MAAM,CAACvC,CAAC,CAAC,GAAG2oB,OAAO,CAAChmB,GAAG,CAAC,CAACW,IAAI,CAACyiC,KAAK,CAAC97B,KAAK,CAAC,CAAC,CAAC;IAE5C,IAAIjK,CAAC,EAAE;MACL,IAAIolC,KAAK,CAAC/d,MAAM,CAACyB,SAAS,KAAK,YAAY,EAAE;QAC3C8b,QAAQ,CAAC3jC,KAAK,GAAG;UACfjB,CAAC;UACDsI,CAAC,EAAEy9B,KAAK,CAACnB,QAAQ,CAACt8B;SACnB;MACF,OAAM,IAAI88B,KAAK,CAAC/d,MAAM,CAACyB,SAAS,KAAK,UAAU,EAAE;QAChD8b,QAAQ,CAAC3jC,KAAK,GAAG;UACfjB,CAAC,EAAE+lC,KAAK,CAACnB,QAAQ,CAAC5kC,CAAC;UACnBsI,CAAC,EAAEtI;SACJ;MACF,OAAM;QACL4kC,QAAQ,CAAC3jC,KAAK,GAAG;UACfjB,CAAC,EAAE+lC,KAAK,CAACnB,QAAQ,CAAC5kC,CAAC;UACnBsI,CAAC,EAAEy9B,KAAK,CAACnB,QAAQ,CAACt8B;SACnB;MACF;IACF;;IAGD,MAAMpB,CAAC,GAAGk+B,KAAK,CAAC75B,IAAI,CAACw6B,KAAK,CAAC97B,KAAK,CAAC;IAEjC,IAAI/C,CAAC,EAAE;MACLkgC,OAAO,CAACnmC,KAAK,mCAAQiG,CAAC;QAAE3H,GAAG,EAAEwmC,KAAK,CAAC97B;MAAK,EAAE;IAC3C;EACH,CAAC,CAAC;EAEF,OAAO;IAAE26B,QAAQ;IAAEwC,OAAO;IAAEF;EAAI,CAAE;AACpC,CAAC;AC5CD,gBAAgBG,EAAO,IAAkB;EACvC,MAAM5jB,KAAK,GAAGyQ,GAAG,CAAC,CAAC,CAAC;EACpB,MAAMnL,MAAM,GAAGmL,GAAG,CAAC,CAAC,CAAC;EAErB,IAAIoT,QAAQ,GAAQ,IAAI;EACxB,IAAIC,cAAc,GAAQ,IAAI;EAE9B,SAASC,QAAQ,CAAC/b,CAAS,EAAE/N,CAAS;IACpC+F,KAAK,CAACxiB,KAAK,GAAGwqB,CAAC;IACf1C,MAAM,CAAC9nB,KAAK,GAAGyc,CAAC;IAEhB,IAAI6pB,cAAc,EAAE;MAClBA,cAAc,EAAE;IACjB;;EAGH,SAASE,QAAQ,CAAC5M,QAAoB;IACpC0M,cAAc,GAAG1M,QAAQ;;EAG3B6M,SAAS,CAAC,MAAK;IACbJ,QAAQ,GAAG,IAAK3H,MAAc,CAACgI,cAAc,CAAE1hC,OAAY,IAAI;MAC7D,MAAMwlB,CAAC,GAAGxlB,OAAO,CAAC,CAAC,CAAC,CAAC2hC,WAAW,CAACnkB,KAAK;MACtC,MAAM/F,CAAC,GAAGzX,OAAO,CAAC,CAAC,CAAC,CAAC2hC,WAAW,CAAC7e,MAAM;MAEvCye,QAAQ,CAAC/b,CAAC,EAAE/N,CAAC,CAAC;IAChB,CAAC,CAAC;IAEF4pB,QAAQ,CAACO,OAAO,CAACR,EAAE,CAACpmC,KAAK,CAAC;EAC5B,CAAC,CAAC;EAEF6mC,WAAW,CAAC,MAAK;IACfR,QAAQ,CAACS,UAAU,EAAE;EACvB,CAAC,CAAC;EAEF,OAAO;IAAEtkB,KAAK;IAAEsF,MAAM;IAAE0e;EAAQ,CAAE;AACpC,CAAC;AC3BD,eAAeO,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,MAAM;EACZnC,KAAK,EAAE;IACLuhC,QAAQ,EAAE;MACRphC,IAAI,EAAEiB,MAAqC;MAC3CwjC,OAAO,EAAE;IACV;IACDC,MAAM,EAAE;MACN1kC,IAAI,EAAE2kC,OAAO;MACbF,OAAO,EAAE;IACV;IACDG,SAAS,EAAE;MACT5kC,IAAI,EAAE2kC,OAAO;MACbF,OAAO,EAAE;IACX;EACD;EACDI,KAAK,CAAChlC,KAAK;IACT,MAAMgkC,EAAG,GAAEnT,GAAG,EAAc;IAC5B,MAAMkR,KAAI,GAAIG,QAAQ,EAAC;IAEvB,MAAM7R,OAAOyT,QAAQ,CAAC,MAAM;MAC1B,OAAO9jC,KAAK,CAACuhC,QAAS,KAAI,QAAO,GAAIM,aAAaC,QAAO;IAC3D,CAAC;IAED,MAAMtc,SAASqL,GAAG,CAASkR,KAAK,CAACvc,MAAM;IAEvC,MAAMyK,aAAY,GAAI;MAAEjlB,KAAK,EAAE;IAAE;IAEjC,SAASi6B,QAAQ;MACf,IAAIlD,KAAK,CAAC75B,IAAI,CAAC7O,MAAK,GAAI,CAAC,EAAE;QACzB,MAAM;UAAEisB,OAAO;UAAEC;QAAU,IAAIwc,KAAK,CAACpR,MAAK;QAC1C,MAAMuU,OAAQ,GAAEllC,KAAK,CAAC+kC,SAAQ,GAAIzf,OAAQ,GAAEC,SAAQ;QACpD,MAAMvB,MAAO,GAAEvoB,MAAM,CAAC6c,MAAM,CAC1B,EAAE,EACFtY,KAAK,CAAC+kC,YAAYzf,OAAO,CAACtB,SAASuB,SAAS,CAACvB,MAAM,EACnDiM,aAAY,CACd;QAEA,MAAMpE,EAAE,GAAcwE,IAAI,CAACzyB,KAAK,CAACsnC,OAAO,CAACr4B,KAAK;QAE9C,IAAImX,MAAM,CAAC7K,MAAM,EAAE;UACjB0S,EAAE,CAAC1I,UAAU,CAACa,MAAM,CAAC7K,MAAM;QAC7B;QAEA,IAAI6K,MAAM,CAAChZ,UAAU5K,SAAS,EAAE;UAC9ByrB,EAAE,CAAC7gB,KAAK,CAACgZ,MAAM,CAAChZ,KAAK;QACvB;QAEA,IAAIgZ,MAAM,CAACW,UAAS,KAAMvkB,SAAS,EAAE;UACnCyrB,EAAE,CAAClH,UAAU,CAACX,MAAM,CAACW,UAAU;QACjC;QAEA,IAAIX,MAAM,CAACmhB,SAAS,EAAE;UACpBnhB,MAAM,CAACmhB,SAAS,CAACtZ,EAAE;QACrB;QAEA,MAAMuW,GAAE,GAAIhP,MAAM,CAAC4Q,EAAE,CAACpmC,KAAM,CAAC,CAAChC,IAAI,CAACiwB,EAAE;QAErC,IAAI7rB,KAAK,CAACuhC,QAAS,KAAI,QAAS,IAAGvhC,KAAK,CAAC6kC,MAAM,EAAE;UAC/CzC,GAAG,CAACzN,SAAS,CAAC,MAAM,EACjB2J,IAAI,CAAC,GAAG,EAAE,CAAC,EACXA,IAAI,CAAC,GAAG,EAAE,CAAC,EACXA,IAAI,CAAC,IAAI,EAAE,OAAO,EAClBA,IAAI,CAAC,WAAW,EAAE,YAAY,EAC9B9F,KAAK,CAAC,aAAa,EAAE,OAAO;QACjC;QAEA,OAAO3M,EAAC;MACV;MAEA,OAAO,IAAG;;IAGZ2W,KAAK,CACH,MAAMxiC,KAAK,CAAC+kC,SAAS,EACrB,MAAM;MACJE,QAAQ,EAAC;IACX,EACF;IAEAzC,KAAK,CAACT,KAAK,CAACnR,OAAO,EAAE,MAAM;MACzBpL,MAAM,CAAC5nB,KAAI,GAAImkC,KAAK,CAACvc,MAAK;MAC1Byf,QAAQ,EAAC;IACX,CAAC;IAED,OAAO;MAAEjB,EAAE;MAAExe;IAAO;;AAEvB;;;;SCvGU4f,2CAATC,kBAAiH;;IAAhFC,KAAK,iBAAgB;IAAEzU,GAAG,EAAC;IAAMxR,SAAS,kBAAkB+lB,IAAM,QAAC1f,MAAM;yDAC1G2f,kBAAqF;;IAA1EC,KAAK,iBAAgB;IAAEzU,GAAG,EAAC,IAAG;IAAGxR,SAAS,eAAe+lB,IAAM,QAACzoC,CAAC;;;;;ACiD9E,eAAegoC,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,OAAO;EACbojC,UAAU,EAAE;IAAAC,MAAEA;EAAAA,CAAM;EACpBxlC,KAAK,EAAE;IACLkI,IAAI,EAAE;MACJ/H,IAAI,EAAE9E,KAAqB;MAC3BupC,OAAO,EAAE,MAAM;IAChB;IACD1U,MAAM,EAAE;MACN/vB,IAAI,EAAE1E,MAAsB;MAC5BmpC,OAAO,EAAE,OAAO;QACdzU,GAAG,EAAE,CAAC;QACN9mB,KAAK,EAAE,CAAC;QACR+mB,MAAM,EAAE,CAAC;QACTv1B,IAAI,EAAE;OACP,CAAC;MACF4qC,QAAQ,EAAE;IACX;IACD9iC,IAAI,EAAE;MACJxC,IAAI,EAAE1E,MAAoB;MAC1BmpC,OAAO,EAAE,OAAO;QAAExkB,KAAK,EAAE,GAAG;QAAEsF,MAAM,EAAE;MAAE,CAAG,CAAC;MAC5C+f,QAAQ,EAAE;IACX;IACDhgB,SAAS,EAAE;MACTtlB,IAAI,EAAEiB,MAAyB;MAC/BwjC,OAAO,EAAE,YAAY;MACrBa,QAAQ,EAAE;IACX;IACDpV,IAAI,EAAE;MACJlwB,IAAI,EAAE1E,MAAyB;MAC/BgqC,QAAQ,EAAE;IACX;IACDzhB,MAAM,EAAE;MACN7jB,IAAI,EAAE1E,MAAoC;MAC1CmpC,OAAO,EAAE,OAAO,EAAE;IACpB;EACD;EACDI,KAAK,CAAChlC,KAAK;IACT,MAAM0lC,OAAQ,GAAE7U,GAAG,CAAC,IAAI;IACxB,MAAM8U,QAAO,GAAI9U,GAAG,EAAuB;IAC3C,MAAM+U,UAAW,GAAE/U,GAAG,EAAuB;IAC7C,MAAMP,SAAQ,GAAIuV,QAAQ,CAA2B;MAAElpC,CAAC,EAAE,EAAE;MAAEsI,CAAC,EAAE;IAAC,CAAG;IAErE,MAAM88B,KAAI,GAAI,IAAIxR,KAAK,CAACvwB,KAAK,CAACkI,IAAI,EAAElI,KAAK,CAACgkB,MAAM;IAChD,MAAM8hB,UAAUhC,QAAQ,CAAC,MAAM9jC,KAAK,CAACqwB,QAAQrwB,KAAK,CAACqwB,IAAI,CAAC/K,OAAM,IAAKtlB,KAAK,CAACqwB,IAAI,CAAC/K,OAAO,CAACuf,MAAM;IAC5F,MAAMkB,KAAI,GAAIjC,QAAQ,CAAC,MAAM;MAC3B,OAAO9jC,KAAK,CAACqwB,IAAG,IAAKrwB,KAAK,CAACqwB,IAAI,CAAC/K,OAAQ,IAAGtlB,KAAK,CAACqwB,IAAI,CAAC/K,OAAO,CAACyL,IAAG;IACnE,CAAC;IAED,MAAMiV,KAAI,GAAIlC,QAAQ,CAAC,MAAM;MAC3B,OAAO9jC,KAAK,CAACqwB,IAAK,IAAGrwB,KAAK,CAACqwB,IAAI,CAAC9K,SAAQ,IAAKvlB,KAAK,CAACqwB,IAAI,CAAC9K,SAAS,CAACwL,IAAG;IACvE,CAAC;IAED,MAAM2R,KAAI,GAAImD,QAAQ,CAAC;MACrBj/B,KAAK,EAAE,CAAC,CAAC;MACT26B,QAAQ,EAAE;QAAE5kC,CAAC,EAAE,CAAC;QAAEsI,CAAC,EAAE;MAAA,CAAG;MACxB09B,KAAK,EAAE;IACR;IAEDsD,OAAO,CAAC,OAAO,EAAElE,KAAK;IACtBkE,OAAO,CAAC,YAAY,EAAEvD,KAAK;;IAG3BF,KAAK,CACH,MAAMxiC,KAAK,CAACkI,IAAI,EAChB,MAAM;MACJ,IAAI65B,KAAK,EAAEA,KAAK,CAAC7Q,UAAU,CAAClxB,KAAK,CAACkI,IAAI;IACxC,CAAC,EACD;MAAEu6B,SAAS,EAAE;IAAK,EACpB;;IAGAD,KAAK,CACH,MAAMxiC,KAAK,CAACgkB,MAAM,EAClB,MAAM;MACJ,IAAI+d,KAAK,EAAEA,KAAK,CAAC3d,YAAY,CAACpkB,KAAK,CAACgkB,MAAM;IAC5C,EACF;IAEAwe,KAAK,CACH,MAAM,mBAAMlS,SAAU,CAAG,OAAK,CAAC7K,SAAS,EAAEzlB,KAAK,CAAC2C,IAAI,EAAE3C,KAAK,CAACkwB,MAAM,EAAElwB,KAAK,CAACqwB,IAAI,CAAC,EAC/E,MAAM;MACJ,IAAI0R,KAAK,EAAE;QACTA,KAAK,CAAC3d,YAAY,CAAC;UACjBkM,SAAS,oBAAOA,SAAQ,CAAG;UAC3B7K,SAAS,EAAEzlB,KAAK,CAACylB,SAAS;UAC1B9iB,IAAI,EAAE3C,KAAK,CAAC2C,IAAI;UAChButB,MAAM,EAAElwB,KAAK,CAACkwB,MAAM;UACpBG,IAAI,EAAErwB,KAAK,CAACqwB;QACb;MACH;IACF,CAAC,EACD;MAAEoS,SAAS,EAAE;IAAK,EACpB;IAEA,MAAMyD,cAAe,GAAE,IAAI5B,cAAc,CAAC1hC,OAAQ,IAAG;MACnD,KAAK,MAAMujC,KAAM,IAAGvjC,OAAO,EAAE;QAC3B,IAAIgjC,UAAU,CAAChoC,KAAM,IAAGuoC,KAAK,CAACpgC,MAAK,KAAM6/B,UAAU,CAAChoC,KAAK,CAACwoC,GAAG,EAAE;UAC7D9V,SAAS,CAACrrB,CAAE,GAAEkhC,KAAK,CAAC5B,WAAW,CAAC7e,MAAK;QACrC,OAAK,IAAIigB,QAAQ,CAAC/nC,KAAM,IAAGuoC,KAAK,CAACpgC,MAAK,KAAM4/B,QAAQ,CAAC/nC,KAAK,CAACwoC,GAAG,EAAE;UAChE9V,SAAS,CAAC3zB,CAAE,GAAEwpC,KAAK,CAAC5B,WAAW,CAACnkB,KAAI;QACtC;MACF;IACF,CAAC;IAEDikB,SAAS,CAAC,MAAM;MACd,IAAIuB,UAAU,CAAChoC,KAAK,EAAE;QACpBsoC,cAAc,CAAC1B,OAAO,CAACoB,UAAU,CAAChoC,KAAK,CAACwoC,GAAG;MAC7C;MACA,IAAIT,QAAQ,CAAC/nC,KAAK,EAAE;QAClBsoC,cAAc,CAAC1B,OAAO,CAACmB,QAAQ,CAAC/nC,KAAK,CAACwoC,GAAG;MAC3C;IACF,CAAC;IAED3B,WAAW,CAAC,MAAM;MAChByB,cAAc,CAACxB,UAAU,EAAC;IAC5B,CAAC;IAED,SAAS2B,UAAU;MACjB,IAAIrmC,KAAK,CAACgkB,MAAM,CAACsiB,YAAW,KAAM,KAAK,EAAE;QACvC;MACF;MACA5D,KAAK,CAAC97B,KAAM,GAAE,CAAC;MACf87B,KAAK,CAACC,KAAM,GAAE,KAAI;;IAGpB,SAAS4D,WAAW,CAACvjB,CAAa;MAChC,IAAIhjB,KAAK,CAACgkB,MAAM,CAACsiB,YAAW,KAAM,KAAK,EAAE;QACvC;MACF;MACA5D,KAAK,CAACC,KAAI,GAAI,IAAG;MACjBD,KAAK,CAACnB,QAAO,GAAI;QAAE5kC,CAAC,EAAE6pC,OAAO,CAACxjB,CAAC,CAAC,CAAC,CAAC,CAAC;QAAE/d,CAAC,EAAEuhC,OAAO,CAACxjB,CAAC,CAAC,CAAC,CAAC;MAAE;MAEtD,MAAM;QAAEsC;MAAM,IAAMyc,KAAK,CAACpR,MAAK;MAC/B,MAAMzxB,IAAK,GAAE6iC,KAAK,CAACrQ,OAAO,CAAC,CAAC;MAC5B,MAAMzxB,IAAG,GAAI8hC,KAAK,CAACtQ,OAAO,CAACvyB,IAAI,CAAY;MAE3C,IAAI6iC,KAAK,CAAC/d,MAAM,CAACyB,SAAQ,KAAM,YAAY,EAAE;QAC3C,IAAIH,OAAO,CAACnlB,IAAG,KAAM,MAAM,EAAE;UAC3B,MAAM8M,IAAK,GAAEqY,OAAO,CAACnY,SAAS,EAAC;UAC/B,MAAMnE,KAAM,GAAE05B,KAAK,CAACnB,QAAQ,CAAC5kC,CAAE,GAAEolC,KAAK,CAACvc,MAAM,CAAC7oB;UAC9C+lC,KAAK,CAAC97B,QAAQK,IAAI,CAACuE,KAAK,CAAC,CAACxC,KAAM,GAAEiE,OAAO,CAAC,IAAIA,IAAI,IAAI;QACtD,OAAK;UACLy1B,KAAK,CAAC97B,KAAM,GAAE+C,YAAY,CACxB1J,IAAI,EACJqlB,OAAO,CAACzY,KAAK,CAAC4S,MAAM,CAACijB,KAAK,CAACnB,QAAQ,CAAC5kC,CAAC,EACvC;QACF;MACF,OAAO,IAAIolC,KAAK,CAAC/d,MAAM,CAACyB,SAAQ,KAAM,UAAU,EAAE;QAChD,IAAIH,OAAO,CAACnlB,IAAG,KAAM,MAAM,EAAE;UAC3B,MAAM8M,IAAK,GAAEqY,OAAO,CAACnY,SAAS,EAAC;UAC/B,MAAMnE,KAAM,GAAE05B,KAAK,CAACnB,QAAQ,CAACt8B,CAAE,GAAE88B,KAAK,CAACvc,MAAM,CAACvgB;UAC9Cy9B,KAAK,CAAC97B,QAAQK,IAAI,CAACuE,KAAK,CAAC,CAACxC,KAAM,GAAEiE,OAAO,CAAC,IAAIA,IAAI,IAAI;QACtD,OAAK;UACLy1B,KAAK,CAAC97B,KAAM,GAAE+C,YAAY,CACxB1J,IAAI,EACJqlB,OAAO,CAACzY,KAAK,CAAC4S,MAAM,CAACijB,KAAK,CAACnB,QAAQ,CAACt8B,CAAC,EACvC;QACF;MACF;;;;;;;;IAUF,OAAO;MAAE2gC,UAAU;MAAED,QAAQ;MAAED,OAAO;MAAEK,KAAK;MAAEC,KAAK;MAAEF,OAAO;MAAES,WAAW;MAAEF;IAAW;;AAE1F;;EC7NMf,KAAK,EAAC,OAAM;EAAEzU,GAAG,EAAC;;;AAQhB;EAAAyU,KAAK,EAAC;AAAQ;AAGd;EAAAA,KAAK,EAAC;AAAM;AAgBZ;EAAAA,KAAK,EAAC;AAAS;;;EA3BtB,uCA8BK,OA9BLmB,YA8BK,iBA7BHpB,kBAyBK;IAxBFjlB,KAAK,EAAEglB,IAAI,MAAChlB,KAAK;IACjBsF,MAAM,EAAE0f,IAAI,MAAC1f,MAAM;IACnBghB,OAAO,SAAStB,IAAI,MAAChlB,KAAS,aAAI,CAACsF,MAAM;IACzCihB,aAAW,yCAAEvB,IAAW;IACxBwB,cAAY,yCAAExB,IAAU;MAEzByB,mBAEG,KAFHC,YAEG,GADDC,UAAqB,2BAEvBF,mBAcG,KAdHG,YAcG,IAZQ5B,IAAK,uBADd6B,WAMC;;IAJC1F,QAAQ,EAAC,QAAO;IAChB1Q,GAAG,EAAC,YAAW;IACdgU,MAAM,EAAEO,IAAO;IACfL,SAAS,EAAEK,IAAU;yFAGfA,IAAK,uBADd6B,WAKC;;IAHC1F,QAAQ,EAAC,MAAK;IACd1Q,GAAG,EAAC,UAAS;IACZkU,SAAS,EAAEK,IAAQ;iIAI1ByB,mBAEK,OAFLK,YAEK,GADHH,UAAsB;;;AC7B5B,SAASI,WAAW,CAACC,GAAG,EAAEvW,GAAG,EAAE;EAC7B,IAAKA,GAAG,KAAK,KAAK,CAAC,EAAGA,GAAG,GAAG,EAAE;EAC9B,IAAIwW,QAAQ,GAAGxW,GAAG,CAACwW,QAAQ;EAE3B,IAAI,CAACD,GAAG,IAAI,OAAO7U,QAAQ,KAAK,WAAW,EAAE;IAAE;EAAO;EAEtD,IAAI+U,IAAI,GAAG/U,QAAQ,CAAC+U,IAAI,IAAI/U,QAAQ,CAACgV,oBAAoB,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;EACpE,IAAI/O,KAAK,GAAGjG,QAAQ,CAACK,aAAa,CAAC,OAAO,CAAC;EAC3C4F,KAAK,CAACr4B,IAAI,GAAG,UAAU;EAEvB,IAAIknC,QAAQ,KAAK,KAAK,EAAE;IACtB,IAAIC,IAAI,CAAC1M,UAAU,EAAE;MACnB0M,IAAI,CAACjS,YAAY,CAACmD,KAAK,EAAE8O,IAAI,CAAC1M,UAAU,CAAC;IAC/C,CAAK,MAAM;MACL0M,IAAI,CAACnS,WAAW,CAACqD,KAAK,CAAC;IAC7B;EACA,CAAG,MAAM;IACL8O,IAAI,CAACnS,WAAW,CAACqD,KAAK,CAAC;EAC3B;EAEE,IAAIA,KAAK,CAACgP,UAAU,EAAE;IACpBhP,KAAK,CAACgP,UAAU,CAACC,OAAO,GAAGL,GAAG;EAClC,CAAG,MAAM;IACL5O,KAAK,CAACrD,WAAW,CAAC5C,QAAQ,CAACmV,cAAc,CAACN,GAAG,CAAC,CAAC;EACnD;AACA;;;;;ACdA,eAAezC,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,OAAO;EACbnC,KAAK,EAAE;IACLG,IAAI,EAAE;MACJA,IAAI,EAAEiB,MAAyB;MAC/BwjC,OAAO,EAAE;IACV;IACDjT,QAAQ,EAAE;MACRxxB,IAAI,EAAE1E,MAAgC;MACtCgqC,QAAQ,EAAE;IACZ;EACD;EACDT,KAAK,CAAChlC,KAAK;IACT,MAAM+hC,KAAI,GAAIG,QAAQ,EAAC;IACvB,MAAM3Q,EAAG,GAAE,IAAI5tB,IAAI,EAAE,CAACgkC,OAAO,EAAE,CAAChsC,QAAQ,EAAC;IACzC,MAAMisC,UAAW,GAAE5F,MAAM,CAAC,YAAY,EAAE,EAAE;IAE1CqC,SAAS,CAAC,MAAM;MACdtC,KAAK,CAAC3Q,QAAQ,CAAC;QAAEG,EAAE;QAAEpxB,IAAI,EAAEH,KAAK,CAACG,IAAI;QAAEwxB,QAAQ,EAAE3xB,KAAK,CAAC2xB,QAAQ;QAAE3xB,KAAK,EAAE4nC;MAAA,CAAY;IACtF,CAAC;IAEDnD,WAAW,CAAC,MAAM;MAChB1C,KAAK,CAACzQ,WAAW,CAACC,EAAE;IACtB,CAAC;IACD,OAAO,EAAC;;AAEX;;sBCpCC8T,kBAEG;IAFCC,KAAK,0BAAWF,IAAI;MACtB2B,UAAO;;;;;ACkBX,eAAepC,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,eAAe;EACrBojC,UAAU,EAAE;IAAAsC,OAAEA;EAAAA,CAAO;EACrB7nC,KAAK,EAAE;IACL8nC,SAAS,EAAE;MACT3nC,IAAI,EAAE1E,MAAM;MACZgqC,QAAQ,EAAE;IACX;IACD9T,QAAQ,EAAE;MACRxxB,IAAI,EAAE1E,MAAgC;MACtCgqC,QAAQ,EAAE;IACX;IACDtlC,IAAI,EAAE;MACJA,IAAI,EAAEiB,MAA0D;MAChEwjC,OAAO,EAAE,MAAM;IAChB;IACD/B,GAAG,EAAE;MACH1iC,IAAI,EAAEX,MAAM;MACZolC,OAAO,EAAE;IACX;EACD;EACDI,KAAK,CAAChlC,KAAK;IACT,MAAM+hC,KAAI,GAAIG,QAAQ,EAAC;IACvB,MAAM;MAAErQ;IAAA,CAAU,GAAEmQ,MAAM,CAAC,YAAY,EAAE;MAAEnQ,OAAO,EAAE;IAAI,CAAG;IAC3D,MAAM;MAAEoQ;IAAA,CAAS,GAAE8F,SAAS,CAAC/nC,KAAK,CAAC2xB,QAAQ,EAAE;MAC3CE,OAAO,EAAE,KAAK;MACd1xB,IAAI,EAAE;IACP;IACD,MAAM;MAAE2iC;IAAG,CAAI,GAAEkF,OAAO,CAAChoC,KAAK,CAAC2xB,QAAQ,EAAE;MACvCE,OAAO;MACP1xB,IAAI,EAAE,MAAM;MACZ0iC,GAAG,EAAE7iC,KAAK,CAAC6iC,GAAG;MACdD,QAAQ,EAAE,CAAC;IACZ;IACD,MAAM/+B,IAAIgtB,GAAG,CAAgB,EAAE;IAE/B,MAAMoX,QAAO,GAAK9nC,IAAS,IAAK;;MAE9B,MAAMb,GAAG,GAAQ;QACf4oC,MAAM,EAAEnb,WAAW;QACnBob,OAAO,EAAEC,YAAY;QACrB3qC,IAAI,EAAE4qC,SAAS;QACfC,QAAQ,EACNvG,KAAK,CAAC/d,MAAM,CAACyB,SAAQ,KAAM,YAAW,GAClC8iB,SAAa,GACbC;OACR;MAEA,OAAOlpC,GAAG,CAACa,IAAI;IACjB;IAEA,MAAMsoC,SAAQ,GAAI,MAAM;MACtBpG,OAAO,CAACz2B,GAAG,CAACq2B,MAAM,CAACrkC,KAAK;MACxB,MAAM;QAAE2nB;MAAA,CAAY,GAAEwc,KAAK,CAACpR,MAAK;MACjC,IAAIkB,OAAO,EAAE;QACX,OAAOxE,IAAI,EAAM,CACdP,KAAK,CAACmb,QAAQ,CAACjoC,KAAK,CAACG,IAAI,CAAC,EAC1BwjB,EAAE,CAAE7jB,CAAC,IAAKA,CAAC,CAACnD,IAAImD,CAAC,CAACsgB,KAAI,GAAI,CAAC,EAC3B0G,EAAE,CAAEhnB,CAAC,IAAKA,CAAC,CAACmF,CAAC,EACb2e,EAAE,CAAE9jB,CAAC,IAAKA,CAAC,CAACnD,IAAImD,CAAC,CAACsgB,KAAI,GAAI,CAAC,EAC3BqG,EAAE,CAAE3mB,CAAC,IAAKA,CAAC,CAACmF,CAAE,GAAEnF,CAAC,CAAC4lB,MAAM;MAC7B;MAEA,IAAIqc,KAAK,CAAC/d,MAAM,CAACyB,SAAU,KAAI,UAAU,EAAE;QACzC,OAAO4H,IAAI,EAAM,CACdP,KAAK,CAACmb,QAAQ,CAACjoC,KAAK,CAACG,IAAI,CAAC,EAC1B2mB,EAAE,CAAEhnB,CAAC,IAAKA,CAAC,CAACmF,CAAC,EACbwhB,EAAE,CAAE3mB,CAAC,IAAKA,CAAC,CAACmF,CAAC,EACb0e,EAAE,CAAE7jB,CAAC,IAAKA,CAAC,CAACnD,CAAC,EACbinB,EAAE,CAAC,MAAM2B,SAAS,CAAC1Y,KAAK,CAAC,CAAC,CAAC;MAChC;MAEA,OAAOwgB,IAAI,EAAM,CACdP,KAAK,CAACmb,QAAQ,CAACjoC,KAAK,CAACG,IAAI,CAAC,EAC1BwjB,EAAE,CAAE7jB,CAAC,IAAKA,CAAC,CAACnD,CAAC,EACbinB,EAAE,CAAE9jB,CAAC,IAAKA,CAAC,CAACnD,CAAC,EACbmqB,EAAE,CAAEhnB,CAAC,IAAKA,CAAC,CAACmF,CAAC,EACbwhB,EAAE,CAAC,MAAMlB,SAAS,CAAC1Y,KAAK,CAAC,CAAC,CAAC;IAChC;IAEA,MAAM67B,QAAO,GAAI5E,QAAQ,CAAC,MAAM;MAC9B,OAAO,MAAMroC;QACXklB,IAAI,EAAE,MAAM;QACZgoB,WAAW,EAAE,IAAI;QACjBC,MAAM,EAAE;MAAM,GACX5oC,KAAK,CAAC8nC,SAAQ,CAClB;IACH,CAAC;IAED,MAAMe,cAAe3gC,IAAS,IAAKD,OAAO,CAACK,QAAQ,EAAEJ,IAAI;IAEzDs6B,KAAK,CAACP,MAAM,EAAE,MAAM;MAClBp+B,CAAC,CAACjG,KAAI,GAAIi0B,OAAM,GAAI4W,SAAS,EAAE,CAAC3F,IAAI,CAACllC,KAAK,CAAE,GAAE6qC,SAAS,EAAE,CAACxG,MAAM,CAACrkC,KAAK;IACxE,CAAC;IAED,OAAO;MAAEiG,CAAC;MAAE6kC,QAAQ;MAAEG;IAAY;;AAErC;;;;sBCpHC5B,WAEO;IAFA9mC,IAAI,EAAC,MAAO;IAACwxB,QAAQ,EAAEyT,IAAQ;;qBACpC,MAA+C,CAA/CyB,kBAA+C,SAA/CiC,WAAc1D,IAAiC,YAAtB,CAACA,IAAQ;MAAMvhC,CAAC,EAAEuhC,IAAC;IAAA;;;;;;AC0BhD,eAAeT,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,eAAe;EACrBojC,UAAU,EAAE;IAAAsC,OAAEA;EAAAA,CAAO;EACrB7nC,KAAK,EAAE;IACL+oC,SAAS,EAAE;MACT5oC,IAAI,EAAE1E,MAAM;MACZgqC,QAAQ,EAAE;IACX;IACDuD,QAAQ,EAAE;MACR7oC,IAAI,EAAE1E,MAAM;MACZgqC,QAAQ,EAAE;IACX;IACDwD,OAAO,EAAE;MACP9oC,IAAI,EAAE2kC,OAAO;MACbF,OAAO,EAAE;IACV;IACDjT,QAAQ,EAAE;MACRxxB,IAAI,EAAE1E,MAAgC;MACtCgqC,QAAQ,EAAE;IACX;IACDtlC,IAAI,EAAE;MACJA,IAAI,EAAEiB,MAA0D;MAChEwjC,OAAO,EAAE,MAAM;IACjB;EACD;EACDI,KAAK,CAAChlC,KAAK;IACT,MAAM;MAAE6xB;IAAA,CAAU,GAAEmQ,MAAM,CAAC,YAAY,EAAE;MAAEnQ,OAAO,EAAE;IAAI,CAAG;IAC3D,MAAM6Q,KAAI,GAAIkB,QAAQ,EAAC;IACvB,MAAM7B,KAAI,GAAIG,QAAQ,EAAC;IACvB,MAAMr+B,IAAIgtB,GAAG,CAAgB,EAAE;IAC/B,MAAM;MAAEoR;IAAK,CAAI,GAAE8F,SAAS,CAAC/nC,KAAK,CAAC2xB,QAAQ,EAAE;MAAEE,OAAO;MAAE1xB,IAAI,EAAE;IAAK,CAAG;IAEtE,MAAM8nC,QAAO,GAAI;MACfC,MAAM,EAAEnb,WAAW;MACnBob,OAAO,EAAEC,YAAY;MACrB3qC,IAAI,EAAEyrC,SAAc;MACpBZ,QAAQ,EAAEC;KACZ;IAEA,SAASY,UAAU;MACjB,IAAIhpC,OAAO8nC,QAAQ,CAACjoC,KAAK,CAACG,IAAI;MAE9B,IAAIH,KAAK,CAACG,IAAG,KAAM,UAAW,IAAG4hC,KAAK,CAAC/d,MAAM,CAACyB,SAAQ,KAAM,UAAU,EAAE;QACtEtlB,IAAG,GAAIqoC,SAAa;MACtB;MAEA3kC,CAAC,CAACjG,KAAI,GAAIsvB,IAAI,EAAQ,CACnBvwB,CAAC,CAAEmD,CAAC,IAAKA,CAAC,CAACnD,CAAC,EACZsI,CAAC,CAAEnF,CAAC,IAAKA,CAAC,CAACmF,CAAC,EACZ6nB,KAAK,CAAC3sB,IAAI,CAAC,CAAC8hC,MAAM,CAACrkC,KAAK;;IAG7B,SAASwrC,eAAe,CAACC,MAAe;MACtC,MAAML,QAAO,GAAIhpC,KAAK,CAACgpC,QAAO;MAC9B,MAAMxQ,KAAM,GAAEkQ,QAAQ,CAAC9qC,KAAK,EAAC;MAE7B;QACEuI,CAAC,EAAEkjC,MAAO,GAAE,CAAE,GAAE,CAAC;QACjBT,MAAM,EAAEpQ,KAAK,CAACoQ,MAAM;QACpBU,WAAW,EAAE9Q,KAAK,CAAC8Q,WAAW;QAC9B3oB,IAAI,EAAE;MAAO,GACVqoB,QAAO,CACZ;;IAGF,MAAMN,QAAO,GAAI5E,QAAQ,CAAC,MAAM;MAC9B,IAAIxiC,IAAE,CAACioC,QAAQ,EAAEvpC,KAAK,CAAC+oC,SAAS,CAAC,EAAE;QACjC,OAAO/oC,KAAK,CAAC+oC,SAAqB;MACpC;MAEA,OAAO,MACLttC;QAAAmtC,MAAM,EAAE,SAAS;QACjBU,WAAW,EAAE;MAAC,CACX,OAAK,CAACP,SAAQ,CAClB;IACH,CAAC;IAED,MAAMS,WAAY,GAAE1F,QAAQ,CAAC,MAAM;MACjC,IAAIxiC,IAAE,CAACioC,QAAQ,EAAEvpC,KAAK,CAACgpC,QAAQ,CAAC,EAAE;QAChC,OAAOhpC,KAAK,CAACgpC,QAAO;MACtB;MAEA,OAAO,CAAC;QAAEK;MAAA,CAA6B,KAAKD,eAAe,CAACC,MAAM;IACpE,CAAC;IAED7G,KAAK,CAACP,MAAM,EAAE,MAAMkH,UAAU,EAAE;IAChC3G,KAAK,CAACT,KAAK,CAACnR,OAAO,EAAE,MAAMuY,UAAU,EAAE;IAEvC,MAAMN,cAAe3gC,IAAS,IAAKD,OAAO,CAACK,QAAQ,EAAEJ,IAAI;IACzD,OAAO;MAAErE,CAAC;MAAE6+B,KAAK;MAAET,MAAM;MAAE4G,WAAW;MAAEH,QAAQ;MAAEc;IAAY;;AAEjE;;;;;;;;sBCtHCvC,WAeO;IAfCtV,QAAQ,EAAEyT,IAAQ;IAAEjlC,IAAI,EAAC;;qBAC/B,MAA8E,CAA9E0mC,kBAA8E,SAA9EiC,WAA8E;MAAxExD,KAAK,EAAC;IAAW,GAAUF,IAAW,aAACA,IAAQ;MAAMvhC,CAAC,EAAEuhC,IAAC;MAAEzkB,IAAI,EAAC;kDACtE8oB,kBAG2B,iIACjBrE,IAAO,yBAAjBC,kBAQG,sBAPDqE,oCAMCC,QAJkB,8BAAM,EAAf,EAAC,EAAEpgC,CAAC;0BAFd87B,kBAMC,WANDyD,UACU,CAKT1D,IALoB,aAACA,IAAW;QAAAiE,QAAW9/B,CAAE,KAAI67B,IAAK,OAACx+B;MAAI;QAEzDrH,GAAG,EAAEgK,CAAC;QACNmhB,EAAE,EAAEvvB,CAAC,CAACwB,CAAC;QACPguB,EAAE,EAAExvB,CAAC,CAAC8J;;;;;;;;ACwBf,eAAe0/B,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,KAAK;EACXojC,UAAU,EAAE;IAAAsC,OAAEA;EAAAA,CAAO;EACrB7nC,KAAK,EAAE;IACL4pC,WAAW,EAAE;MACXzpC,IAAI,EAAE1E,MAAM;MACZmpC,OAAO,EAAE,MAAM;IAChB;IACDiF,QAAQ,EAAE;MACR1pC,IAAI,EAAE,CAACopC,QAAQ,EAAE9tC,MAAM,CAAC;MACxBmpC,OAAO,EAAE,OAAO;QACdjkB,IAAI,EAAE;OACP;IACF;IACDmpB,gBAAgB,EAAE;MAChB3pC,IAAI,EAAE,CAACopC,QAAQ,EAAE9tC,MAAM,CAAC;MACxBmpC,OAAO,EAAE,OAAO;QACdjkB,IAAI,EAAE;OACP;IACF;IACDiiB,QAAQ,EAAE;MACRziC,IAAI,EAAEX,MAAM;MACZolC,OAAO,EAAE,CAAC;IACX;IACDjT,QAAQ,EAAE;MACRxxB,IAAI,EAAE1E,MAAgC;MACtCgqC,QAAQ,EAAE;IACX;IACD5C,GAAG,EAAE;MACH1iC,IAAI,EAAEX,MAAM;MACZolC,OAAO,EAAE;IACX;EACD;EACDI,KAAK,CAAChlC,KAAK,EAAE;IAAE+pC;EAAG,CAAG;IACnB,MAAMrH,KAAI,GAAIkB,QAAQ,EAAC;IACvB,MAAM;MAAE/R,OAAO;MAAE+Q;IAAO,CAAI,GAAEZ,MAAM,CAAC,YAAY,EAAE;MACjDnQ,OAAO,EAAE,KAAK;MACd+Q,QAAQ,EAAE,CAAC;IACZ;IACD,MAAM;MAAEE;IAAG,CAAI,GAAEkF,OAAO,CAAChoC,KAAK,CAAC2xB,QAAQ,EAAE;MACvCiR,QAAQ,EAAE37B,IAAI,CAAC6C,GAAG,CAAC9J,KAAK,CAAC4iC,QAAQ,EAAEA,QAAQ,CAAC;MAC5C/Q,OAAO;MACPgR,GAAG,EAAE7iC,KAAK,CAAC6iC,GAAG;MACd1iC,IAAI,EAAE;IACP;IAED,MAAMuoC,QAAO,GAAI5E,QAAQ,CAAC,MAAM;MAC9B,IAAIxiC,IAAE,CAACioC,QAAQ,EAAEvpC,KAAK,CAAC6pC,QAAQ,CAAC,EAAE;QAChC,OAAO7pC,KAAK,CAAC6pC,QAAO;MACtB;MAEA,OAAO,MAAM7pC,KAAK,CAAC6pC,QAAO;IAC5B,CAAC;IAED,MAAMG,gBAAe,GAAIlG,QAAQ,CAAC,MAAM;MACtC,IAAIxiC,IAAE,CAACioC,QAAQ,EAAEvpC,KAAK,CAAC8pC,gBAAgB,CAAC,EAAE;QACxC,OAAO9pC,KAAK,CAAC8pC,gBAAe;MAC9B;MAEA,OAAO,MAAM9pC,KAAK,CAAC8pC,gBAAe;IACpC,CAAC;IAED,MAAMjB,cAAe3gC,IAAS,IAAKD,OAAO,CAACK,QAAQ,EAAEJ,IAAI;IAEzD,SAAS+hC,UAAU,CAACC,GAAQ,EAAEhuC,GAAW;MACvC6tC,IAAI,CAAC,UAAU,kCAAOG,GAAG,CAAE;QAAAhuC;MAAE,GAAG;;IAGlC,OAAO;MAAEwsC,QAAQ;MAAEsB,gBAAgB;MAAEnB,WAAW;MAAE/F,IAAI;MAAEJ,KAAK;MAAEuH;IAAW;;AAE7E;;;;;;;;sBC1GChD,WA0BO;IA1BCtV,QAAQ,EAAEyT,IAAQ;IAAEjlC,IAAI,EAAC;;qBAC/B,MAA4C,CAAhCilC,SAAI,CAAC/rC,MAAK,UAAtBqwC,gCAA4C,sBAAb,SAAO,wCACtCA,oCAYCC,QAXoB,4BAAI,EAAf,IAAG,EAAEpgC,CAAC;MADhB,uCAYC,MAZD,aAYC;QAVC+7B,KAAK,EAAC;MAAU,GACTF;QAAA;QAAAiE;MAAA;QAGN9pC,GAAG,EAAEgK,CAAC;QACN5M,CAAC,EAAEutC,GAAG,CAACvtC,CAAC;QACRsI,CAAC,EAAEilC,GAAG,CAACjlC,CAAC;QACRmb,KAAK,EAAE8pB,GAAG,CAAC9pB,KAAI,GAAQ,OAAG,CAACA,KAAI;QAC/BsF,MAAM,EAAEwkB,GAAG,CAACxkB,MAAK,GAAQ,OAAG,CAACA,MAAK;QAClCykB,OAAK,EAAQ,qBAAU,CAACD,GAAG,EAAE3gC,CAAC;;oCAGzB67B,IAAW,gBADnBsE,gCAUC,QAVDZ,UAUC;;MARCxD,KAAK,EAAC;OACCF;MAAA;IAAA;MAGNzoC,CAAC,EAAEyoC,IAAW,aAACzoC,CAAC;MAChBsI,CAAC,EAAEmgC,IAAW,aAACngC,CAAC;MAChBmb,KAAK,EAAEglB,IAAW,aAAChlB,KAAM,GAAM,oBAAW,CAACA,KAAM;MACjDsF,MAAM,EAAE0f,IAAW,aAAC1f,MAAO,GAAM,oBAAW,CAACA,MAAO;;;;;;;ACnBpD,MAAM0kB,OAAO,GAAGhpC,MAA2B;ACuBlD,eAAeujC,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,UAAU;EAChBojC,UAAU,EAAE;IAAAsC,OAAEA;EAAAA,CAAO;EACrB7nC,KAAK,EAAE;IACLqqC,QAAQ,EAAE;MACRlqC,IAAI,EAAE1E,MAAM;MACZgqC,QAAQ,EAAE;IACX;IACD9T,QAAQ,EAAE;MACRxxB,IAAI,EAAE1E,MAAgC;MACtCgqC,QAAQ,EAAE;IACX;IACDpgC,IAAI,EAAE;MACJlF,IAAI,EAAEiqC,OAAO;MACbxF,OAAO,EAAE,MAAM;MACfa,QAAQ,EAAE;IACX;IACD6E,QAAQ,EAAE;MACRnqC,IAAI,EAAEopC,QAAQ;MACd9D,QAAQ,EAAE;IACZ;EACD;EACDT,KAAK,CAAChlC,KAAK;;IACT,MAAM+hC,KAAI,GAAIG,QAAQ,EAAC;IACvB,MAAMQ,KAAI,GAAIkB,QAAQ,EAAC;IACvB,MAAMjhC,OAAOkuB,GAAG,CAAC5pB,IAAI,CAACC,GAAG,CACvB66B,KAAK,CAACvc,MAAM,CAACpF,KAAI,GAAI2hB,KAAK,CAACvc,MAAM,CAAC7oB,CAAC,EACnColC,KAAK,CAACvc,MAAM,CAACE,MAAO,GAAEqc,KAAK,CAACvc,MAAM,CAACvgB,CAAC,IAAI,EAC1C;IAEA,MAAMyjC,QAAO,GAAI5E,QAAQ,CAAC,MAAM;MAC9B,OAAO,MAAMroC;QACX8uC,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;QAC/D/hB,WAAW,EAAE,CAAC;QACdoC,YAAY,EAAE,CAAC;QACf5B,QAAQ,EAAE;MAAI,CACX,OAAK,CAACqhB,QAAO,CACjB;IACH,CAAC;IAED,MAAM7R,KAAM,GAAEkQ,QAAQ,CAAC9qC,KAAK,EAAC;IAC7B,MAAMowB,OAAO6C,GAAG,CAAQ,EAAE;IAC1B,MAAM0Z,MAAK,GAAIC,OAAY,CAAC9B,QAAQ,CAAC9qC,KAAK,EAAE,CAAC2sC,MAAM;IACnD,MAAME,MAAO,GAAE,MAAM;MACnB,OAAO5iB,GAAG,EAAC,CACRa,WAAW,CAAC/lB,IAAI,CAAC/E,KAAK,EACtB4qB,WAAW,CAACgQ,KAAK,CAAChQ,WAAW,EAC7BoC,YAAY,CAAC4N,KAAK,CAAC5N,YAAY,EAC/B5B,QAAQ,CAACwP,KAAK,CAACxP,QAAQ;IAC5B;IAEA,MAAM3J,SAAU,GAAEwR,GAAG,CAAC,aAAaluB,IAAI,CAAC/E,QAAQmkC,KAAK,CAACvc,MAAM,CAAC7oB,CAAM,SAAI,CAACiB,KAAM,GAAEmkC,KAAK,CAACvc,MAAM,CAACvgB,CAAI;IAEjG,IAAIylC,OAAW;IACf,QAAQ1qC,KAAK,CAACqF,IAAI;MAChB,KAAK,MAAM;QAAEqlC,OAAQ,GAAE9hC,YAAU;QAAE;MACnC,KAAK,KAAK;QAAE8hC,OAAQ,GAAE/hC,WAAS;QAAE;MACjC,KAAK,MAAM;QAAE+hC,OAAQ,GAAE,IAAI;QAAE;MAC7B,KAAK,QAAQ;QAAEA,OAAM,GAAI,WAAK,CAACJ,QAAO,mCAAK,IAAI;QAAE;MACjD;QAASI,UAAU,IAAG;IAAA;IAGxB,SAASC,SAAS;;MAEhB,MAAMziC,IAAK,GAAE65B,KAAK,CAACtQ,OAAO,CAAC,CAACzxB,KAAK,CAAC2xB,QAAQ,CAAC,CAAC,CAAC,CAAC;MAC9C3D,IAAI,CAACpwB,KAAI,GAAIkwB,GAAG,EAAE,CAACzoB,IAAI,CAACqlC,OAAO,CAAC,CAACxiC,IAAI;;IAGvC,SAAS0iC,QAAQ,CAAChkC,KAAa;MAC7B,OAAO2jC,MAAM,CAAC3jC,KAAK,CAACjL,QAAQ,EAAE;;IAGhC,SAASkvC,WAAW,CAACpP,KAAiB,EAAE70B,KAAa;MACnD87B,KAAK,CAACC,KAAI,GAAI,IAAG;MACjBD,KAAK,CAAC97B,QAAQA,KAAK;MACnB,MAAM,CAACjK,CAAC,EAAEsI,CAAC,IAAIuhC,OAAO,CAAC/K,KAAK;MAC5BiH,KAAK,CAACnB,WAAW;QAAE5kC,CAAC,EAAEA,IAAIgG,IAAI,CAAC/E,KAAK;QAAEqH,CAAC,EAAEA,IAAItC,IAAI,CAAC/E;MAAM;;IAG1D,SAASktC,WAAW;MAClBpI,KAAK,CAACC,KAAM,GAAE,KAAI;MAClBD,KAAK,CAAC97B,KAAM,GAAE,CAAC;;IAGjB,SAASiiC,WAAW,CAAC3gC,IAAS;MAC5BD,OAAO,CAACK,QAAQ,EAAEJ,IAAI;;IAGxBs6B,KAAK,CAACT,KAAK,CAACnR,OAAO,EAAE,MAAM;MACzBjuB,IAAI,CAAC/E,KAAM,GAAEqJ,IAAI,CAACC,GAAG,CACnB66B,KAAK,CAACvc,MAAM,CAACpF,KAAI,GAAI2hB,KAAK,CAACvc,MAAM,CAAC7oB,CAAC,EACnC,CAAColC,KAAK,CAACvc,MAAM,CAACE,MAAK,GAAIqc,KAAK,CAACvc,MAAM,CAACvgB,CAAC,IAAI,EAC3C;MAEAoa,SAAS,CAACzhB,QAAqB,iBAAI,CAACA,KAAI,GAAImkC,KAAK,CAACvc,MAAM,CAAC7oB,CAAM,SAAI,CAACiB,KAAM,GAAEmkC,KAAK,CAACvc,MAAM,CAACvgB,CAAC,GAAE;MAE5F0lC,SAAS,EAAC;IACZ,CAAC;IAED,OAAO;MACL3c,IAAI;MACJyc,MAAM;MACN/B,QAAQ;MACRrpB,SAAS;MACTurB,QAAQ;MACRE,WAAW;MACXjC,WAAW;MACXgC;KACF;;AAEH;;;;;;;;sBC1IC5D,WAcO;IAdCtV,QAAQ,EAAEyT,IAAQ;IAAEjlC,IAAI,EAAC;;qBAC/B,MAA4C,CAAhCilC,SAAI,CAAC/rC,MAAK,UAAtBqwC,gCAA4C,sBAAb,SAAO,uCACtC7C,kBAWG;MAXCxnB,SAAS,EAAE+lB,IAAS;IAAA,KACtBsE,oCASCC,QARoB,4BAAI,EAAf,IAAG,EAAEpgC,CAAC;MADhB,uCASC,QATDu/B,UASC;QAPEvpC,GAAG,EAAEgK,CAAC;QACNgoB,EAAE,SAAShoB,CAAC;QACb+7B,KAAK,EAAC;MACE,mBAAW,CAACF,IAAQ;QAC3BzkB,IAAI,EAAEykB,IAAQ,UAAC77B,CAAC;QAChB1F,CAAC,EAAEuhC,IAAM,UAAGvd,GAAG;QACfkjB,WAAS,EAAEC,0BAAW,CAACA,MAAM,EAAEzhC,CAAC;QAAI0hC,YAAU,sCAAE7F,IAAW;;;;;;;;ACFpE,eAAeT,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,YAAY;EAClB6iC,KAAK;IACH,MAAMhB,EAAG,GAAEnT,GAAG,CAAC,IAAI;IACnB,MAAM;MAAEzQ,KAAK;MAAEsF;IAAK,CAAI,GAAEwlB,SAAS,CAAClH,EAAE;IAEtC,OAAO;MAAEA,EAAE;MAAE5jB,KAAK;MAAEsF;IAAO;;AAE9B;ACjBM;EAAAmL,GAAG,EAAC;AAAI;;EAAb,uCAEK,OAFL4V,YAEK,GADHM,UAAmD;IAAhC3mB,KAAK,EAAEglB,IAAK;IAAG1f,MAAM,EAAE0f,IAAM;;;;;;ACyBpD,eAAeT,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,MAAM;EACZnC,KAAK,EAAE;IACLmrC,eAAe,EAAE;MACfhrC,IAAI,EAAEiB,MAAM;MACZwjC,OAAO,EAAE,MAAM;IAChB;IACDmB,KAAK,EAAE;MACL5lC,IAAI,EAAE2kC,OAAO;MACbF,OAAO,EAAE;IACV;IACDoB,KAAK,EAAE;MACL7lC,IAAI,EAAE2kC,OAAO;MACbF,OAAO,EAAE;IACV;IACDt7B,MAAM,EAAE;MACNnJ,IAAI,EAAE2kC,OAAO;MACbF,OAAO,EAAE;IACX;EACD;EACDI,KAAK,CAAChlC,KAAK;IACT,MAAM+hC,KAAI,GAAIG,QAAQ,EAAC;IACvB,MAAMh6B,IAAK,GAAE2oB,GAAG,CAAS,EAAE;IAC3B,MAAMrL,MAAK,GAAIqL,GAAG,CAAgB,IAAI;IACtC,MAAMua,MAAO,GAAEva,GAAG,CAAW,EAAE;IAC/B,MAAMwa,MAAO,GAAExa,GAAG,CAAW,EAAE;IAE/B,SAASya,YAAY;MACnB,MAAM;QAAEhmB,OAAO;QAAEC;MAAU,IAAIwc,KAAK,CAACpR,MAAK;MAC1C,MAAMuU,OAAQ,GAAEnD,KAAK,CAAC/d,MAAM,CAACyB,SAAQ,KAAM,YAAW,GAAIF,SAAU,GAAED,OAAM;MAE5E,IAAI4f,OAAO,CAAC/kC,SAAS,MAAO,IAAG,CAACH,KAAK,CAACsJ,MAAM,EAAE;QAC5C,MAAMrJ,IAAK,GAAEilC,OAAO,CAAC5lC,GAAG,CAACyiC,KAAK,CAACtQ,OAAO,CAACsQ,KAAK,CAACrQ,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAACpyB,GAAG,CAAE3C,CAAC,IAAKA,IAAIuoC,OAAO,CAAC/3B,SAAS,EAAC,GAAI,CAAC;QAChGlN,IAAI,CAACsrC,GAAG,EAAC;QACTH,MAAM,CAACxtC,KAAI,GAAIqC,IAAG;MAClB,OAAK;QACL,MAAM+K,KAAI,GAAIk6B,OAAO,CAACl6B,KAAK,EAAC;QAC5BogC,MAAM,CAACxtC,KAAM,GAAEsnC,OAAO,CAAC5lC,GAAG,CAAC0L,KAAK;MAClC;;IAGF,SAASwgC,YAAY;MACnB,MAAM;QAAElmB,OAAO;QAAEC;MAAU,IAAIwc,KAAK,CAACpR,MAAK;MAC1C,MAAMuU,OAAQ,GAAEnD,KAAK,CAAC/d,MAAM,CAACyB,SAAQ,KAAM,YAAW,GAAIH,OAAQ,GAAEC,SAAQ;MAE5E,IAAI2f,OAAO,CAAC/kC,SAAS,MAAO,IAAG,CAACH,KAAK,CAACsJ,MAAM,EAAE;QAC5C,MAAMrJ,IAAK,GAAEilC,OAAO,CAAC5lC,GAAG,CAACyiC,KAAK,CAACtQ,OAAO,CAACsQ,KAAK,CAACrQ,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAACpyB,GAAG,CAAE3C,CAAC,IAAKA,IAAIuoC,OAAO,CAAC/3B,SAAS,EAAC,GAAI,CAAC;QAChGlN,IAAI,CAACsrC,GAAG,EAAC;QACTF,MAAM,CAACztC,KAAI,GAAIqC,IAAG;MAClB,OAAK;QACL,MAAM+K,KAAI,GAAIk6B,OAAO,CAACl6B,KAAK,EAAC;QAC5BqgC,MAAM,CAACztC,KAAM,GAAEsnC,OAAO,CAAC5lC,GAAG,CAAC0L,KAAK;MAClC;;IAGFw3B,KAAK,CAACT,KAAK,CAACnR,OAAO,EAAE,MAAM;MACzB1oB,IAAI,CAACtK,KAAI,GAAImkC,KAAK,CAAC75B,IAAG;MACtBsd,MAAM,CAAC5nB,KAAI,GAAImkC,KAAK,CAACvc,MAAK;MAE1B8lB,YAAY,EAAC;MACbE,YAAY,EAAC;IACf,CAAC;IAED,OAAO;MAAEtjC,IAAI;MAAEsd,MAAM;MAAE4lB,MAAM;MAAEC;IAAO;;AAEzC;;;;ECnFM/F,KAAK,EAAC;;;;;EAGNA,KAAK,EAAC;;;;;;EAVH,gBAAI,CAACjsC,MAAM,iBADnBgsC,kBAkBG;;IAhBDC,KAAK,EAAC,YAAW;IACjBsD,MAAM,EAAC,OAAM;IACb,gBAAc,EAAC,MAAK;IACpB,cAAY,EAAC,GAAE;IACd,kBAAgB,EAAExD,IAAe;OAETA,IAAK,UAA9BsE,gCAEG,KAFH+B,YAEG,IADD/B,oCAA2FC,QAApE,8BAAM,EAAf,EAAC,EAAEpgC,CAAC;wBAAlB87B,kBAA2F;MAA3D9lC,GAAG,EAAEgK,CAAC;MAAGqa,EAAE,EAAEwhB,IAAM,QAACzoC,CAAC;MAAG8pB,EAAE,EAAExhB,CAAC;MAAG0hB,EAAE,EAAEye,IAAM,QAAChlB,KAAK;MAAGwG,EAAE,EAAE3hB;;yEAEhEmgC,IAAK,UAA9BsE,gCAEG,KAFH1C,YAEG,IADD0C,oCAA4FC,QAArE,8BAAM,EAAf,EAAC,EAAEpgC,CAAC;wBAAlB87B,kBAA4F;MAA5D9lC,GAAG,EAAEgK,CAAC;MAAGqa,EAAE,EAAEjnB,CAAC;MAAG8pB,EAAE,EAAE2e,IAAM,QAACngC,CAAC;MAAG0hB,EAAE,EAAEhqB,CAAC;MAAGiqB,EAAE,EAAEwe,IAAM,QAAC1f;;wEAErFmhB,kBAGG,aAFDA,kBAAuE;IAAhEjjB,EAAE,EAAEwhB,IAAM,QAACzoC,CAAC;IAAG8pB,EAAE,EAAE2e,IAAM,QAACngC,CAAC;IAAG0hB,EAAE,EAAEye,IAAM,QAAChlB,KAAK;IAAGwG,EAAE,EAAEwe,IAAM,QAACngC;yCACnE4hC,kBAAwF;IAAjFjjB,EAAE,EAAEwhB,IAAM,QAAChlB;IAAYqG,EAAE,EAAE2e,IAAM,QAACngC,CAAC;IAAG0hB,EAAE,EAAEye,IAAM,QAAChlB,KAAI;IAAQwG,EAAE,EAAEwe,IAAM,QAAC1f;;;;;ACoBrF,eAAeif,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,SAAS;EACfojC,UAAU,EAAE,EAAE;EACdvlC,KAAK,EAAE;IACLmZ,MAAM,EAAE;MACNhZ,IAAI,EAAEiB,MAAM;MACZwjC,OAAO,EAAE;IACV;IACDxsB,KAAK,EAAE;MACLjY,IAAI,EAAEiB,MAAM;MACZwjC,OAAO,EAAE;IACV;IACD8G,QAAQ,EAAE;MACRvrC,IAAI,EAAE2kC,OAAO;MACbF,OAAO,EAAE;IACV;IACD5gB,MAAM,EAAE;MACN7jB,IAAI,EAAE1E,MAAM;MACZmpC,OAAO,EAAE,OAAO,EAAE;IACpB;EACD;EACDI,KAAK,CAAChlC,KAAK;IACT,MAAMgkC,EAAG,GAAEnT,GAAG,CAAC,IAAI;IACnB,MAAMkR,KAAI,GAAIG,QAAQ,EAAC;IACvB,MAAM1c,SAASqL,GAAG,CAASkR,KAAK,CAACvc,MAAM;IACvC,MAAMC,SAAQ,GAAIoL,GAAG,CAACkR,KAAK,CAAC/d,MAAM,CAACyB,SAAS;IAC5C,MAAM;MAAE8b,QAAQ;MAAEwC,OAAO;MAAEF;IAAG,IAAM8H,UAAU,EAAC;IAE/C,MAAMC,OAAQ,GAAE9H,QAAQ,CAAC,MAAM;MAC7B,OAAOvC,QAAQ,CAAC3jC,KAAK,CAACjB,CAAE,IAAI6oB,MAAM,CAAC5nB,KAAK,CAACwiB,KAAM,GAAE,CAAC,GAAI;IACxD,CAAC;IAED,MAAMoY,KAAI,GAAIsL,QAAQ,CAAC,MAAM;MAC3B,IAAIre,SAAS,CAAC7nB,KAAI,KAAM,UAAU,EAAE;QAClC,OAAO;UACLuyB,GAAG,EAAEoR,QAAQ,CAAC3jC,KAAK,CAACqH,IAAI,GAAE,GAAI,IAAI;UAClCpK,IAAI,EAAE2qB,MAAM,CAAC5nB,KAAK,CAACjB,CAAE,GAAE;SACzB;MACF,OAAO,IAAI8oB,SAAS,CAAC7nB,KAAM,KAAI,YAAY,EAAE;QAC3C,OAAO;UACLuyB,GAAG,EAAE3K,MAAM,CAAC5nB,KAAK,CAACqH,IAAI,IAAI;UAC1BpK,IAAI,EAAE0mC,QAAQ,CAAC3jC,KAAK,CAACjB,CAAE,GAAE,GAAI,GAAE;SACjC;MACA,OAAK;QACL,OAAO;UACLwzB,GAAG,EAAE3K,MAAM,CAAC5nB,KAAK,CAACqH,IAAI,IAAI;UAC1BpK,IAAI,EAAE2qB,MAAM,CAAC5nB,KAAK,CAACjB,CAAE,GAAE;SACzB;MACF;IACF,CAAC;IACD,MAAMkvC,YAAW,GAAI/H,QAAQ,CAAC,MAAM;MAClC,IAAIre,SAAS,CAAC7nB,KAAI,KAAM,UAAU,EAAE;QAClC,OAAO;UACLuyB,GAAG,EAAE,IAAI,IAAI;UACbt1B,IAAI,EAAE0mC,QAAQ,CAAC3jC,KAAK,CAACjB,IAAI,EAAG,GAAE;SAChC;MACF,OAAO,IAAI8oB,SAAS,CAAC7nB,KAAM,KAAI,YAAY,EAAE;QAC3C,OAAO;UACLuyB,GAAG,EAAEoR,QAAQ,CAAC3jC,KAAK,CAACqH,IAAI,IAAI;UAC5Boa,SAAS,EAAE,cAAcusB,OAAO,CAAChuC,KAAI,GAAI,OAAQ,GAAE,CAAG;SACxD;MACA,OAAK;QACL,OAAO;UACLuyB,GAAG,EAAEoR,QAAQ,CAAC3jC,KAAK,CAACqH,IAAI,IAAI;UAC5BpK,IAAI,EAAE0mC,QAAQ,CAAC3jC,KAAK,CAACjB,CAAE,GAAE;SAC3B;MACF;IACF,CAAC;IAED,MAAMmvC,cAAc,CAACtwC,GAAQ,EAAEuwC,SAAc,KAAK;MAChD,OAAOzqC,IAAE,CAACioC,QAAQ,EAAEwC,SAAS,IAAIA,SAAS,CAACvwC,GAAG,IAAI8F,IAAE,CAAC9B,MAAM,EAAEhE,GAAG,IAAI2d,MAAM,CAAC4yB,SAAmB,CAAC,CAACvwC,GAAG,CAAE,GAAEA,GAAE;IAC3G;IAEA,MAAMwwC,KAAI,GAAIlI,QAAQ,CAAC,MAAM;MAC3B,OAAOroC,MAAM,CAACyD,IAAI,CAACwH,MAAI,CAAC,CAAC,KAAK,CAAC,EAAEq9B,OAAO,CAACnmC,KAAK,CAAC,EAC5C0B,GAAG,CAAEC,GAAG,IAAK;QACZ,MAAMykB,MAAK,iBACN;UAAEioB,KAAK,EAAE1sC,GAAG;UAAE4Z,MAAM,EAAEnZ,KAAK,CAACmZ,MAAM;UAAEf,KAAK,EAAEpY,KAAK,CAACoY,KAAK;UAAE2Y,IAAI,EAAE;QAAA,CAAO,EACrE/wB,KAAK,CAACgkB,MAAM,CAACzkB,GAAG,EACrB;QAEA,OAAO;UACLA,GAAG;UACH0sC,KAAK,EAAEjoB,MAAM,CAACioB,KAAK;UACnBruC,KAAK,EAAEmmC,OAAO,CAACnmC,KAAK,CAAC2B,GAAG,CAAC;UACzB2sC,cAAc,EAAEJ,WAAW,CAAC/H,OAAO,CAACnmC,KAAK,CAAC2B,GAAG,CAAC,EAAEykB,MAAM,CAAC7K,MAAM,CAAC;UAC9Df,KAAK,EAAE9W,IAAE,CAACioC,QAAQ,EAAEvlB,MAAM,CAAC5L,KAAK,IAAI4L,MAAM,CAAC5L,KAAK,CAAC2rB,OAAO,CAACnmC,KAAK,CAAE,GAAEomB,MAAM,CAAC5L,KAAK;UAC9E2Y,IAAI,EAAE/M,MAAM,CAAC+M;SACf;MACF,CAAC,EACApsB,MAAM,CAAE4E,CAAC,IAAK,CAACA,CAAC,CAACwnB,IAAI;IAC1B,CAAC;IAEDyR,KAAK,CAACT,KAAK,CAACnR,OAAO,EAAE,MAAM;MACzBnL,SAAS,CAAC7nB,KAAI,GAAImkC,KAAK,CAAC/d,MAAM,CAACyB,SAAQ;MACvCD,MAAM,CAAC5nB,KAAI,GAAImkC,KAAK,CAACvc,MAAK;IAC5B,CAAC;IAED,OAAO;MAAEwe,EAAE;MAAEH,IAAI;MAAEre,MAAM;MAAEC,SAAS;MAAE+S,KAAK;MAAEqT,YAAY;MAAEtK,QAAQ;MAAEyK,KAAK;MAAEJ;IAAQ;;AAEvF;;;;;SCxI6CxG,IAAI,sBAAhDC,kBA0BK;;IA1BAC,KAAK,EAAC;IAAa9M,KAAK,iBAAE4M,IAAK;MAClCyB,kBAQK;IARAvB,KAAK,EAAC,mBAAkB;IAAG9M,KAAK,iBAAE4M,IAAY;IAAEvU,GAAG,EAAC;MACvDkW,WAMM3B,IANC;IAAArB,OAAO,EAAEqB;EAAK,GAArB,MAMM,CALJyB,kBAIK;IAJCrO,KAAK;MAAA2T,aAAiB/G,IAAI;IAAA;OAC9BsE,oCAEKC,QAFoB,6BAAK,EAAjB,KAAI,EAAEpgC,CAAC;wBAApB87B,kBAEK;MAF4B9lC,GAAG,EAAEgK,CAAC;MAAGivB,KAAK;QAAApgB,OAAWnZ,IAAI,CAACmZ;MAAM;QACnEyuB,kBAAuB,4BAAjB5nC,IAAI,CAACgtC,KAAM,kCAAM,IAAE,mBAAGhtC,IAAI,CAACitC;uEAK7B9G,IAAQ,0BAApBC,kBAeK,uBAbKD,IAAQ,4CADhBC,kBAMC;;IAJCC,KAAK,EAAC,yBAAwB;IAC7B9M,KAAK;MAAE9S;;2CAIV2f,kBAMC;;IAJCC,KAAK,EAAC,2BAA0B;IAC/B9M,KAAK;MAAEpY;;;;;;;;;ACdhB,eAAeukB,eAAe,CAAC;EAC7B3kC,KAAK,EAAE;IACL6xB,OAAO,EAAE;MACP1xB,IAAI,EAAE2kC,OAAO;MACbF,OAAO,EAAE;IACV;IACDhC,QAAQ,EAAE;MACRziC,IAAI,EAAEX,MAAM;MACZolC,OAAO,EAAE,CAAC;IACZ;EACD;EACDI,KAAK,CAAChlC,KAAK;IACTimC,OAAO,CAAC,YAAY,EAAEjmC,KAAK;;AAE9B;;sBCrBCqlC,kBAEK,eADH0B,UAAO;;;;AC+BX,eAAepC,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,MAAM;EACZnC,KAAK,EAAE;IACLpC,KAAK,EAAE;MACLuC,IAAI,EAAEX;IACP;IACDysC,KAAK,EAAE;MACL9rC,IAAI,EAAEiB,MAAM;MACZwjC,OAAO,EAAE;IACV;IACDxsB,KAAK,EAAE;MACLjY,IAAI,EAAEiB,MAAM;MACZwjC,OAAO,EAAE;IACV;IACDuG,eAAe,EAAE;MACfhrC,IAAI,EAAEiB,MAAM;MACZwjC,OAAO,EAAE,MAAM;IAChB;IACD0E,WAAW,EAAE;MACXnpC,IAAI,EAAEX,MAAM;MACZolC,OAAO,EAAE;IACV;IACDwH,aAAa,EAAE;MACbjsC,IAAI,EAAEX,MAAM;MACZolC,OAAO,EAAE;IACX;EACD;EACDI,KAAK,CAAChlC,KAAK;IACT,MAAM+hC,KAAI,GAAIG,QAAQ,EAAC;IACvB,MAAMj9B,IAAI4rB,GAAG,CAAC,CAAC;IACf,MAAMpL,SAAU,GAAEoL,GAAG,CAAC,YAAY;IAClC,MAAMrL,MAAK,GAAIqL,GAAG,CAAC,EAAE;IAErB2R,KAAK,CACHT,KAAK,CAACnR,OAAO,EACb,MAAM;MACJ,IAAI5wB,KAAK,CAACpC,UAAUwC,SAAS,EAAE;QAC7B6E,CAAC,CAACrH,KAAM,GAAEmkC,KAAK,CAACpR,MAAM,CAACpL,SAAS,CAAC1Y,KAAK,CAAC7M,KAAK,CAACpC,KAAK;MACpD;MAEA4nB,MAAM,CAAC5nB,KAAI,GAAImkC,KAAK,CAACvc,MAAK;MAC1BC,SAAS,CAAC7nB,KAAI,GAAImkC,KAAK,CAAC/d,MAAM,CAACyB,SAAQ;IACzC,CAAC,EACD;MAAEgd,SAAS,EAAE;IAAK,EACpB;IAEAD,KAAK,CACH,MAAMxiC,KAAK,CAACpC,KAAK,EACjB,MAAM;MACJqH,CAAC,CAACrH,KAAM,GAAEmkC,KAAK,CAACpR,MAAM,CAACpL,SAAS,CAAC1Y,KAAK,CAAC7M,KAAK,CAACpC,KAAK;IACpD,CAAC,EACD;MAAE6kC,SAAS,EAAE;IAAK,EACpB;IACA,OAAO;MAAEx9B,CAAC;MAAEugB,MAAM;MAAEC;IAAU;;AAEjC;;;ECvFI6f,KAAK,EAAC;;;;;;EAaNA,KAAK,EAAC;;;;;SAbqBF,IAAU,+BAAxCsE,gCAYG,KAZHjD,YAYG,GAXDI,kBAAsF;IAA/ElqC,CAAC,EAAEyoC,IAAM,QAACzoC,CAAE;IAAMsI,CAAC,EAAEmgC;IAAO,aAAW,EAAC,OAAM;IAAGzkB,IAAI,EAAEykB,IAAK;qBAAKA,IAAM,6CAC9EyB,kBASC;IAREjjB,EAAE,EAAEwhB,IAAM,QAACzoC,CAAC;IACZ8pB,EAAE,EAAE2e,IAAC;IACLze,EAAE,EAAEye,IAAM,QAAChlB,KAAK;IAChBwG,EAAE,EAAEwe,IAAC;IACLwD,MAAM,EAAExD,IAAK;IACb,gBAAc,EAAEA,IAAa;IAC7B,cAAY,EAAEA,IAAW;IACzB,kBAAgB,EAAEA,IAAe;8CAGtCsE,gCAYG,KAZH1C,YAYG,GAXDH,kBAAiH;IAA1GlqC,CAAC,EAAEyoC,IAAE;IAAOngC,CAAC,EAAEmgC,IAAM,QAACngC,CAAE;IAAK,aAAW,EAAC,OAAM;IAAG0b,IAAI,EAAEykB,IAAK;IAAE5M,KAAyB,EAAzB;MAAyB;IAAA;qBAAI4M,iDACnGyB,kBASC;IAREjjB,EAAE,EAAEwhB,IAAC;IACL3e,EAAE,EAAE2e,IAAM,QAACngC,CAAC;IACZ0hB,EAAE,EAAEye,IAAC;IACLxe,EAAE,EAAEwe,IAAM,QAAC1f,MAAM;IACjBkjB,MAAM,EAAExD,IAAK;IACb,gBAAc,EAAEA,IAAa;IAC7B,cAAY,EAAEA,IAAW;IACzB,kBAAgB,EAAEA,IAAe;;;;;ACxBxC,SAASj6B,KAAK,CAACsoB,IAAI,EAAE;EACnB,IAAI1F,GAAG,GAAG,CAAC;IACPwG,QAAQ,GAAGd,IAAI,CAACc,QAAQ;IACxBhrB,CAAC,GAAGgrB,QAAQ,IAAIA,QAAQ,CAACl7B,MAAM;EACnC,IAAI,CAACkQ,CAAC,EAAEwkB,GAAG,GAAG,CAAC,CAAC,KACX,OAAO,EAAExkB,CAAC,IAAI,CAAC,EAAEwkB,GAAG,IAAIwG,QAAQ,CAAChrB,CAAC,CAAC,CAAC3L,KAAK;EAC9C61B,IAAI,CAAC71B,KAAK,GAAGmwB,GAAG;AAClB;AAEe,mBAAQ,GAAG;EACxB,OAAO,IAAI,CAACse,SAAS,CAAClhC,KAAK,CAAC;AAC9B;ACXe,kBAAQ,CAACqsB,QAAQ,EAAErJ,IAAI,EAAE;EACtC,IAAIvnB,KAAK,GAAG,CAAC,CAAC;EACd,KAAK,MAAM6sB,IAAI,IAAI,IAAI,EAAE;IACvB+D,QAAQ,CAAC57B,IAAI,CAACuyB,IAAI,EAAEsF,IAAI,EAAE,EAAE7sB,KAAK,EAAE,IAAI,CAAC;EAC5C;EACE,OAAO,IAAI;AACb;ACNe,wBAAQ,CAAC4wB,QAAQ,EAAErJ,IAAI,EAAE;EACtC,IAAIsF,IAAI,GAAG,IAAI;IAAEuK,KAAK,GAAG,CAACvK,IAAI,CAAC;IAAEc,QAAQ;IAAEhrB,CAAC;IAAE3C,KAAK,GAAG,CAAC,CAAC;EACxD,OAAO6sB,IAAI,GAAGuK,KAAK,CAACuN,GAAG,EAAE,EAAE;IACzB/T,QAAQ,CAAC57B,IAAI,CAACuyB,IAAI,EAAEsF,IAAI,EAAE,EAAE7sB,KAAK,EAAE,IAAI,CAAC;IACxC,IAAI2tB,QAAQ,GAAGd,IAAI,CAACc,QAAQ,EAAE;MAC5B,KAAKhrB,CAAC,GAAGgrB,QAAQ,CAACl7B,MAAM,GAAG,CAAC,EAAEkQ,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAE;QACzCy0B,KAAK,CAACj9B,IAAI,CAACwzB,QAAQ,CAAChrB,CAAC,CAAC,CAAC;MAC/B;IACA;EACA;EACE,OAAO,IAAI;AACb;ACXe,uBAAQ,CAACiuB,QAAQ,EAAErJ,IAAI,EAAE;EACtC,IAAIsF,IAAI,GAAG,IAAI;IAAEuK,KAAK,GAAG,CAACvK,IAAI,CAAC;IAAE/1B,IAAI,GAAG,EAAE;IAAE62B,QAAQ;IAAEhrB,CAAC;IAAE1P,CAAC;IAAE+M,KAAK,GAAG,CAAC,CAAC;EACtE,OAAO6sB,IAAI,GAAGuK,KAAK,CAACuN,GAAG,EAAE,EAAE;IACzB7tC,IAAI,CAACqD,IAAI,CAAC0yB,IAAI,CAAC;IACf,IAAIc,QAAQ,GAAGd,IAAI,CAACc,QAAQ,EAAE;MAC5B,KAAKhrB,CAAC,GAAG,CAAC,EAAE1P,CAAC,GAAG06B,QAAQ,CAACl7B,MAAM,EAAEkQ,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;QAC3Cy0B,KAAK,CAACj9B,IAAI,CAACwzB,QAAQ,CAAChrB,CAAC,CAAC,CAAC;MAC/B;IACA;EACA;EACE,OAAOkqB,IAAI,GAAG/1B,IAAI,CAAC6tC,GAAG,EAAE,EAAE;IACxB/T,QAAQ,CAAC57B,IAAI,CAACuyB,IAAI,EAAEsF,IAAI,EAAE,EAAE7sB,KAAK,EAAE,IAAI,CAAC;EAC5C;EACE,OAAO,IAAI;AACb;ACde,kBAAQ,CAAC4wB,QAAQ,EAAErJ,IAAI,EAAE;EACtC,IAAIvnB,KAAK,GAAG,CAAC,CAAC;EACd,KAAK,MAAM6sB,IAAI,IAAI,IAAI,EAAE;IACvB,IAAI+D,QAAQ,CAAC57B,IAAI,CAACuyB,IAAI,EAAEsF,IAAI,EAAE,EAAE7sB,KAAK,EAAE,IAAI,CAAC,EAAE;MAC5C,OAAO6sB,IAAI;IACjB;EACA;AACA;ACPe,iBAAQ,CAAC71B,KAAK,EAAE;EAC7B,OAAO,IAAI,CAACyuC,SAAS,CAAC,UAAS5Y,IAAI,EAAE;IACnC,IAAI1F,GAAG,GAAG,CAACnwB,KAAK,CAAC61B,IAAI,CAACvrB,IAAI,CAAC,IAAI,CAAC;MAC5BqsB,QAAQ,GAAGd,IAAI,CAACc,QAAQ;MACxBhrB,CAAC,GAAGgrB,QAAQ,IAAIA,QAAQ,CAACl7B,MAAM;IACnC,OAAO,EAAEkQ,CAAC,IAAI,CAAC,EAAEwkB,GAAG,IAAIwG,QAAQ,CAAChrB,CAAC,CAAC,CAAC3L,KAAK;IACzC61B,IAAI,CAAC71B,KAAK,GAAGmwB,GAAG;EACpB,CAAG,CAAC;AACJ;ACRe,kBAAQ,CAACqJ,OAAO,EAAE;EAC/B,OAAO,IAAI,CAACkV,UAAU,CAAC,UAAS7Y,IAAI,EAAE;IACpC,IAAIA,IAAI,CAACc,QAAQ,EAAE;MACjBd,IAAI,CAACc,QAAQ,CAAClvB,IAAI,CAAC+xB,OAAO,CAAC;IACjC;EACA,CAAG,CAAC;AACJ;ACNe,kBAAQ,CAACra,GAAG,EAAE;EAC3B,IAAI9R,KAAK,GAAG,IAAI;IACZshC,QAAQ,GAAGC,mBAAmB,CAACvhC,KAAK,EAAE8R,GAAG,CAAC;IAC1CihB,KAAK,GAAG,CAAC/yB,KAAK,CAAC;EACnB,OAAOA,KAAK,KAAKshC,QAAQ,EAAE;IACzBthC,KAAK,GAAGA,KAAK,CAAC4C,MAAM;IACpBmwB,KAAK,CAACj9B,IAAI,CAACkK,KAAK,CAAC;EACrB;EACE,IAAI7F,CAAC,GAAG44B,KAAK,CAAC3kC,MAAM;EACpB,OAAO0jB,GAAG,KAAKwvB,QAAQ,EAAE;IACvBvO,KAAK,CAACtE,MAAM,CAACt0B,CAAC,EAAE,CAAC,EAAE2X,GAAG,CAAC;IACvBA,GAAG,GAAGA,GAAG,CAAClP,MAAM;EACpB;EACE,OAAOmwB,KAAK;AACd;AAEA,SAASwO,mBAAmB,CAACxzC,CAAC,EAAES,CAAC,EAAE;EACjC,IAAIT,CAAC,KAAKS,CAAC,EAAE,OAAOT,CAAC;EACrB,IAAIyzC,MAAM,GAAGzzC,CAAC,CAAC0zC,SAAS,EAAE;IACtBC,MAAM,GAAGlzC,CAAC,CAACizC,SAAS,EAAE;IACtBvxC,CAAC,GAAG,IAAI;EACZnC,CAAC,GAAGyzC,MAAM,CAAClB,GAAG,EAAE;EAChB9xC,CAAC,GAAGkzC,MAAM,CAACpB,GAAG,EAAE;EAChB,OAAOvyC,CAAC,KAAKS,CAAC,EAAE;IACd0B,CAAC,GAAGnC,CAAC;IACLA,CAAC,GAAGyzC,MAAM,CAAClB,GAAG,EAAE;IAChB9xC,CAAC,GAAGkzC,MAAM,CAACpB,GAAG,EAAE;EACpB;EACE,OAAOpwC,CAAC;AACV;AC7Be,uBAAQ,GAAG;EACxB,IAAIs4B,IAAI,GAAG,IAAI;IAAEuK,KAAK,GAAG,CAACvK,IAAI,CAAC;EAC/B,OAAOA,IAAI,GAAGA,IAAI,CAAC5lB,MAAM,EAAE;IACzBmwB,KAAK,CAACj9B,IAAI,CAAC0yB,IAAI,CAAC;EACpB;EACE,OAAOuK,KAAK;AACd;ACNe,yBAAQ,GAAG;EACxB,OAAO3iC,KAAK,CAAC0R,IAAI,CAAC,IAAI,CAAC;AACzB;ACFe,oBAAQ,GAAG;EACxB,IAAI6/B,MAAM,GAAG,EAAE;EACf,IAAI,CAACN,UAAU,CAAC,UAAS7Y,IAAI,EAAE;IAC7B,IAAI,CAACA,IAAI,CAACc,QAAQ,EAAE;MAClBqY,MAAM,CAAC7rC,IAAI,CAAC0yB,IAAI,CAAC;IACvB;EACA,CAAG,CAAC;EACF,OAAOmZ,MAAM;AACf;ACRe,mBAAQ,GAAG;EACxB,IAAI7P,IAAI,GAAG,IAAI;IAAE8P,KAAK,GAAG,EAAE;EAC3B9P,IAAI,CAAC1E,IAAI,CAAC,UAAS5E,IAAI,EAAE;IACvB,IAAIA,IAAI,KAAKsJ,IAAI,EAAE;MAAA;MACjB8P,KAAK,CAAC9rC,IAAI,CAAC;QAACsB,MAAM,EAAEoxB,IAAI,CAAC5lB,MAAM;QAAE9H,MAAM,EAAE0tB;MAAI,CAAC,CAAC;IACrD;EACA,CAAG,CAAC;EACF,OAAOoZ,KAAK;AACd;ACRe,uBAAS,GAAG;EACzB,IAAIpZ,IAAI,GAAG,IAAI;IAAEyR,OAAO;IAAExnC,IAAI,GAAG,CAAC+1B,IAAI,CAAC;IAAEc,QAAQ;IAAEhrB,CAAC;IAAE1P,CAAC;EACvD,GAAG;IACDqrC,OAAO,GAAGxnC,IAAI,CAAC0N,OAAO,EAAE,EAAE1N,IAAI,GAAG,EAAE;IACnC,OAAO+1B,IAAI,GAAGyR,OAAO,CAACqG,GAAG,EAAE,EAAE;MAC3B,MAAM9X,IAAI;MACV,IAAIc,QAAQ,GAAGd,IAAI,CAACc,QAAQ,EAAE;QAC5B,KAAKhrB,CAAC,GAAG,CAAC,EAAE1P,CAAC,GAAG06B,QAAQ,CAACl7B,MAAM,EAAEkQ,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;UAC3C7L,IAAI,CAACqD,IAAI,CAACwzB,QAAQ,CAAChrB,CAAC,CAAC,CAAC;QAChC;MACA;IACA;EACA,CAAG,QAAQ7L,IAAI,CAACrE,MAAM;AACtB;ACCe,SAASyzC,SAAS,CAAC5kC,IAAI,EAAEqsB,QAAQ,EAAE;EAChD,IAAIrsB,IAAI,YAAY8B,GAAG,EAAE;IACvB9B,IAAI,GAAG,CAAC9H,SAAS,EAAE8H,IAAI,CAAC;IACxB,IAAIqsB,QAAQ,KAAKn0B,SAAS,EAAEm0B,QAAQ,GAAGwY,WAAW;EACtD,CAAG,MAAM,IAAIxY,QAAQ,KAAKn0B,SAAS,EAAE;IACjCm0B,QAAQ,GAAGyY,cAAc;EAC7B;EAEE,IAAIjQ,IAAI,GAAG,IAAIkQ,IAAI,CAAC/kC,IAAI,CAAC;IACrBurB,IAAI;IACJuK,KAAK,GAAG,CAACjB,IAAI,CAAC;IACd3H,KAAK;IACL8X,MAAM;IACN3jC,CAAC;IACD1P,CAAC;EAEL,OAAO45B,IAAI,GAAGuK,KAAK,CAACuN,GAAG,EAAE,EAAE;IACzB,IAAI,CAAC2B,MAAM,GAAG3Y,QAAQ,CAACd,IAAI,CAACvrB,IAAI,CAAC,MAAMrO,CAAC,GAAG,CAACqzC,MAAM,GAAG7xC,KAAK,CAAC0R,IAAI,CAACmgC,MAAM,CAAC,EAAE7zC,MAAM,CAAC,EAAE;MAChFo6B,IAAI,CAACc,QAAQ,GAAG2Y,MAAM;MACtB,KAAK3jC,CAAC,GAAG1P,CAAC,GAAG,CAAC,EAAE0P,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAE;QAC3By0B,KAAK,CAACj9B,IAAI,CAACq0B,KAAK,GAAG8X,MAAM,CAAC3jC,CAAC,CAAC,GAAG,IAAI0jC,IAAI,CAACC,MAAM,CAAC3jC,CAAC,CAAC,CAAC,CAAC;QACnD6rB,KAAK,CAACvnB,MAAM,GAAG4lB,IAAI;QACnB2B,KAAK,CAAC+X,KAAK,GAAG1Z,IAAI,CAAC0Z,KAAK,GAAG,CAAC;MACpC;IACA;EACA;EAEE,OAAOpQ,IAAI,CAACuP,UAAU,CAACc,aAAa,CAAC;AACvC;AAEA,SAASC,SAAS,GAAG;EACnB,OAAOP,SAAS,CAAC,IAAI,CAAC,CAACR,UAAU,CAACgB,QAAQ,CAAC;AAC7C;AAEA,SAASN,cAAc,CAACnpC,CAAC,EAAE;EACzB,OAAOA,CAAC,CAAC0wB,QAAQ;AACnB;AAEA,SAASwY,WAAW,CAAClpC,CAAC,EAAE;EACtB,OAAOxI,KAAK,CAACC,OAAO,CAACuI,CAAC,CAAC,GAAGA,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI;AACvC;AAEA,SAASypC,QAAQ,CAAC7Z,IAAI,EAAE;EACtB,IAAIA,IAAI,CAACvrB,IAAI,CAACtK,KAAK,KAAKwC,SAAS,EAAEqzB,IAAI,CAAC71B,KAAK,GAAG61B,IAAI,CAACvrB,IAAI,CAACtK,KAAK;EAC/D61B,IAAI,CAACvrB,IAAI,GAAGurB,IAAI,CAACvrB,IAAI,CAACA,IAAI;AAC5B;AAEO,SAASklC,aAAa,CAAC3Z,IAAI,EAAE;EAClC,IAAI/N,MAAM,GAAG,CAAC;EACd,GAAG+N,IAAI,CAAC/N,MAAM,GAAGA,MAAM,CAAC,QACjB,CAAC+N,IAAI,GAAGA,IAAI,CAAC5lB,MAAM,KAAM4lB,IAAI,CAAC/N,MAAM,GAAG,EAAEA,MAAO;AACzD;AAEO,SAASunB,IAAI,CAAC/kC,IAAI,EAAE;EACzB,IAAI,CAACA,IAAI,GAAGA,IAAI;EAChB,IAAI,CAACilC,KAAK,GACV,IAAI,CAACznB,MAAM,GAAG,CAAC;EACf,IAAI,CAAC7X,MAAM,GAAG,IAAI;AACpB;AAEAo/B,IAAI,CAACvxC,SAAS,GAAGoxC,SAAS,CAACpxC,SAAS,GAAG;EACrCuG,WAAW,EAAEgrC,IAAI;EACjB9hC,KAAK,EAAEoiC,UAAU;EACjBlV,IAAI,EAAEmV,SAAS;EACfnB,SAAS,EAAEoB,cAAc;EACzBnB,UAAU,EAAEoB,eAAe;EAC3BrZ,IAAI,EAAEsZ,SAAS;EACf5f,GAAG,EAAE6f,QAAQ;EACbvoC,IAAI,EAAEwoC,SAAS;EACfznB,IAAI,EAAE0nB,SAAS;EACfpB,SAAS,EAAEqB,cAAc;EACzBC,WAAW,EAAEC,gBAAgB;EAC7BrB,MAAM,EAAEsB,WAAW;EACnBrB,KAAK,EAAEsB,UAAU;EACjBnhC,IAAI,EAAEqgC,SAAS;EACf,CAACrvC,MAAM,CAACC,QAAQ,GAAGmwC;AACrB,CAAC;AC1FM,SAASC,QAAQ,CAACrxC,CAAC,EAAE;EAC1B,OAAOA,CAAC,IAAI,IAAI,GAAG,IAAI,GAAGyoC,QAAQ,CAACzoC,CAAC,CAAC;AACvC;AAEO,SAASyoC,QAAQ,CAACzoC,CAAC,EAAE;EAC1B,IAAI,OAAOA,CAAC,KAAK,UAAU,EAAE,MAAM,IAAIxC,KAAK;EAC5C,OAAOwC,CAAC;AACV;ACPO,SAASsxC,YAAY,GAAG;EAC7B,OAAO,CAAC;AACV;AAEe,iBAAQ,CAAC3xC,CAAC,EAAE;EACzB,OAAO,YAAW;IAChB,OAAOA,CAAC;EACZ,CAAG;AACH;ACRe,kBAAQ,CAAC82B,IAAI,EAAE;EAC5BA,IAAI,CAAC9P,EAAE,GAAG1c,IAAI,CAACuE,KAAK,CAACioB,IAAI,CAAC9P,EAAE,CAAC;EAC7B8P,IAAI,CAAC3M,EAAE,GAAG7f,IAAI,CAACuE,KAAK,CAACioB,IAAI,CAAC3M,EAAE,CAAC;EAC7B2M,IAAI,CAAC7P,EAAE,GAAG3c,IAAI,CAACuE,KAAK,CAACioB,IAAI,CAAC7P,EAAE,CAAC;EAC7B6P,IAAI,CAAChN,EAAE,GAAGxf,IAAI,CAACuE,KAAK,CAACioB,IAAI,CAAChN,EAAE,CAAC;AAC/B;ACLe,oBAAQ,CAAC5Y,MAAM,EAAE8V,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAE6C,EAAE,EAAE;EAC9C,IAAIuX,KAAK,GAAGnwB,MAAM,CAAC0mB,QAAQ;IACvBd,IAAI;IACJlqB,CAAC,GAAG,CAAC,CAAC;IACN1P,CAAC,GAAGmkC,KAAK,CAAC3kC,MAAM;IAChB+L,CAAC,GAAGyI,MAAM,CAACjQ,KAAK,IAAI,CAACgmB,EAAE,GAAGD,EAAE,IAAI9V,MAAM,CAACjQ,KAAK;EAEhD,OAAO,EAAE2L,CAAC,GAAG1P,CAAC,EAAE;IACd45B,IAAI,GAAGuK,KAAK,CAACz0B,CAAC,CAAC,EAAEkqB,IAAI,CAAC3M,EAAE,GAAGA,EAAE,EAAE2M,IAAI,CAAChN,EAAE,GAAGA,EAAE;IAC3CgN,IAAI,CAAC9P,EAAE,GAAGA,EAAE,EAAE8P,IAAI,CAAC7P,EAAE,GAAGD,EAAE,IAAI8P,IAAI,CAAC71B,KAAK,GAAGwH,CAAC;EAChD;AACA;ACRA,IAAImpC,OAAO,GAAG;IAACpB,KAAK,EAAE,CAAC;EAAC,CAAC;EACrBqB,SAAS,GAAG,EAAE;EACdC,OAAO,GAAG,EAAE;AAEhB,SAASC,SAAS,CAAC7qC,CAAC,EAAE;EACpB,OAAOA,CAAC,CAAC0tB,EAAE;AACb;AAEA,SAASod,eAAe,CAAC9qC,CAAC,EAAE;EAC1B,OAAOA,CAAC,CAAC+qC,QAAQ;AACnB;AAEe,iBAAQ,GAAG;EACxB,IAAIrd,EAAE,GAAGmd,SAAS;IACdE,QAAQ,GAAGD,eAAe;IAC1BvoB,IAAI;EAER,SAASyoB,QAAQ,CAAC3mC,IAAI,EAAE;IACtB,IAAI81B,KAAK,GAAG3iC,KAAK,CAAC0R,IAAI,CAAC7E,IAAI,CAAC;MACxB4mC,SAAS,GAAGvd,EAAE;MACdwd,eAAe,GAAGH,QAAQ;MAC1B/0C,CAAC;MACDgK,CAAC;MACD0F,CAAC;MACDwzB,IAAI;MACJlvB,MAAM;MACN4lB,IAAI;MACJub,MAAM;MACNC,OAAO;MACPC,SAAS,GAAG,IAAIllC,GAAG;IAEvB,IAAIoc,IAAI,IAAI,IAAI,EAAE;MAChB,MAAM+oB,CAAC,GAAGnR,KAAK,CAAC1+B,GAAG,CAAC,CAACuE,CAAC,EAAE0F,CAAC,KAAKmV,SAAS,CAAC0H,IAAI,CAACviB,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC,CAAC,CAAC;MAC1D,MAAMknC,CAAC,GAAGD,CAAC,CAAC7vC,GAAG,CAAC+vC,QAAQ,CAAC;MACzB,MAAMC,CAAC,GAAG,IAAIzqB,GAAG,CAACsqB,CAAC,CAAC,CAAC1V,GAAG,CAAC,EAAE,CAAC;MAC5B,KAAK,MAAMlwB,CAAC,IAAI6lC,CAAC,EAAE;QACjB,IAAI,CAACE,CAAC,CAAC9kC,GAAG,CAACjB,CAAC,CAAC,EAAE;UACb+lC,CAAC,CAAC7V,GAAG,CAAClwB,CAAC,CAAC;UACR4lC,CAAC,CAACpuC,IAAI,CAACwI,CAAC,CAAC;UACT6lC,CAAC,CAACruC,IAAI,CAACsuC,QAAQ,CAAC9lC,CAAC,CAAC,CAAC;UACnBy0B,KAAK,CAACj9B,IAAI,CAAC0tC,OAAO,CAAC;QAC7B;MACA;MACMK,SAAS,GAAG,CAAChiC,CAAC,EAAEvD,CAAC,KAAK4lC,CAAC,CAAC5lC,CAAC,CAAC;MAC1BwlC,eAAe,GAAG,CAACjiC,CAAC,EAAEvD,CAAC,KAAK6lC,CAAC,CAAC7lC,CAAC,CAAC;IACtC;IAEI,KAAKA,CAAC,GAAG,CAAC,EAAE1P,CAAC,GAAGmkC,KAAK,CAAC3kC,MAAM,EAAEkQ,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACxC1F,CAAC,GAAGm6B,KAAK,CAACz0B,CAAC,CAAC,EAAEkqB,IAAI,GAAGuK,KAAK,CAACz0B,CAAC,CAAC,GAAG,IAAI0jC,IAAI,CAACppC,CAAC,CAAC;MAC3C,IAAI,CAACmrC,MAAM,GAAGF,SAAS,CAACjrC,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC,KAAK,IAAI,KAAK8mC,MAAM,IAAI,EAAE,CAAC,EAAE;QAC9DC,OAAO,GAAGxb,IAAI,CAAClC,EAAE,GAAGyd,MAAM;QAC1BE,SAAS,CAAC7kC,GAAG,CAAC4kC,OAAO,EAAEC,SAAS,CAAC1kC,GAAG,CAACykC,OAAO,CAAC,GAAGT,SAAS,GAAG/a,IAAI,CAAC;MACzE;MACM,IAAI,CAACub,MAAM,GAAGD,eAAe,CAAClrC,CAAC,EAAE0F,CAAC,EAAErB,IAAI,CAAC,KAAK,IAAI,KAAK8mC,MAAM,IAAI,EAAE,CAAC,EAAE;QACpEvb,IAAI,CAAC5lB,MAAM,GAAGmhC,MAAM;MAC5B;IACA;IAEI,KAAKzlC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG1P,CAAC,EAAE,EAAE0P,CAAC,EAAE;MACtBkqB,IAAI,GAAGuK,KAAK,CAACz0B,CAAC,CAAC;MACf,IAAIylC,MAAM,GAAGvb,IAAI,CAAC5lB,MAAM,EAAE;QACxBA,MAAM,GAAGqhC,SAAS,CAAC5kC,GAAG,CAAC0kC,MAAM,CAAC;QAC9B,IAAI,CAACnhC,MAAM,EAAE,MAAM,IAAIrT,KAAK,CAAC,WAAW,GAAGw0C,MAAM,CAAC;QAClD,IAAInhC,MAAM,KAAK2gC,SAAS,EAAE,MAAM,IAAIh0C,KAAK,CAAC,aAAa,GAAGw0C,MAAM,CAAC;QACjE,IAAInhC,MAAM,CAAC0mB,QAAQ,EAAE1mB,MAAM,CAAC0mB,QAAQ,CAACxzB,IAAI,CAAC0yB,IAAI,CAAC,CAAC,KAC3C5lB,MAAM,CAAC0mB,QAAQ,GAAG,CAACd,IAAI,CAAC;QAC7BA,IAAI,CAAC5lB,MAAM,GAAGA,MAAM;MAC5B,CAAO,MAAM;QACL,IAAIkvB,IAAI,EAAE,MAAM,IAAIviC,KAAK,CAAC,gBAAgB,CAAC;QAC3CuiC,IAAI,GAAGtJ,IAAI;MACnB;IACA;IAEI,IAAI,CAACsJ,IAAI,EAAE,MAAM,IAAIviC,KAAK,CAAC,SAAS,CAAC;;IAEzC;IACA;IACI,IAAI4rB,IAAI,IAAI,IAAI,EAAE;MAChB,OAAO2W,IAAI,CAAC70B,IAAI,KAAKumC,OAAO,IAAI1R,IAAI,CAACxI,QAAQ,CAACl7B,MAAM,KAAK,CAAC,EAAE;QAC1D0jC,IAAI,GAAGA,IAAI,CAACxI,QAAQ,CAAC,CAAC,CAAC,EAAE,EAAE16B,CAAC;MACpC;MACM,KAAK,IAAI0P,CAAC,GAAGy0B,KAAK,CAAC3kC,MAAM,GAAG,CAAC,EAAEkQ,CAAC,IAAI,CAAC,EAAE,EAAEA,CAAC,EAAE;QAC1CkqB,IAAI,GAAGuK,KAAK,CAACz0B,CAAC,CAAC;QACf,IAAIkqB,IAAI,CAACvrB,IAAI,KAAKumC,OAAO,EAAE;QAC3Bhb,IAAI,CAACvrB,IAAI,GAAG,IAAI;MACxB;IACA;IAEI60B,IAAI,CAAClvB,MAAM,GAAG0gC,OAAO;IACrBxR,IAAI,CAACuP,UAAU,CAAC,UAAS7Y,IAAI,EAAE;MAAEA,IAAI,CAAC0Z,KAAK,GAAG1Z,IAAI,CAAC5lB,MAAM,CAACs/B,KAAK,GAAG,CAAC;MAAE,EAAEtzC,CAAC;IAAC,CAAE,CAAC,CAACyyC,UAAU,CAACc,aAAa,CAAC;IACtGrQ,IAAI,CAAClvB,MAAM,GAAG,IAAI;IAClB,IAAIhU,CAAC,GAAG,CAAC,EAAE,MAAM,IAAIW,KAAK,CAAC,OAAO,CAAC;IAEnC,OAAOuiC,IAAI;EACf;EAEE8R,QAAQ,CAACtd,EAAE,GAAG,UAAS50B,CAAC,EAAE;IACxB,OAAOvD,SAAS,CAACC,MAAM,IAAIk4B,EAAE,GAAG8c,QAAQ,CAAC1xC,CAAC,CAAC,EAAEkyC,QAAQ,IAAItd,EAAE;EAC/D,CAAG;EAEDsd,QAAQ,CAACD,QAAQ,GAAG,UAASjyC,CAAC,EAAE;IAC9B,OAAOvD,SAAS,CAACC,MAAM,IAAIu1C,QAAQ,GAAGP,QAAQ,CAAC1xC,CAAC,CAAC,EAAEkyC,QAAQ,IAAID,QAAQ;EAC3E,CAAG;EAEDC,QAAQ,CAACzoB,IAAI,GAAG,UAASzpB,CAAC,EAAE;IAC1B,OAAOvD,SAAS,CAACC,MAAM,IAAI+sB,IAAI,GAAGioB,QAAQ,CAAC1xC,CAAC,CAAC,EAAEkyC,QAAQ,IAAIzoB,IAAI;EACnE,CAAG;EAED,OAAOyoB,QAAQ;AACjB;;AAEA;AACA;AACA;AACA,SAASnwB,SAAS,CAAC0H,IAAI,EAAE;EACvBA,IAAI,GAAI,GAAEA,IAAK,EAAC;EAChB,IAAI7c,CAAC,GAAG6c,IAAI,CAAC/sB,MAAM;EACnB,IAAIk2C,KAAK,CAACnpB,IAAI,EAAE7c,CAAC,GAAG,CAAC,CAAC,IAAI,CAACgmC,KAAK,CAACnpB,IAAI,EAAE7c,CAAC,GAAG,CAAC,CAAC,EAAE6c,IAAI,GAAGA,IAAI,CAACjqB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EACvE,OAAOiqB,IAAI,CAAC,CAAC,CAAC,KAAK,GAAG,GAAGA,IAAI,GAAI,IAAGA,IAAK,EAAC;AAC5C;;AAEA;AACA;AACA;AACA,SAASipB,QAAQ,CAACjpB,IAAI,EAAE;EACtB,IAAI7c,CAAC,GAAG6c,IAAI,CAAC/sB,MAAM;EACnB,IAAIkQ,CAAC,GAAG,CAAC,EAAE,OAAO,EAAE;EACpB,OAAO,EAAEA,CAAC,GAAG,CAAC,EAAE,IAAIgmC,KAAK,CAACnpB,IAAI,EAAE7c,CAAC,CAAC,EAAE;EACpC,OAAO6c,IAAI,CAACjqB,KAAK,CAAC,CAAC,EAAEoN,CAAC,CAAC;AACzB;;AAEA;AACA;AACA;AACA,SAASgmC,KAAK,CAACnpB,IAAI,EAAE7c,CAAC,EAAE;EACtB,IAAI6c,IAAI,CAAC7c,CAAC,CAAC,KAAK,GAAG,EAAE;IACnB,IAAInE,CAAC,GAAG,CAAC;IACT,OAAOmE,CAAC,GAAG,CAAC,IAAI6c,IAAI,CAAC,EAAE7c,CAAC,CAAC,KAAK,IAAI,EAAE,EAAEnE,CAAC;IACvC,IAAI,CAACA,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,OAAO,IAAI;EAClC;EACE,OAAO,KAAK;AACd;AChJe,qBAAQ,CAACyI,MAAM,EAAE8V,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAE6C,EAAE,EAAE;EAC9C,IAAIuX,KAAK,GAAGnwB,MAAM,CAAC0mB,QAAQ;IACvBd,IAAI;IACJlqB,CAAC,GAAG,CAAC,CAAC;IACN1P,CAAC,GAAGmkC,KAAK,CAAC3kC,MAAM;IAChB+L,CAAC,GAAGyI,MAAM,CAACjQ,KAAK,IAAI,CAAC6oB,EAAE,GAAGK,EAAE,IAAIjZ,MAAM,CAACjQ,KAAK;EAEhD,OAAO,EAAE2L,CAAC,GAAG1P,CAAC,EAAE;IACd45B,IAAI,GAAGuK,KAAK,CAACz0B,CAAC,CAAC,EAAEkqB,IAAI,CAAC9P,EAAE,GAAGA,EAAE,EAAE8P,IAAI,CAAC7P,EAAE,GAAGA,EAAE;IAC3C6P,IAAI,CAAC3M,EAAE,GAAGA,EAAE,EAAE2M,IAAI,CAAChN,EAAE,GAAGK,EAAE,IAAI2M,IAAI,CAAC71B,KAAK,GAAGwH,CAAC;EAChD;AACA;ACRO,IAAIoqC,GAAG,GAAG,CAAC,CAAC,GAAGvoC,IAAI,CAAC4D,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;AAEhC,SAAS4kC,aAAa,CAACC,KAAK,EAAE7hC,MAAM,EAAE8V,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAE6C,EAAE,EAAE;EAC3D,IAAIkpB,IAAI,GAAG,EAAE;IACT3R,KAAK,GAAGnwB,MAAM,CAAC0mB,QAAQ;IACvBqb,GAAG;IACHC,SAAS;IACT7uB,EAAE,GAAG,CAAC;IACNC,EAAE,GAAG,CAAC;IACNpnB,CAAC,GAAGmkC,KAAK,CAAC3kC,MAAM;IAChB0uB,EAAE;IAAEC,EAAE;IACNpqB,KAAK,GAAGiQ,MAAM,CAACjQ,KAAK;IACpBkyC,QAAQ;IACRC,QAAQ;IACRC,QAAQ;IACRC,QAAQ;IACRC,QAAQ;IACRC,KAAK;IACLC,IAAI;EAER,OAAOpvB,EAAE,GAAGnnB,CAAC,EAAE;IACbkuB,EAAE,GAAGnE,EAAE,GAAGD,EAAE,EAAEqE,EAAE,GAAGvB,EAAE,GAAGK,EAAE;;IAE9B;IACI,GAAGgpB,QAAQ,GAAG9R,KAAK,CAAC/c,EAAE,EAAE,CAAC,CAACrjB,KAAK,CAAC,QAAQ,CAACkyC,QAAQ,IAAI7uB,EAAE,GAAGpnB,CAAC;IAC3Dk2C,QAAQ,GAAGC,QAAQ,GAAGF,QAAQ;IAC9BK,KAAK,GAAGlpC,IAAI,CAAC6C,GAAG,CAACke,EAAE,GAAGD,EAAE,EAAEA,EAAE,GAAGC,EAAE,CAAC,IAAIpqB,KAAK,GAAG8xC,KAAK,CAAC;IACpDU,IAAI,GAAGN,QAAQ,GAAGA,QAAQ,GAAGK,KAAK;IAClCD,QAAQ,GAAGjpC,IAAI,CAAC6C,GAAG,CAACkmC,QAAQ,GAAGI,IAAI,EAAEA,IAAI,GAAGL,QAAQ,CAAC;;IAEzD;IACI,OAAO9uB,EAAE,GAAGpnB,CAAC,EAAE,EAAEonB,EAAE,EAAE;MACnB6uB,QAAQ,IAAID,SAAS,GAAG7R,KAAK,CAAC/c,EAAE,CAAC,CAACrjB,KAAK;MACvC,IAAIiyC,SAAS,GAAGE,QAAQ,EAAEA,QAAQ,GAAGF,SAAS;MAC9C,IAAIA,SAAS,GAAGG,QAAQ,EAAEA,QAAQ,GAAGH,SAAS;MAC9CO,IAAI,GAAGN,QAAQ,GAAGA,QAAQ,GAAGK,KAAK;MAClCF,QAAQ,GAAGhpC,IAAI,CAAC6C,GAAG,CAACkmC,QAAQ,GAAGI,IAAI,EAAEA,IAAI,GAAGL,QAAQ,CAAC;MACrD,IAAIE,QAAQ,GAAGC,QAAQ,EAAE;QAAEJ,QAAQ,IAAID,SAAS;QAAE;MAAM;MACxDK,QAAQ,GAAGD,QAAQ;IACzB;;IAEA;IACIN,IAAI,CAAC5uC,IAAI,CAAC6uC,GAAG,GAAG;MAAChyC,KAAK,EAAEkyC,QAAQ;MAAEO,IAAI,EAAEtoB,EAAE,GAAGC,EAAE;MAAEuM,QAAQ,EAAEyJ,KAAK,CAAC7hC,KAAK,CAAC6kB,EAAE,EAAEC,EAAE;IAAC,CAAC,CAAC;IAChF,IAAI2uB,GAAG,CAACS,IAAI,EAAEC,WAAW,CAACV,GAAG,EAAEjsB,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAEhmB,KAAK,GAAGkpB,EAAE,IAAIkB,EAAE,GAAG8nB,QAAQ,GAAGlyC,KAAK,GAAG6oB,EAAE,CAAC,CAAC,KAChF8pB,YAAY,CAACX,GAAG,EAAEjsB,EAAE,EAAEmD,EAAE,EAAElpB,KAAK,GAAG+lB,EAAE,IAAIoE,EAAE,GAAG+nB,QAAQ,GAAGlyC,KAAK,GAAGgmB,EAAE,EAAE6C,EAAE,CAAC;IAC5E7oB,KAAK,IAAIkyC,QAAQ,EAAE9uB,EAAE,GAAGC,EAAE;EAC9B;EAEE,OAAO0uB,IAAI;AACb;AAEA,eAAgB,SAASa,MAAM,CAACd,KAAK,EAAE;EAErC,SAASe,QAAQ,CAAC5iC,MAAM,EAAE8V,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAE6C,EAAE,EAAE;IACxCgpB,aAAa,CAACC,KAAK,EAAE7hC,MAAM,EAAE8V,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAE6C,EAAE,CAAC;EAChD;EAEEgqB,QAAQ,CAACf,KAAK,GAAG,UAAS/yC,CAAC,EAAE;IAC3B,OAAO6zC,MAAM,CAAC,CAAC7zC,CAAC,GAAG,CAACA,CAAC,IAAI,CAAC,GAAGA,CAAC,GAAG,CAAC,CAAC;EACvC,CAAG;EAED,OAAO8zC,QAAQ;AACjB,CAAC,CAAEjB,GAAG,CAAC;AC5DQ,gBAAQ,GAAG;EACxB,IAAIkB,IAAI,GAAGD,QAAQ;IACfjlC,KAAK,GAAG,KAAK;IACbuc,EAAE,GAAG,CAAC;IACNC,EAAE,GAAG,CAAC;IACN2oB,YAAY,GAAG,CAAC,CAAC,CAAC;IAClBvjC,YAAY,GAAGkhC,YAAY;IAC3BsC,UAAU,GAAGtC,YAAY;IACzBuC,YAAY,GAAGvC,YAAY;IAC3BwC,aAAa,GAAGxC,YAAY;IAC5ByC,WAAW,GAAGzC,YAAY;EAE9B,SAAS0C,OAAO,CAACjU,IAAI,EAAE;IACrBA,IAAI,CAACpZ,EAAE,GACPoZ,IAAI,CAACjW,EAAE,GAAG,CAAC;IACXiW,IAAI,CAACnZ,EAAE,GAAGmE,EAAE;IACZgV,IAAI,CAACtW,EAAE,GAAGuB,EAAE;IACZ+U,IAAI,CAACuP,UAAU,CAAC2E,YAAY,CAAC;IAC7BN,YAAY,GAAG,CAAC,CAAC,CAAC;IAClB,IAAInlC,KAAK,EAAEuxB,IAAI,CAACuP,UAAU,CAAC4E,SAAS,CAAC;IACrC,OAAOnU,IAAI;EACf;EAEE,SAASkU,YAAY,CAACxd,IAAI,EAAE;IAC1B,IAAI3zB,CAAC,GAAG6wC,YAAY,CAACld,IAAI,CAAC0Z,KAAK,CAAC;MAC5BxpB,EAAE,GAAG8P,IAAI,CAAC9P,EAAE,GAAG7jB,CAAC;MAChBgnB,EAAE,GAAG2M,IAAI,CAAC3M,EAAE,GAAGhnB,CAAC;MAChB8jB,EAAE,GAAG6P,IAAI,CAAC7P,EAAE,GAAG9jB,CAAC;MAChB2mB,EAAE,GAAGgN,IAAI,CAAChN,EAAE,GAAG3mB,CAAC;IACpB,IAAI8jB,EAAE,GAAGD,EAAE,EAAEA,EAAE,GAAGC,EAAE,GAAG,CAACD,EAAE,GAAGC,EAAE,IAAI,CAAC;IACpC,IAAI6C,EAAE,GAAGK,EAAE,EAAEA,EAAE,GAAGL,EAAE,GAAG,CAACK,EAAE,GAAGL,EAAE,IAAI,CAAC;IACpCgN,IAAI,CAAC9P,EAAE,GAAGA,EAAE;IACZ8P,IAAI,CAAC3M,EAAE,GAAGA,EAAE;IACZ2M,IAAI,CAAC7P,EAAE,GAAGA,EAAE;IACZ6P,IAAI,CAAChN,EAAE,GAAGA,EAAE;IACZ,IAAIgN,IAAI,CAACc,QAAQ,EAAE;MACjBz0B,CAAC,GAAG6wC,YAAY,CAACld,IAAI,CAAC0Z,KAAK,GAAG,CAAC,CAAC,GAAG//B,YAAY,CAACqmB,IAAI,CAAC,GAAG,CAAC;MACzD9P,EAAE,IAAIotB,WAAW,CAACtd,IAAI,CAAC,GAAG3zB,CAAC;MAC3BgnB,EAAE,IAAI8pB,UAAU,CAACnd,IAAI,CAAC,GAAG3zB,CAAC;MAC1B8jB,EAAE,IAAIitB,YAAY,CAACpd,IAAI,CAAC,GAAG3zB,CAAC;MAC5B2mB,EAAE,IAAIqqB,aAAa,CAACrd,IAAI,CAAC,GAAG3zB,CAAC;MAC7B,IAAI8jB,EAAE,GAAGD,EAAE,EAAEA,EAAE,GAAGC,EAAE,GAAG,CAACD,EAAE,GAAGC,EAAE,IAAI,CAAC;MACpC,IAAI6C,EAAE,GAAGK,EAAE,EAAEA,EAAE,GAAGL,EAAE,GAAG,CAACK,EAAE,GAAGL,EAAE,IAAI,CAAC;MACpCiqB,IAAI,CAACjd,IAAI,EAAE9P,EAAE,EAAEmD,EAAE,EAAElD,EAAE,EAAE6C,EAAE,CAAC;IAChC;EACA;EAEEuqB,OAAO,CAACxlC,KAAK,GAAG,UAAS7O,CAAC,EAAE;IAC1B,OAAOvD,SAAS,CAACC,MAAM,IAAImS,KAAK,GAAG,CAAC,CAAC7O,CAAC,EAAEq0C,OAAO,IAAIxlC,KAAK;EAC5D,CAAG;EAEDwlC,OAAO,CAACruC,IAAI,GAAG,UAAShG,CAAC,EAAE;IACzB,OAAOvD,SAAS,CAACC,MAAM,IAAI0uB,EAAE,GAAG,CAACprB,CAAC,CAAC,CAAC,CAAC,EAAEqrB,EAAE,GAAG,CAACrrB,CAAC,CAAC,CAAC,CAAC,EAAEq0C,OAAO,IAAI,CAACjpB,EAAE,EAAEC,EAAE,CAAC;EAC1E,CAAG;EAEDgpB,OAAO,CAACN,IAAI,GAAG,UAAS/zC,CAAC,EAAE;IACzB,OAAOvD,SAAS,CAACC,MAAM,IAAIq3C,IAAI,GAAGjL,QAAQ,CAAC9oC,CAAC,CAAC,EAAEq0C,OAAO,IAAIN,IAAI;EAClE,CAAG;EAEDM,OAAO,CAACtjC,OAAO,GAAG,UAAS/Q,CAAC,EAAE;IAC5B,OAAOvD,SAAS,CAACC,MAAM,GAAG23C,OAAO,CAAC5jC,YAAY,CAACzQ,CAAC,CAAC,CAAC0Q,YAAY,CAAC1Q,CAAC,CAAC,GAAGq0C,OAAO,CAAC5jC,YAAY,EAAE;EAC9F,CAAG;EAED4jC,OAAO,CAAC5jC,YAAY,GAAG,UAASzQ,CAAC,EAAE;IACjC,OAAOvD,SAAS,CAACC,MAAM,IAAI+T,YAAY,GAAG,OAAOzQ,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAGggB,QAAQ,CAAC,CAAChgB,CAAC,CAAC,EAAEq0C,OAAO,IAAI5jC,YAAY;EACjH,CAAG;EAED4jC,OAAO,CAAC3jC,YAAY,GAAG,UAAS1Q,CAAC,EAAE;IACjC,OAAOvD,SAAS,CAACC,MAAM,GAAG23C,OAAO,CAACJ,UAAU,CAACj0C,CAAC,CAAC,CAACk0C,YAAY,CAACl0C,CAAC,CAAC,CAACm0C,aAAa,CAACn0C,CAAC,CAAC,CAACo0C,WAAW,CAACp0C,CAAC,CAAC,GAAGq0C,OAAO,CAACJ,UAAU,EAAE;EAC1H,CAAG;EAEDI,OAAO,CAACJ,UAAU,GAAG,UAASj0C,CAAC,EAAE;IAC/B,OAAOvD,SAAS,CAACC,MAAM,IAAIu3C,UAAU,GAAG,OAAOj0C,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAGggB,QAAQ,CAAC,CAAChgB,CAAC,CAAC,EAAEq0C,OAAO,IAAIJ,UAAU;EAC7G,CAAG;EAEDI,OAAO,CAACH,YAAY,GAAG,UAASl0C,CAAC,EAAE;IACjC,OAAOvD,SAAS,CAACC,MAAM,IAAIw3C,YAAY,GAAG,OAAOl0C,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAGggB,QAAQ,CAAC,CAAChgB,CAAC,CAAC,EAAEq0C,OAAO,IAAIH,YAAY;EACjH,CAAG;EAEDG,OAAO,CAACF,aAAa,GAAG,UAASn0C,CAAC,EAAE;IAClC,OAAOvD,SAAS,CAACC,MAAM,IAAIy3C,aAAa,GAAG,OAAOn0C,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAGggB,QAAQ,CAAC,CAAChgB,CAAC,CAAC,EAAEq0C,OAAO,IAAIF,aAAa;EACnH,CAAG;EAEDE,OAAO,CAACD,WAAW,GAAG,UAASp0C,CAAC,EAAE;IAChC,OAAOvD,SAAS,CAACC,MAAM,IAAI03C,WAAW,GAAG,OAAOp0C,CAAC,KAAK,UAAU,GAAGA,CAAC,GAAGggB,QAAQ,CAAC,CAAChgB,CAAC,CAAC,EAAEq0C,OAAO,IAAID,WAAW;EAC/G,CAAG;EAED,OAAOC,OAAO;AAChB;ACxDA,eAAerM,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,SAAS;EACfnC,KAAK,EAAE;IACL2C,IAAI,EAAE;MACJxC,IAAI,EAAE1E,MAAoB;MAC1BmpC,OAAO,EAAE,OAAO;QAAExkB,KAAK,EAAE,GAAG;QAAEsF,MAAM,EAAE;MAAE,CAAG,CAAC;MAC5C+f,QAAQ,EAAE;IACX;IACDvV,MAAM,EAAE;MACN/vB,IAAI,EAAE1E,MAAsB;MAC5BmpC,OAAO,EAAE,OAAO;QAAEzU,GAAG,EAAE,CAAC;QAAE9mB,KAAK,EAAE,CAAC;QAAE+mB,MAAM,EAAE,CAAC;QAAEv1B,IAAI,EAAE;MAAA,CAAG;IACzD;IACD6S,OAAO,EAAE;MACPvN,IAAI,EAAEX,MAAM;MACZolC,OAAO,EAAE;IACV;IACD18B,IAAI,EAAE;MACJ/H,IAAI,EAAE9E,KAAoB;MAC1BupC,OAAO,EAAE,MAAO;IACjB;IACDjT,QAAQ,EAAE;MACRxxB,IAAI,EAAE1E,MAAgC;MACtCgqC,QAAQ,EAAE;IACX;IACD0L,OAAO,EAAE;MACPhxC,IAAI,EAAEopC,QAAQ;MACd3E,OAAO,EAAE,MAAMwM,cAAc,CAAC,SAAS,EAAE,SAAS;IACnD;IACDC,OAAO,EAAE;MACPlxC,IAAI,EAAEopC,QAAQ;MACd9D,QAAQ,EAAE;IACZ;EACD;EACDT,KAAK,CAAChlC,KAAK;IACT,MAAMgkC,EAAG,GAAEnT,GAAG,CAAC,IAAI;IACnB,MAAM3oB,IAAK,GAAE2oB,GAAG,CAAC7wB,KAAK,CAACkI,IAAI;IAC3B,MAAMopC,QAAS,GAAEzgB,GAAG,CAAC,IAAI;IACzB,MAAMrL,MAAO,GAAEqL,GAAG,CAAC;MACjBl0B,CAAC,EAAEqD,KAAK,CAACkwB,MAAM,CAACr1B,IAAI;MACpBoK,CAAC,EAAEjF,KAAK,CAACkwB,MAAM,CAACC,GAAG;MACnB/P,KAAK,EAAEpgB,KAAK,CAAC2C,IAAI,CAACyd,KAAI,GAAIpgB,KAAK,CAACkwB,MAAM,CAAC7mB,KAAK;MAC5Cqc,MAAM,EAAE1lB,KAAK,CAAC2C,IAAI,CAAC+iB,SAAS1lB,KAAK,CAACkwB,MAAM,CAACE;IAC1C;IAED,MAAMmhB,UAAW,GAAE1gB,GAAG,CAAM,EAAE;IAE9B,SAAS2gB,SAAS;MAChB,MAAMzxC,SAAS6J,MAAM,CAAC1B,IAAI,CAACtK,KAAK,CAAC0B,GAAG,CAAEuE,CAAC,IAAKA,CAAC,CAAC7D,KAAK,CAAC2xB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAoB;MAErF,MAAMh1B,IAAIwnB,MAAW,EAAC,CACnB5X,MAAM,CAACxM,MAAM,EACbqM,KAAK,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,EACdoX,IAAI,EAAC;MAER,MAAMve,IAAIwsC,UAAe,EAAC,CACvBllC,MAAM,CAACxM,MAAM,EACb0M,YAAY,CAACzM,KAAK,CAACmxC,OAAO,EAAE;MAE/B,OAAO;QAAEx0C,CAAC;QAAEsI;MAAE;;IAGhB,SAASysC,eAAe;MACtB,MAAM;QAAEzsC;MAAA,CAAI,GAAEusC,SAAS,EAAC;MACxB,MAAMpP,GAAE,GAAIuP,SAAS,CAACzpC,IAAI,CAACtK,KAAK,EAC7BgvC,MAAM,EAAC,CACPttC,GAAG,CAAC,CAACuE,CAAM,EAAE3H,GAAW,KAAK;QAC5B,OAAO;UACLA,GAAG;UACHynB,EAAE,EAAE6B,MAAM,CAAC5nB,KAAK,CAACjB,IAAIkH,CAAC,CAAC8f,EAAE;UACzBC,EAAE,EAAE4B,MAAM,CAAC5nB,KAAK,CAACjB,IAAIkH,CAAC,CAAC+f,EAAE;UACzBkD,EAAE,EAAEtB,MAAM,CAAC5nB,KAAK,CAACqH,IAAIpB,CAAC,CAACijB,EAAE;UACzBL,EAAE,EAAEjB,MAAM,CAAC5nB,KAAK,CAACqH,IAAIpB,CAAC,CAAC4iB,EAAE;UACzBrG,KAAK,EAAEvc,CAAC,CAAC+f,EAAG,GAAE/f,CAAC,CAAC8f,EAAE;UAClB+B,MAAM,EAAE7hB,CAAC,CAAC4iB,EAAG,GAAE5iB,CAAC,CAACijB,EAAE;UACnB5e,IAAI,EAAErE,CAAC,CAACqE,IAAI;UACZkQ,KAAK,EAAEnT,CAAC,CAACpB,CAAC,CAACjG,KAAK,CAAE;SACpB;MACF,CAAC;;MAEH,OAAOwkC,GAAE;;IAGX,SAASuP,SAAS,CAACzpC,IAAS;MAC1B,MAAM;QAAEvL;MAAA,CAAI,GAAE60C,SAAS,EAAC;MACxB,MAAMI,aAAY,GAAIZ,OAAO,EAAC,CAC3BruC,IAAI,CAAC,CAAC6iB,MAAM,CAAC5nB,KAAK,CAACwiB,KAAI,GAAIoF,MAAM,CAAC5nB,KAAK,CAACjB,CAAC,EAAE6oB,MAAM,CAAC5nB,KAAK,CAAC8nB,SAASF,MAAM,CAAC5nB,KAAK,CAACqH,CAAC,CAAC,EAChFyI,OAAO,CAAC1N,KAAK,CAAC0N,OAAO;MAExB,MAAMmkC,SAAShD,QAAQ,EAAC,CACrBtd,EAAE,CAAE1tB,CAAM,IAAKA,CAAC,CAAC1B,IAAI,EACrBysC,QAAQ,CAAE/qC,CAAM,IAAKA,CAAC,CAACgK,MAAM;MAEhC,MAAMikC,IAAK,GAAED,MAAM,CACjB,CAAC;QAAE1vC,IAAI,EAAE;MAAO,CAAC,CAAC,CAACU,MAAM,CACvBqF,IAAI,CAAC5I,GAAG,CAAE3C,CAAM,IAAK;QACnB,OAAO;UACLwF,IAAI,EAAExF,CAAC,CAACqD,KAAK,CAAC2xB,QAAQ,CAAC,CAAC,CAAC,CAAC;UAC1B/zB,KAAK,EAAEjB,CAAC,CAACqD,KAAK,CAAC2xB,QAAQ,CAAC,CAAC,CAAC,CAAC;UAC3B9jB,MAAM,EAAE;SACV;OACD,EACH,CACF;MAEAikC,IAAI,CAAC/jB,GAAG,CAAElqB,CAAM,IAAKlH,CAAC,CAACkH,CAAC,CAACjG,KAAK,CAAC;MAC/Bg0C,aAAa,CAACE,IAAI;MAElB,OAAOA,IAAG;;IAGZ,MAAMjJ,cAAe3gC,IAAS,IAAKD,OAAO,CAACK,QAAQ,EAAEJ,IAAI;IACzD,MAAMwgC,QAAS,GAAGviC,CAAM,IAAK;MAC3B,MAAMqyB,KAAI,GAAI;QACZoQ,MAAM,EAAEziC,CAAC,CAACiS,KAAK;QACfkxB,WAAW,EAAE,CAAC;QACd3oB,IAAI,EAAExa,CAAC,CAACiS,KAAK;QACbuwB,WAAW,EAAE;OACf;MAEA,IAAI3oC,KAAK,CAACqxC,WAAW,OAAOrxC,KAAK,CAACqxC,OAAQ,KAAI,UAAU,EAAE;QACxD,OACK51C,qCAAK,GACLuE,KAAK,CAACqxC,OAAO,CAAClrC,CAAC,EACpB;MACF;MAEA,OAAOqyB,KAAI;IACb;IAEA,SAASuZ,WAAW,CAACxoC,CAAM;;MAEzB+nC,QAAQ,CAAC1zC,QAAQ2L;;IAGnB,SAAS88B,UAAU;MACjBiL,QAAQ,CAAC1zC,KAAI,GAAI,IAAG;;IAGtB4kC,KAAK,CACHxiC,KAAK,EACL,MAAM;MACJkI,IAAI,CAACtK,KAAI,GAAIoC,KAAK,CAACkI,IAAG;MACtBsd,MAAM,CAAC5nB,KAAI,GAAI;QACbjB,CAAC,EAAEqD,KAAK,CAACkwB,MAAM,CAACr1B,IAAI;QACpBoK,CAAC,EAAEjF,KAAK,CAACkwB,MAAM,CAACC,GAAG;QACnB/P,KAAK,EAAEpgB,KAAK,CAAC2C,IAAI,CAACyd,KAAI,GAAIpgB,KAAK,CAACkwB,MAAM,CAAC7mB,KAAK;QAC5Cqc,MAAM,EAAE1lB,KAAK,CAAC2C,IAAI,CAAC+iB,SAAS1lB,KAAK,CAACkwB,MAAM,CAACE;OAC3C;MACAmhB,UAAU,CAAC3zC,KAAI,GAAI8zC,eAAe,EAAC;IACrC,CAAC,EACD;MAAEjP,SAAS,EAAE;IAAK,EACpB;IAEA,OAAO;MAAEuB,EAAE;MAAEuN,UAAU;MAAED,QAAQ;MAAE5I,QAAQ;MAAEG,WAAW;MAAEkJ,WAAW;MAAE1L;IAAW;;AAErF;;EC/LMf,KAAK,EAAC,SAAQ;EAAG9M,KAAK,EAAE;IAAyCwZ;IAAAzQ;EAAA;;;AAE/D;EAAA+D,KAAK,EAAC;AAAkB;;;;EAaZ3oC,CAAC,EAAE,CAAM;EAAGsI,CAAC,EAAE,CAAM;EAAG,WAAS,EAAQ;EAAG0b,IAAI,EAAS;EAAE,aAAW,EAAC;;;EAf1F,uCAwBK,OAxBL8lB,YAwBK,iBAvBHpB,kBAqBK;IArBCjlB,KAAK,EAAEglB,IAAI,MAAChlB,KAAK;IAAGsF,MAAM,EAAE0f,IAAI,MAAC1f,MAAM;IAAGghB,OAAO,SAAStB,IAAI,MAAChlB,KAAS,aAAI,CAACsF,MAAM;IAAImL,GAAG,EAAC;MAC/FgW,mBAmBG,KAnBHC,UAmBG,IAlBD4C,oCAiBGC,QAhBgB,kCAAU,EAAnB,EAAC,EAAEpgC,CAAC;wBADd87B,kBAiBG;MAfDC,KAAK,EAAC2M,2BAAU,EAEI;QAAAX,uBAAS,KAAI/nC;MAAA;MADhChK,GAAG,EAAEgK,CAAC;MAEN8V,SAAS,eAAelZ,CAAC,CAACwd,EAAO,MAAC,CAACmD,EAAE;MACrCorB,WAAS,QAAQ9M,IAAW,aAAC77B,CAAC;MAC9B0hC,YAAU,yCAAE7F,IAAU;QAEvB2B,UAOM;MAPC5gC,CAAC,EAAEA,CAAC;MAAGmrC,QAAQ,EAAElM,IAAS,cAAI77B;OAArC,MAOM,CANJs9B,mBAA2F,QAA3FiC,UAAc,CAA6E1D,gBAAlE,CAACA,aAAQ,CAACj/B,CAAC;MAAKxJ,CAAC,EAAE,CAAC;MAAGsI,CAAC,EAAE,CAAC;MAAGmb,KAAK,EAAEja,CAAC,CAACia,KAAK;MAAGsF,MAAM,EAAEvf,CAAC,CAACuf;gDAClFqhB,UAIM;MAJC5gC,CAAC,EAAEA,CAAC;MAAGmrC,QAAQ,EAAElM,kBAAa77B;OAArC,MAIM,CAHJs9B,mBAEM,QAFNsL,UAEM,kBADDhsC,CAAC,CAAC+B,IAAI,CAAC/F,IAAG;oEAOzB4kC,UAAsB;;;;ACN1B,aAAepC,eAAe,CAAC;EAC7BxiC,IAAI,EAAE,UAAU;EAChBnC,KAAK,EAAE;IACL6pC,QAAQ,EAAE;MACR1pC,IAAI,EAAE1E,MAAM;MACZmpC,OAAO,EAAE,OAAO;QAAE,cAAc,EAAE;MAAA,CAAM;IAC1C;EACD;EACDI,KAAK;IACH,MAAMjD,KAAI,GAAIG,QAAQ,EAAC;IACvB,MAAMQ,KAAI,GAAIkB,QAAQ,EAAC;IAEvB,MAAMsG,GAAI,GAAErZ,GAAG,CAAC;MAAEl0B,CAAC,EAAE,CAAC;MAAEsI,CAAC,EAAE,CAAC;MAAEmb,KAAK,EAAE,CAAC;MAAEsF,MAAM,EAAE;IAAA,CAAG;IACnD,MAAMD,SAAU,GAAEoL,GAAG,CAAC,YAAY;IAClC,MAAMrL,MAAO,GAAEqL,GAAG,CAAS;MAAEl0B,CAAC,EAAE,CAAC;MAAEsI,CAAC,EAAE,CAAC;MAAEmb,KAAK,EAAE,CAAC;MAAEsF,MAAM,EAAE;IAAA,CAAG;IAE9D8c,KAAK,CACHT,KAAK,CAACnR,OAAO,EACb,MAAM;MACJpL,MAAM,CAAC5nB,KAAI,GAAImkC,KAAK,CAACvc,MAAK;MAC1BC,SAAS,CAAC7nB,KAAI,GAAImkC,KAAK,CAAC/d,MAAM,CAACyB,SAAQ;IACzC,CAAC,EACD;MAAEgd,SAAS,EAAE;IAAK,EACpB;IAEAD,KAAK,CAACE,KAAK,EAAE,MAAM;MACjB,IAAIX,KAAK,CAACjR,SAAS,EAAE;QACnB,MAAM7wB,IAAK,GAAE8hC,KAAK,CAACtQ,OAAO,CAACsQ,KAAK,CAACrQ,OAAO,CAAC,CAAC,CAAC,CAAY;QACvD,MAAM,CAAC/0B,CAAC,IAAIolC,KAAK,CAACjR,SAAS,CAACxxB,GAAG,CAAC,CAACW,IAAI,CAACyiC,KAAK,CAAC97B,KAAK,CAAC,CAAC;QACnD,MAAMwZ,KAAI,GAAI2hB,KAAK,CAACjR,SAAS,CAAC3jB,SAAS,EAAC;QAExC,IAAIxQ,CAAC,EAAE;UACL,IAAIolC,KAAK,CAAC/d,MAAM,CAACyB,SAAQ,KAAM,YAAY,EAAE;YAC3CykB,GAAG,CAACtsC,QAAQ;cACVjB,CAAC,EAAEA,IAAIyjB,KAAM,GAAE,CAAC;cAChBnb,CAAC,EAAE,CAAC;cACJmb,KAAK;cACLsF,MAAM,EAAEF,MAAM,CAAC5nB,KAAK,CAAC8nB;aACvB;UACA,OAAK;YACLwkB,GAAG,CAACtsC,QAAQ;cACVjB,CAAC,EAAE,EAAE;cACLsI,CAAC,EAAEtI,IAAIyjB,KAAM,GAAE,CAAC;cAChBA,KAAK,EAAEoF,MAAM,CAAC5nB,KAAK,CAACwiB,KAAI,GAAI,EAAE;cAC9BsF,MAAM,EAAEtF;aACV;UACF;QACF;MACF;IACF,CAAC;IACD,OAAO;MAAE8pB,GAAG;MAAE1kB,MAAM;MAAEC,SAAS;MAAEid;IAAM;;AAE1C;;;ECrEI4C,KAAK,EAAC;;;;EAAwB,iBAAK,CAAC3C,KAAK,IAA5C+G,gCASG,KATHjD,UASG,GARDI,mBAOC,QAPDiC,UAOC;IANCxD,KAAK,EAAC;EAAU,GACRF,IAAQ;IACfzoC,CAAC,EAAEyoC,IAAG,KAACzoC,CAAC;IACRsI,CAAC,EAAEmgC,IAAG,KAACngC,CAAC;IACRmb,KAAK,EAAEglB,IAAG,KAAChlB,KAAI,GAAQ,YAAG,CAACA,KAAI;IAC/BsF,MAAM,EAAE0f,IAAG,KAAC1f,MAAK,GAAQ,YAAG,CAACA,MAAK;;;;;;;;;;;;;;;;;;;;;;ACNzC;AAGA,MAAM0sB,OAAO,GAA0C,SAASC,UAAU,CAAEC,GAAQ;EAClF72C,MAAM,CAACmH,OAAO,CAAC2iC,UAAU,CAAC,CAACgN,OAAO,CAAC,CAAC,CAACC,aAAa,EAAEC,SAAS,CAAC,KAAI;IAChEH,GAAG,CAACG,SAAS,CAACD,aAAa,EAAEC,SAAS,CAAC;EACzC,CAAC,CAAC;AACJ,CAAC;AAED,YAAe;EAAEL;AAAO,CAAE","names":["_isPlaceholder","a","_curry1","fn","f1","arguments","length","apply","_curry2","f2","b","_b","_a","_arity","n","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","Error","_curryN","received","combined","argsIdx","left","combinedIdx","result","curryN","_curry3","f3","c","_c","Array","isArray","_isArray","val","Object","prototype","toString","call","_isTransformer","obj","_dispatchable","methodNames","transducerCreator","idx","slice","transducer","init","xf","_map","functor","len","_isString","x","_isArrayLike","isArrayLike","hasOwnProperty","XWrap","f","acc","_xwrap","bind","thisObj","_arrayReduce","list","_iterableReduce","iter","step","next","done","value","_methodReduce","methodName","symIterator","Symbol","iterator","_reduce","reduce","TypeError","XMap","_xfBase","input","_xmap","_has","prop","_isArguments","hasEnumBug","propertyIsEnumerable","nonEnumerableProps","hasArgsEnumBug","contains","item","keys","nIdx","ks","checkArgsLength","map","key","Number","isInteger","_isInteger","nth","offset","charAt","p","values","props","vals","_isFunction","type","undefined","_pipe","g","_checkForMethod","methodname","fromIndex","toIndex","tail","Infinity","pipe","_arrayFromIterator","push","_includesWith","pred","_functionName","match","String","_objectIs","is","_uniqContentEquals","aIterator","bIterator","stackA","stackB","eq","_equals","aItem","typeA","equals","constructor","valueOf","name","message","source","global","ignoreCase","multiline","sticky","unicode","size","entries","concat","keysA","extendedStackA","extendedStackB","_indexOf","inf","indexOf","_includes","_quote","s","escaped","replace","pad","_toISOString","Date","toISOString","d","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","toFixed","_complement","_filter","_isObject","XFilter","_xfilter","filter","filterable","reject","_toString","seen","recur","y","xs","mapPairs","k","sort","join","test","isNaN","NaN","repr","curry","invoker","arity","method","target","Ctor","mergeWithKey","l","r","mergeDeepWithKey","lObj","rObj","lVal","rVal","mergeDeepLeft","omit","names","index","pickBy","split","toLower","zipObj","Math","min","out","r.pipe","r.toLower","r.split","r.join","getCol","r.curry","col","df","r.is","r.map","v","r.nth","r.prop","mapKeys","data","r.zipObj","r.keys","r.values","kebabize","str","letter","toUpperCase","toLowerCase","ascending","descending","bisector","compare1","compare2","delta","zero","lo","hi","mid","right","center","i","number","ascendingBisect","bisectRight","bisectCenter","extent","valueof","max","InternMap","Map","keyof","defineProperties","_intern","_key","set","get","intern_get","has","intern_set","delete","intern_delete","e10","sqrt","e5","e2","ticks","start","stop","count","reverse","tickIncrement","isFinite","r0","round","r1","power","floor","log","LN10","error","pow","tickStep","step0","abs","step1","range","ceil","initRange","domain","initInterpolator","interpolator","implicit","ordinal","unknown","scale","_","from","copy","band","ordinalRange","bandwidth","paddingInner","paddingOuter","align","rescale","sequence","rangeRound","padding","factory","extend","parent","definition","create","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","color","channels","assign","displayable","rgb","hex","color_formatHex","formatHex","formatHex8","color_formatHex8","formatHsl","color_formatHsl","formatRgb","color_formatRgb","hslConvert","format","m","trim","exec","parseInt","rgbn","Rgb","rgba","hsla","rgbConvert","o","opacity","clamp","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","h","Hsl","hsl","m2","m1","hsl2rgb","clamph","clampt","radians","PI","degrees","K","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","hcl2lab","rgb2lrgb","xyz2lab","z","lab","lab2xyz","lrgb2rgb","t","hclConvert","atan2","hcl","cos","sin","linear","exponential","hue","constant","gamma","nogamma","rgbGamma","end","colorRgb","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","setTime","reA","reB","one","bi","lastIndex","am","bm","bs","q","string","date","numberArray","object","colorHcl","constants","unit","identity","normalize","clamper","bimap","interpolate","d0","d1","polymap","j","bisect","transformer","interpolateValue","transform","untransform","piecewise","output","invert","interpolateNumber","interpolateRound","u","continuous","toLocaleString","formatDecimalParts","toExponential","coefficient","grouping","thousands","width","substring","numerals","re","formatSpecifier","specifier","FormatSpecifier","fill","sign","symbol","comma","precision","i0","i1","prefixExponent","exponent","formatDecimal","toPrecision","formatRounded","formatPrefixAuto","prefixes","locale","group","formatGroup","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","percent","minus","nan","newFormat","formatTypes","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","formatPrefix","e","defaultLocale","formatLocale","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","maxIter","x0","x1","k10","sequential","Scale","config","createScale","scaleBand","scaleLinear","changeConfig","updateRange","updateDomain","stackedData","categoryDomain","numericDomain","mapOne","tickValues","arr","Set","valueMax","valueMin","dataMin","dataMax","yMin","eval","yMax","Scales","primary","secondary","canvas","direction","height","pi","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","path","moveTo","closePath","lineTo","quadraticCurveTo","y1","bezierCurveTo","x2","y2","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","ccw","dx","dy","cw","da","rect","w","halfPi","asin","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","d2","D","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","context","buffer","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","p0","p1","oc","ax","ay","bx","by","kc","lc","centroid","Linear","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","point","defined","curve","curveLinear","pointX","pointY","line","array","defined0","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","sortValues","pie","sum","arcs","pa","slope3","that","h0","h1","s0","s1","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","_x","_y","px","controlPoints","py","Step","_t","stepAfter","series","order","stackValue","stackSeries","orderNone","offsetNone","stack","sz","oz","defaultConfig","margin","top","bottom","axis","axisSpace","Chart","layers","r.mergeDeepLeft","r.pickBy","scales","updates","ref","bandScale","hide","getStackedData","stackOrderNone","changeData","update","addLayer","layer","removeLayer","id","getLayers","getData","getKeys","dataKeys","getStackedKeys","stacked","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","creatorInherit","document","ownerDocument","uri","namespaceURI","documentElement","createElement","createElementNS","creatorFixed","fullname","namespace","none","selector","querySelector","select","groups","_groups","subgroups","subgroup","node","subnode","__data__","Selection","_parents","empty","querySelectorAll","arrayAll","selectorAll","parents","matches","childMatcher","find","childFind","children","childFirst","firstElementChild","childrenFilter","selectAll","matcher","_enter","sparse","EnterNode","datum","_next","_parent","appendChild","child","insertBefore","bindIndex","enter","exit","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","arraylike","enterGroup","updateGroup","exitGroup","previous","_exit","onenter","onupdate","onexit","selection","append","remove","merge","groups0","groups1","m0","merges","group0","group1","compareDocumentPosition","parentNode","compare","compareNode","sortgroups","sortgroup","callback","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","getAttribute","each","defaultView","styleRemove","style","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","add","splice","classedAdd","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","lower","previousSibling","firstChild","creator","constantNull","before","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","deep","property","contextListener","listener","event","parseTypenames","typenames","onRemove","typename","on","__on","removeEventListener","options","onAdd","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root","selection_selection","selection_select","selection_selectAll","selectChild","selection_selectChild","selectChildren","selection_selectChildren","selection_filter","selection_data","selection_enter","selection_exit","selection_join","selection_merge","selection_order","selection_sort","selection_call","nodes","selection_nodes","selection_node","selection_size","selection_empty","selection_each","attr","selection_attr","selection_style","selection_property","classed","selection_classed","text","selection_text","html","selection_html","selection_raise","selection_lower","selection_append","insert","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","dispatch","selection_dispatch","selection_iterator","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","clientLeft","clientTop","pageX","pageY","translateX","translateY","entering","__axis","orient","tickArguments","tickSizeInner","tickSizeOuter","tickPadding","devicePixelRatio","spacing","range0","range1","position","tick","tickExit","tickEnter","transition","tickSize","axisBottom","axisLeft","chart","inject","points","useChart","getPoints","res","console","primaryKey","secondaryKey","watch","immediate","mouse","hover","maxWidth","gap","bars","linearScale","getIndex","barLayers","findIndex","getBarWidth","getDiffWidth","total","getBars","barSize","diff","xVal","yVal0","yVal1","useMouse","show","computed","payload","el","observer","resizeCallback","onUpdate","onResize","onMounted","ResizeObserver","contentRect","observe","onUnmounted","disconnect","defineComponent","default","rotate","Boolean","isPrimary","setup","drawAxis","current","useConfig","_ctx","_createElementBlock","class","components","Axis","required","chartEl","axLeftEl","axBottomEl","reactive","rotateX","hideX","hideY","provide","resizeObserver","entry","$el","onMouseOut","controlHover","onMouseMove","pointer","_hoisted_1","viewBox","onPointermove","onPointerleave","_createElementVNode","_hoisted_3","_renderSlot","_hoisted_4","_createBlock","_hoisted_5","styleInject","css","insertAt","head","getElementsByTagName","styleSheet","cssText","createTextNode","getTime","extraProps","Layer","areaStyle","usePoints","useBars","lineType","normal","natural","curveNatural","curveStep","monotone","curveMonotoneX","curveMonotoneY","buildArea","getStyle","fillOpacity","stroke","toKebabCase","_mergeProps","lineStyle","dotStyle","hideDot","curveStepAfter","updateLine","computeDotStyle","active","strokeWidth","Function","getDotStyle","_createCommentVNode","_openBlock","_Fragment","selectedBar","barStyle","barStyleSelected","emit","getStyleSelected","onBarClick","bar","onClick","PieSort","pieStyle","sortFunc","colors","scaleOrdinal","arcGen","pieSort","updatePie","getColor","showTooltip","hideTooltip","onMousemove","$event","onMouseleave","useResize","strokeDasharray","xLines","yLines","updateXLines","pop","updateYLines","_hoisted_2","hideLine","useTooltip","isRight","styleContent","formatValue","formatter","items","label","valueFormatted","borderColor","strokeOpacity","eachAfter","eachBefore","ancestor","leastCommonAncestor","aNodes","ancestors","bNodes","leaves","links","hierarchy","mapChildren","objectChildren","Node","childs","depth","computeHeight","node_copy","copyData","node_count","node_each","node_eachAfter","node_eachBefore","node_find","node_sum","node_sort","node_path","node_ancestors","descendants","node_descendants","node_leaves","node_links","node_iterator","optional","constantZero","preroot","ambiguous","imputed","defaultId","defaultParentId","parentId","stratify","currentId","currentParentId","nodeId","nodeKey","nodeByKey","I","P","parentof","S","slash","phi","squarifyRatio","ratio","rows","row","nodeValue","sumValue","minValue","maxValue","newRatio","minRatio","alpha","beta","dice","treemapDice","treemapSlice","custom","squarify","tile","paddingStack","paddingTop","paddingRight","paddingBottom","paddingLeft","treemap","positionNode","roundNode","colorFn","interpolateHcl","rcStyle","selected","rectangles","getScales","scaleSequential","buildRectangles","buildTree","createTreeMap","treeFn","tree","onMouseOver","display","_normalizeClass","onMouseover","_hoisted_6","install","installLib","app","forEach","componentName","component"],"sources":["../node_modules/ramda/es/internal/_isPlaceholder.js","../node_modules/ramda/es/internal/_curry1.js","../node_modules/ramda/es/internal/_curry2.js","../node_modules/ramda/es/internal/_arity.js","../node_modules/ramda/es/internal/_curryN.js","../node_modules/ramda/es/curryN.js","../node_modules/ramda/es/internal/_curry3.js","../node_modules/ramda/es/internal/_isArray.js","../node_modules/ramda/es/internal/_isTransformer.js","../node_modules/ramda/es/internal/_dispatchable.js","../node_modules/ramda/es/internal/_xfBase.js","../node_modules/ramda/es/internal/_map.js","../node_modules/ramda/es/internal/_isString.js","../node_modules/ramda/es/internal/_isArrayLike.js","../node_modules/ramda/es/internal/_xwrap.js","../node_modules/ramda/es/bind.js","../node_modules/ramda/es/internal/_reduce.js","../node_modules/ramda/es/internal/_xmap.js","../node_modules/ramda/es/internal/_has.js","../node_modules/ramda/es/internal/_isArguments.js","../node_modules/ramda/es/keys.js","../node_modules/ramda/es/map.js","../node_modules/ramda/es/internal/_isInteger.js","../node_modules/ramda/es/nth.js","../node_modules/ramda/es/prop.js","../node_modules/ramda/es/reduce.js","../node_modules/ramda/es/values.js","../node_modules/ramda/es/internal/_isFunction.js","../node_modules/ramda/es/type.js","../node_modules/ramda/es/internal/_pipe.js","../node_modules/ramda/es/internal/_checkForMethod.js","../node_modules/ramda/es/slice.js","../node_modules/ramda/es/tail.js","../node_modules/ramda/es/pipe.js","../node_modules/ramda/es/internal/_arrayFromIterator.js","../node_modules/ramda/es/internal/_includesWith.js","../node_modules/ramda/es/internal/_functionName.js","../node_modules/ramda/es/internal/_objectIs.js","../node_modules/ramda/es/internal/_equals.js","../node_modules/ramda/es/equals.js","../node_modules/ramda/es/internal/_indexOf.js","../node_modules/ramda/es/internal/_includes.js","../node_modules/ramda/es/internal/_quote.js","../node_modules/ramda/es/internal/_toISOString.js","../node_modules/ramda/es/internal/_complement.js","../node_modules/ramda/es/internal/_filter.js","../node_modules/ramda/es/internal/_isObject.js","../node_modules/ramda/es/internal/_xfilter.js","../node_modules/ramda/es/filter.js","../node_modules/ramda/es/reject.js","../node_modules/ramda/es/internal/_toString.js","../node_modules/ramda/es/toString.js","../node_modules/ramda/es/curry.js","../node_modules/ramda/es/invoker.js","../node_modules/ramda/es/is.js","../node_modules/ramda/es/join.js","../node_modules/ramda/es/mergeWithKey.js","../node_modules/ramda/es/mergeDeepWithKey.js","../node_modules/ramda/es/mergeDeepLeft.js","../node_modules/ramda/es/omit.js","../node_modules/ramda/es/pickBy.js","../node_modules/ramda/es/split.js","../node_modules/ramda/es/toLower.js","../node_modules/ramda/es/zipObj.js","../src/utils/index.ts","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/descending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/extent.js","../node_modules/internmap/src/index.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/range.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-interpolate/src/hcl.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/sequential.js","../src/models/Scale.ts","../src/models/Scales.ts","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/arc.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/descending.js","../node_modules/d3-shape/src/identity.js","../node_modules/d3-shape/src/pie.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/d3-shape/src/curve/natural.js","../node_modules/d3-shape/src/curve/step.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","../src/models/Chart.ts","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/array.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/selectChild.js","../node_modules/d3-selection/src/selection/selectChildren.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/join.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/clone.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/iterator.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/select.js","../node_modules/d3-selection/src/sourceEvent.js","../node_modules/d3-selection/src/pointer.js","../node_modules/d3-axis/src/identity.js","../node_modules/d3-axis/src/axis.js","../src/hooks/useChart.ts","../src/hooks/usePoints.ts","../src/hooks/useMouse.ts","../src/hooks/useBars.ts","../src/hooks/useTooltip.ts","../src/hooks/useResize.ts","../src/components/Axis/index.vue","../src/components/Axis/index.vue?vue&type=template&id=68da3dd8&lang.js","../src/components/Chart/index.vue","../src/components/Chart/index.vue?vue&type=template&id=61ef8ce1&lang.js","../node_modules/style-inject/dist/style-inject.es.js","../src/components/Layer/index.vue","../src/components/Layer/index.vue?vue&type=template&id=2c0f9694&lang.js","../src/components/Area/index.vue","../src/components/Area/index.vue?vue&type=template&id=c4b4da00&lang.js","../src/components/Line/index.vue","../src/components/Line/index.vue?vue&type=template&id=ef38c4b2&lang.js","../src/components/Bar/index.vue","../src/components/Bar/index.vue?vue&type=template&id=03e4ecd6&lang.js","../src/types/index.ts","../src/components/Pie/index.vue","../src/components/Pie/index.vue?vue&type=template&id=860141e2&lang.js","../src/components/Responsive/index.vue","../src/components/Responsive/index.vue?vue&type=template&id=6d35d167&lang.js","../src/components/Grid/index.vue","../src/components/Grid/index.vue?vue&type=template&id=73660b0e&lang.js","../src/components/Tooltip/index.vue","../src/components/Tooltip/index.vue?vue&type=template&id=43da20c6&lang.js","../src/components/Group/index.vue","../src/components/Group/index.vue?vue&type=template&id=6ab39642&lang.js","../src/components/Marker/index.vue","../src/components/Marker/index.vue?vue&type=template&id=96844726&lang.js","../node_modules/d3-hierarchy/src/hierarchy/count.js","../node_modules/d3-hierarchy/src/hierarchy/each.js","../node_modules/d3-hierarchy/src/hierarchy/eachBefore.js","../node_modules/d3-hierarchy/src/hierarchy/eachAfter.js","../node_modules/d3-hierarchy/src/hierarchy/find.js","../node_modules/d3-hierarchy/src/hierarchy/sum.js","../node_modules/d3-hierarchy/src/hierarchy/sort.js","../node_modules/d3-hierarchy/src/hierarchy/path.js","../node_modules/d3-hierarchy/src/hierarchy/ancestors.js","../node_modules/d3-hierarchy/src/hierarchy/descendants.js","../node_modules/d3-hierarchy/src/hierarchy/leaves.js","../node_modules/d3-hierarchy/src/hierarchy/links.js","../node_modules/d3-hierarchy/src/hierarchy/iterator.js","../node_modules/d3-hierarchy/src/hierarchy/index.js","../node_modules/d3-hierarchy/src/accessors.js","../node_modules/d3-hierarchy/src/constant.js","../node_modules/d3-hierarchy/src/treemap/round.js","../node_modules/d3-hierarchy/src/treemap/dice.js","../node_modules/d3-hierarchy/src/stratify.js","../node_modules/d3-hierarchy/src/treemap/slice.js","../node_modules/d3-hierarchy/src/treemap/squarify.js","../node_modules/d3-hierarchy/src/treemap/index.js","../src/components/Treemap/index.vue","../src/components/Treemap/index.vue?vue&type=template&id=75cab801&lang.js","../src/components/HoverBar/index.vue","../src/components/HoverBar/index.vue?vue&type=template&id=be7a69ac&lang.js","../src/index.ts"],"sourcesContent":["export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}","import _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}","import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}","export default function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}","import _arity from \"./_arity.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n\n      combined[combinedIdx] = result;\n\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n\n      combinedIdx += 1;\n    }\n\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n}","import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _curryN from \"./internal/_curryN.js\";\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      const sumArgs = (...args) => R.sum(args);\n *\n *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curryN =\n/*#__PURE__*/\n_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n\n  return _arity(length, _curryN(length, [], fn));\n});\n\nexport default curryN;","import _curry1 from \"./_curry1.js\";\nimport _curry2 from \"./_curry2.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry3(fn) {\n  return function f3(a, b, c) {\n    switch (arguments.length) {\n      case 0:\n        return f3;\n\n      case 1:\n        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        });\n\n      case 2:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _curry1(function (_c) {\n          return fn(a, b, _c);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {\n          return fn(_a, _b, c);\n        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b, c);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b, c);\n        }) : _isPlaceholder(c) ? _curry1(function (_c) {\n          return fn(a, b, _c);\n        }) : fn(a, b, c);\n    }\n  };\n}","/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nexport default Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};","export default function _isTransformer(obj) {\n  return obj != null && typeof obj['@@transducer/step'] === 'function';\n}","import _isArray from \"./_isArray.js\";\nimport _isTransformer from \"./_isTransformer.js\";\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a function with one of the given method names, it will\n * execute that function (functor case). Otherwise, if it is a transformer,\n * uses transducer created by [transducerCreator] to return a new transformer\n * (transducer case).\n * Otherwise, it will default to executing [fn].\n *\n * @private\n * @param {Array} methodNames properties to check for a custom implementation\n * @param {Function} transducerCreator transducer factory if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\n\nexport default function _dispatchable(methodNames, transducerCreator, fn) {\n  return function () {\n    if (arguments.length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[arguments.length - 1];\n\n    if (!_isArray(obj)) {\n      var idx = 0;\n\n      while (idx < methodNames.length) {\n        if (typeof obj[methodNames[idx]] === 'function') {\n          return obj[methodNames[idx]].apply(obj, Array.prototype.slice.call(arguments, 0, -1));\n        }\n\n        idx += 1;\n      }\n\n      if (_isTransformer(obj)) {\n        var transducer = transducerCreator.apply(null, Array.prototype.slice.call(arguments, 0, -1));\n        return transducer(obj);\n      }\n    }\n\n    return fn.apply(this, arguments);\n  };\n}","export default {\n  init: function () {\n    return this.xf['@@transducer/init']();\n  },\n  result: function (result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};","export default function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n\n  return result;\n}","export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}","import _curry1 from \"./_curry1.js\";\nimport _isArray from \"./_isArray.js\";\nimport _isString from \"./_isString.js\";\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @private\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      _isArrayLike([]); //=> true\n *      _isArrayLike(true); //=> false\n *      _isArrayLike({}); //=> false\n *      _isArrayLike({length: 10}); //=> false\n *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n *      _isArrayLike({nodeType: 1, length: 1}) // => false\n */\n\nvar _isArrayLike =\n/*#__PURE__*/\n_curry1(function isArrayLike(x) {\n  if (_isArray(x)) {\n    return true;\n  }\n\n  if (!x) {\n    return false;\n  }\n\n  if (typeof x !== 'object') {\n    return false;\n  }\n\n  if (_isString(x)) {\n    return false;\n  }\n\n  if (x.length === 0) {\n    return true;\n  }\n\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n\n  return false;\n});\n\nexport default _isArrayLike;","var XWrap =\n/*#__PURE__*/\nfunction () {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n\n  XWrap.prototype['@@transducer/init'] = function () {\n    throw new Error('init not implemented on XWrap');\n  };\n\n  XWrap.prototype['@@transducer/result'] = function (acc) {\n    return acc;\n  };\n\n  XWrap.prototype['@@transducer/step'] = function (acc, x) {\n    return this.f(acc, x);\n  };\n\n  return XWrap;\n}();\n\nexport default function _xwrap(fn) {\n  return new XWrap(fn);\n}","import _arity from \"./internal/_arity.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n * @see R.partial\n * @example\n *\n *      const log = R.bind(console.log, console);\n *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}\n *      // logs {a: 2}\n * @symb R.bind(f, o)(a, b) = f.call(o, a, b)\n */\n\nvar bind =\n/*#__PURE__*/\n_curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function () {\n    return fn.apply(thisObj, arguments);\n  });\n});\n\nexport default bind;","import _isArrayLike from \"./_isArrayLike.js\";\nimport _xwrap from \"./_xwrap.js\";\nimport bind from \"../bind.js\";\n\nfunction _arrayReduce(xf, acc, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    acc = xf['@@transducer/step'](acc, list[idx]);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    idx += 1;\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _iterableReduce(xf, acc, iter) {\n  var step = iter.next();\n\n  while (!step.done) {\n    acc = xf['@@transducer/step'](acc, step.value);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    step = iter.next();\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _methodReduce(xf, acc, obj, methodName) {\n  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n}\n\nvar symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\nexport default function _reduce(fn, acc, list) {\n  if (typeof fn === 'function') {\n    fn = _xwrap(fn);\n  }\n\n  if (_isArrayLike(list)) {\n    return _arrayReduce(fn, acc, list);\n  }\n\n  if (typeof list['fantasy-land/reduce'] === 'function') {\n    return _methodReduce(fn, acc, list, 'fantasy-land/reduce');\n  }\n\n  if (list[symIterator] != null) {\n    return _iterableReduce(fn, acc, list[symIterator]());\n  }\n\n  if (typeof list.next === 'function') {\n    return _iterableReduce(fn, acc, list);\n  }\n\n  if (typeof list.reduce === 'function') {\n    return _methodReduce(fn, acc, list, 'reduce');\n  }\n\n  throw new TypeError('reduce: list must be array or iterable');\n}","import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XMap =\n/*#__PURE__*/\nfunction () {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n\n  XMap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n\n  return XMap;\n}();\n\nvar _xmap =\n/*#__PURE__*/\n_curry2(function _xmap(f, xf) {\n  return new XMap(f, xf);\n});\n\nexport default _xmap;","export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}","import _has from \"./_has.js\";\nvar toString = Object.prototype.toString;\n\nvar _isArguments =\n/*#__PURE__*/\nfunction () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\n\nexport default _isArguments;","import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\nimport _isArguments from \"./internal/_isArguments.js\"; // cover IE < 9 keys issues\n\nvar hasEnumBug = !\n/*#__PURE__*/\n{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\nvar hasArgsEnumBug =\n/*#__PURE__*/\nfunction () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\n\nvar contains = function contains(list, item) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n};\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values, R.toPairs\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\n\n\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) :\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n\n  var prop, nIdx;\n  var ks = [];\n\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n\n      nIdx -= 1;\n    }\n  }\n\n  return ks;\n});\nexport default keys;","import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _map from \"./internal/_map.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _xmap from \"./internal/_xmap.js\";\nimport curryN from \"./curryN.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a function and\n * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n * applies the function to each of the functor's values, and returns\n * a functor of the same shape.\n *\n * Ramda provides suitable `map` implementations for `Array` and `Object`,\n * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * Also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @see R.transduce, R.addIndex, R.pluck, R.project\n * @example\n *\n *      const double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n * @symb R.map(f, [a, b]) = [f(a), f(b)]\n * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n * @symb R.map(f, functor_o) = functor_o.map(f)\n */\n\nvar map =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function () {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n\n    case '[object Object]':\n      return _reduce(function (acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n\n    default:\n      return _map(fn, functor);\n  }\n}));\n\nexport default map;","/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */\nexport default Number.isInteger || function _isInteger(n) {\n  return n << 0 === n;\n};","import _curry2 from \"./internal/_curry2.js\";\nimport _isString from \"./internal/_isString.js\";\n/**\n * Returns the nth element of the given list or string. If n is negative the\n * element at index length + n is returned.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> [a] -> a | Undefined\n * @sig Number -> String -> String\n * @param {Number} offset\n * @param {*} list\n * @return {*}\n * @example\n *\n *      const list = ['foo', 'bar', 'baz', 'quux'];\n *      R.nth(1, list); //=> 'bar'\n *      R.nth(-1, list); //=> 'quux'\n *      R.nth(-99, list); //=> undefined\n *\n *      R.nth(2, 'abc'); //=> 'c'\n *      R.nth(3, 'abc'); //=> ''\n * @symb R.nth(-1, [a, b, c]) = c\n * @symb R.nth(0, [a, b, c]) = a\n * @symb R.nth(1, [a, b, c]) = b\n */\n\nvar nth =\n/*#__PURE__*/\n_curry2(function nth(offset, list) {\n  var idx = offset < 0 ? list.length + offset : offset;\n  return _isString(list) ? list.charAt(idx) : list[idx];\n});\n\nexport default nth;","import _curry2 from \"./internal/_curry2.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport nth from \"./nth.js\";\n/**\n * Returns a function that when supplied an object returns the indicated\n * property of that object, if it exists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig Idx -> {s: a} -> a | Undefined\n * @param {String|Number} p The property name or array index\n * @param {Object} obj The object to query\n * @return {*} The value at `obj.p`.\n * @see R.path, R.props, R.pluck, R.project, R.nth\n * @example\n *\n *      R.prop('x', {x: 100}); //=> 100\n *      R.prop('x', {}); //=> undefined\n *      R.prop(0, [100]); //=> 100\n *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4\n */\n\nvar prop =\n/*#__PURE__*/\n_curry2(function prop(p, obj) {\n  if (obj == null) {\n    return;\n  }\n\n  return _isInteger(p) ? nth(p, obj) : obj[p];\n});\n\nexport default prop;","import _curry3 from \"./internal/_curry3.js\";\nimport _reduce from \"./internal/_reduce.js\";\n/**\n * Returns a single item by iterating through the list, successively calling\n * the iterator function and passing it an accumulator value and the current\n * value from the array, and then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*. It may use\n * [`R.reduced`](#reduced) to shortcut the iteration.\n *\n * The arguments' order of [`reduceRight`](#reduceRight)'s iterator function\n * is *(value, acc)*.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.reduce` method. For more details\n * on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n *\n * Dispatches to the `reduce` method of the third argument, if present. When\n * doing so, it is up to the user to handle the [`R.reduced`](#reduced)\n * shortcuting, as this is not implemented by `reduce`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduced, R.addIndex, R.reduceRight\n * @example\n *\n *      R.reduce(R.subtract, 0, [1, 2, 3, 4]) // => ((((0 - 1) - 2) - 3) - 4) = -10\n *      //          -               -10\n *      //         / \\              / \\\n *      //        -   4           -6   4\n *      //       / \\              / \\\n *      //      -   3   ==>     -3   3\n *      //     / \\              / \\\n *      //    -   2           -1   2\n *      //   / \\              / \\\n *      //  0   1            0   1\n *\n * @symb R.reduce(f, a, [b, c, d]) = f(f(f(a, b), c), d)\n */\n\nvar reduce =\n/*#__PURE__*/\n_curry3(_reduce);\n\nexport default reduce;","import _curry1 from \"./internal/_curry1.js\";\nimport keys from \"./keys.js\";\n/**\n * Returns a list of all the enumerable own properties of the supplied object.\n * Note that the order of the output array is not guaranteed across different\n * JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [v]\n * @param {Object} obj The object to extract values from\n * @return {Array} An array of the values of the object's own properties.\n * @see R.valuesIn, R.keys, R.toPairs\n * @example\n *\n *      R.values({a: 1, b: 2, c: 3}); //=> [1, 2, 3]\n */\n\nvar values =\n/*#__PURE__*/\n_curry1(function values(obj) {\n  var props = keys(obj);\n  var len = props.length;\n  var vals = [];\n  var idx = 0;\n\n  while (idx < len) {\n    vals[idx] = obj[props[idx]];\n    idx += 1;\n  }\n\n  return vals;\n});\n\nexport default values;","export default function _isFunction(x) {\n  var type = Object.prototype.toString.call(x);\n  return type === '[object Function]' || type === '[object AsyncFunction]' || type === '[object GeneratorFunction]' || type === '[object AsyncGeneratorFunction]';\n}","import _curry1 from \"./internal/_curry1.js\";\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\nvar type =\n/*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\n\nexport default type;","export default function _pipe(f, g) {\n  return function () {\n    return g.call(this, f.apply(this, arguments));\n  };\n}","import _isArray from \"./_isArray.js\";\n/**\n * This checks whether a function has a [methodname] function. If it isn't an\n * array it will execute that function otherwise it will default to the ramda\n * implementation.\n *\n * @private\n * @param {Function} fn ramda implementation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\n\nexport default function _checkForMethod(methodname, fn) {\n  return function () {\n    var length = arguments.length;\n\n    if (length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[length - 1];\n    return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, Array.prototype.slice.call(arguments, 0, length - 1));\n  };\n}","import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry3 from \"./internal/_curry3.js\";\n/**\n * Returns the elements of the given list or string (or object with a `slice`\n * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n *\n * Dispatches to the `slice` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @sig Number -> Number -> String -> String\n * @param {Number} fromIndex The start index (inclusive).\n * @param {Number} toIndex The end index (exclusive).\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n */\n\nvar slice =\n/*#__PURE__*/\n_curry3(\n/*#__PURE__*/\n_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n  return Array.prototype.slice.call(list, fromIndex, toIndex);\n}));\n\nexport default slice;","import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns all but the first element of the given list or string (or object\n * with a `tail` method).\n *\n * Dispatches to the `slice` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.head, R.init, R.last\n * @example\n *\n *      R.tail([1, 2, 3]);  //=> [2, 3]\n *      R.tail([1, 2]);     //=> [2]\n *      R.tail([1]);        //=> []\n *      R.tail([]);         //=> []\n *\n *      R.tail('abc');  //=> 'bc'\n *      R.tail('ab');   //=> 'b'\n *      R.tail('a');    //=> ''\n *      R.tail('');     //=> ''\n */\n\nvar tail =\n/*#__PURE__*/\n_curry1(\n/*#__PURE__*/\n_checkForMethod('tail',\n/*#__PURE__*/\nslice(1, Infinity)));\n\nexport default tail;","import _arity from \"./internal/_arity.js\";\nimport _pipe from \"./internal/_pipe.js\";\nimport reduce from \"./reduce.js\";\nimport tail from \"./tail.js\";\n/**\n * Performs left-to-right function composition. The first argument may have\n * any arity; the remaining arguments must be unary.\n *\n * In some libraries this function is named `sequence`.\n *\n * **Note:** The result of pipe is not automatically curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n * @param {...Function} functions\n * @return {Function}\n * @see R.compose\n * @example\n *\n *      const f = R.pipe(Math.pow, R.negate, R.inc);\n *\n *      f(3, 4); // -(3^4) + 1\n * @symb R.pipe(f, g, h)(a, b) = h(g(f(a, b)))\n * @symb R.pipe(f, g, h)(a)(b) = h(g(f(a)))(b)\n */\n\nexport default function pipe() {\n  if (arguments.length === 0) {\n    throw new Error('pipe requires at least one argument');\n  }\n\n  return _arity(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));\n}","export default function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n\n  return list;\n}","export default function _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n}","export default function _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}","// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\n\nexport default typeof Object.is === 'function' ? Object.is : _objectIs;","import _arrayFromIterator from \"./_arrayFromIterator.js\";\nimport _includesWith from \"./_includesWith.js\";\nimport _functionName from \"./_functionName.js\";\nimport _has from \"./_has.js\";\nimport _objectIs from \"./_objectIs.js\";\nimport keys from \"../keys.js\";\nimport type from \"../type.js\";\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparison of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n\n  var b = _arrayFromIterator(bIterator);\n\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  } // if *a* array contains any element that is not included in *b*\n\n\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\n\nexport default function _equals(a, b, stackA, stackB) {\n  if (_objectIs(a, b)) {\n    return true;\n  }\n\n  var typeA = type(a);\n\n  if (typeA !== type(b)) {\n    return false;\n  }\n\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n\n      break;\n\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n\n      break;\n\n    case 'Date':\n      if (!_objectIs(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n\n      break;\n\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n\n      break;\n  }\n\n  var idx = stackA.length - 1;\n\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n\n    idx -= 1;\n  }\n\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n\n  while (idx >= 0) {\n    var key = keysA[idx];\n\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n\n    idx -= 1;\n  }\n\n  return true;\n}","import _curry2 from \"./internal/_curry2.js\";\nimport _equals from \"./internal/_equals.js\";\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\n\nvar equals =\n/*#__PURE__*/\n_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\nexport default equals;","import equals from \"../equals.js\";\nexport default function _indexOf(list, a, idx) {\n  var inf, item; // Array.prototype.indexOf doesn't exist below IE9\n\n  if (typeof list.indexOf === 'function') {\n    switch (typeof a) {\n      case 'number':\n        if (a === 0) {\n          // manually crawl the list to distinguish between +0 and -0\n          inf = 1 / a;\n\n          while (idx < list.length) {\n            item = list[idx];\n\n            if (item === 0 && 1 / item === inf) {\n              return idx;\n            }\n\n            idx += 1;\n          }\n\n          return -1;\n        } else if (a !== a) {\n          // NaN\n          while (idx < list.length) {\n            item = list[idx];\n\n            if (typeof item === 'number' && item !== item) {\n              return idx;\n            }\n\n            idx += 1;\n          }\n\n          return -1;\n        } // non-zero numbers can utilise Set\n\n\n        return list.indexOf(a, idx);\n      // all these types can utilise Set\n\n      case 'string':\n      case 'boolean':\n      case 'function':\n      case 'undefined':\n        return list.indexOf(a, idx);\n\n      case 'object':\n        if (a === null) {\n          // null can utilise Set\n          return list.indexOf(a, idx);\n        }\n\n    }\n  } // anything else not covered above, defer to R.equals\n\n\n  while (idx < list.length) {\n    if (equals(list[idx], a)) {\n      return idx;\n    }\n\n    idx += 1;\n  }\n\n  return -1;\n}","import _indexOf from \"./_indexOf.js\";\nexport default function _includes(a, list) {\n  return _indexOf(list, a, 0) >= 0;\n}","export default function _quote(s) {\n  var escaped = s.replace(/\\\\/g, '\\\\\\\\').replace(/[\\b]/g, '\\\\b') // \\b matches word boundary; [\\b] matches backspace\n  .replace(/\\f/g, '\\\\f').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\t/g, '\\\\t').replace(/\\v/g, '\\\\v').replace(/\\0/g, '\\\\0');\n  return '\"' + escaped.replace(/\"/g, '\\\\\"') + '\"';\n}","/**\n * Polyfill from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString>.\n */\nvar pad = function pad(n) {\n  return (n < 10 ? '0' : '') + n;\n};\n\nvar _toISOString = typeof Date.prototype.toISOString === 'function' ? function _toISOString(d) {\n  return d.toISOString();\n} : function _toISOString(d) {\n  return d.getUTCFullYear() + '-' + pad(d.getUTCMonth() + 1) + '-' + pad(d.getUTCDate()) + 'T' + pad(d.getUTCHours()) + ':' + pad(d.getUTCMinutes()) + ':' + pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';\n};\n\nexport default _toISOString;","export default function _complement(f) {\n  return function () {\n    return !f.apply(this, arguments);\n  };\n}","export default function _filter(fn, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n\n  while (idx < len) {\n    if (fn(list[idx])) {\n      result[result.length] = list[idx];\n    }\n\n    idx += 1;\n  }\n\n  return result;\n}","export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}","import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFilter =\n/*#__PURE__*/\nfunction () {\n  function XFilter(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XFilter.prototype['@@transducer/init'] = _xfBase.init;\n  XFilter.prototype['@@transducer/result'] = _xfBase.result;\n\n  XFilter.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n\n  return XFilter;\n}();\n\nvar _xfilter =\n/*#__PURE__*/\n_curry2(function _xfilter(f, xf) {\n  return new XFilter(f, xf);\n});\n\nexport default _xfilter;","import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _filter from \"./internal/_filter.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _xfilter from \"./internal/_xfilter.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a predicate and a `Filterable`, and returns a new filterable of the\n * same type containing the members of the given filterable which satisfy the\n * given predicate. Filterable objects include plain objects or any object\n * that has a filter method such as `Array`.\n *\n * Dispatches to the `filter` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array} Filterable\n * @see R.reject, R.transduce, R.addIndex\n * @example\n *\n *      const isEven = n => n % 2 === 0;\n *\n *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.filter(isEven, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar filter =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/filter', 'filter'], _xfilter, function (pred, filterable) {\n  return _isObject(filterable) ? _reduce(function (acc, key) {\n    if (pred(filterable[key])) {\n      acc[key] = filterable[key];\n    }\n\n    return acc;\n  }, {}, keys(filterable)) : // else\n  _filter(pred, filterable);\n}));\n\nexport default filter;","import _complement from \"./internal/_complement.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport filter from \"./filter.js\";\n/**\n * The complement of [`filter`](#filter).\n *\n * Acts as a transducer if a transformer is given in list position. Filterable\n * objects include plain objects or any object that has a filter method such\n * as `Array`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array}\n * @see R.filter, R.transduce, R.addIndex\n * @example\n *\n *      const isOdd = (n) => n % 2 !== 0;\n *\n *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.reject(isOdd, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar reject =\n/*#__PURE__*/\n_curry2(function reject(pred, filterable) {\n  return filter(_complement(pred), filterable);\n});\n\nexport default reject;","import _includes from \"./_includes.js\";\nimport _map from \"./_map.js\";\nimport _quote from \"./_quote.js\";\nimport _toISOString from \"./_toISOString.js\";\nimport keys from \"../keys.js\";\nimport reject from \"../reject.js\";\nexport default function _toString(x, seen) {\n  var recur = function recur(y) {\n    var xs = seen.concat([x]);\n    return _includes(y, xs) ? '<Circular>' : _toString(y, xs);\n  }; //  mapPairs :: (Object, [String]) -> [String]\n\n\n  var mapPairs = function (obj, keys) {\n    return _map(function (k) {\n      return _quote(k) + ': ' + recur(obj[k]);\n    }, keys.slice().sort());\n  };\n\n  switch (Object.prototype.toString.call(x)) {\n    case '[object Arguments]':\n      return '(function() { return arguments; }(' + _map(recur, x).join(', ') + '))';\n\n    case '[object Array]':\n      return '[' + _map(recur, x).concat(mapPairs(x, reject(function (k) {\n        return /^\\d+$/.test(k);\n      }, keys(x)))).join(', ') + ']';\n\n    case '[object Boolean]':\n      return typeof x === 'object' ? 'new Boolean(' + recur(x.valueOf()) + ')' : x.toString();\n\n    case '[object Date]':\n      return 'new Date(' + (isNaN(x.valueOf()) ? recur(NaN) : _quote(_toISOString(x))) + ')';\n\n    case '[object Null]':\n      return 'null';\n\n    case '[object Number]':\n      return typeof x === 'object' ? 'new Number(' + recur(x.valueOf()) + ')' : 1 / x === -Infinity ? '-0' : x.toString(10);\n\n    case '[object String]':\n      return typeof x === 'object' ? 'new String(' + recur(x.valueOf()) + ')' : _quote(x);\n\n    case '[object Undefined]':\n      return 'undefined';\n\n    default:\n      if (typeof x.toString === 'function') {\n        var repr = x.toString();\n\n        if (repr !== '[object Object]') {\n          return repr;\n        }\n      }\n\n      return '{' + mapPairs(x, keys(x)).join(', ') + '}';\n  }\n}","import _curry1 from \"./internal/_curry1.js\";\nimport _toString from \"./internal/_toString.js\";\n/**\n * Returns the string representation of the given value. `eval`'ing the output\n * should result in a value equivalent to the input value. Many of the built-in\n * `toString` methods do not satisfy this requirement.\n *\n * If the given value is an `[object Object]` with a `toString` method other\n * than `Object.prototype.toString`, this method is invoked with no arguments\n * to produce the return value. This means user-defined constructor functions\n * can provide a suitable `toString` method. For example:\n *\n *     function Point(x, y) {\n *       this.x = x;\n *       this.y = y;\n *     }\n *\n *     Point.prototype.toString = function() {\n *       return 'new Point(' + this.x + ', ' + this.y + ')';\n *     };\n *\n *     R.toString(new Point(1, 2)); //=> 'new Point(1, 2)'\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category String\n * @sig * -> String\n * @param {*} val\n * @return {String}\n * @example\n *\n *      R.toString(42); //=> '42'\n *      R.toString('abc'); //=> '\"abc\"'\n *      R.toString([1, 2, 3]); //=> '[1, 2, 3]'\n *      R.toString({foo: 1, bar: 2, baz: 3}); //=> '{\"bar\": 2, \"baz\": 3, \"foo\": 1}'\n *      R.toString(new Date('2001-02-03T04:05:06Z')); //=> 'new Date(\"2001-02-03T04:05:06.000Z\")'\n */\n\nvar toString =\n/*#__PURE__*/\n_curry1(function toString(val) {\n  return _toString(val, []);\n});\n\nexport default toString;","import _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Returns a curried equivalent of the provided function. The curried function\n * has two unusual capabilities. First, its arguments needn't be provided one\n * at a time. If `f` is a ternary function and `g` is `R.curry(f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (* -> a) -> (* -> a)\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curryN, R.partial\n * @example\n *\n *      const addFourNumbers = (a, b, c, d) => a + b + c + d;\n *\n *      const curriedAddFourNumbers = R.curry(addFourNumbers);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curry =\n/*#__PURE__*/\n_curry1(function curry(fn) {\n  return curryN(fn.length, fn);\n});\n\nexport default curry;","import _curry2 from \"./internal/_curry2.js\";\nimport _isFunction from \"./internal/_isFunction.js\";\nimport curryN from \"./curryN.js\";\nimport toString from \"./toString.js\";\n/**\n * Turns a named method with a specified arity into a function that can be\n * called directly supplied with arguments and a target object.\n *\n * The returned function is curried and accepts `arity + 1` parameters where\n * the final parameter is the target object.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig Number -> String -> (a -> b -> ... -> n -> Object -> *)\n * @param {Number} arity Number of arguments the returned function should take\n *        before the target object.\n * @param {String} method Name of any of the target object's methods to call.\n * @return {Function} A new curried function.\n * @see R.construct\n * @example\n *\n *      const sliceFrom = R.invoker(1, 'slice');\n *      sliceFrom(6, 'abcdefghijklm'); //=> 'ghijklm'\n *      const sliceFrom6 = R.invoker(2, 'slice')(6);\n *      sliceFrom6(8, 'abcdefghijklm'); //=> 'gh'\n *\n *      const dog = {\n *        speak: async () => 'Woof!'\n *      };\n *      const speak = R.invoker(0, 'speak');\n *      speak(dog).then(console.log) //~> 'Woof!'\n *\n * @symb R.invoker(0, 'method')(o) = o['method']()\n * @symb R.invoker(1, 'method')(a, o) = o['method'](a)\n * @symb R.invoker(2, 'method')(a, b, o) = o['method'](a, b)\n */\n\nvar invoker =\n/*#__PURE__*/\n_curry2(function invoker(arity, method) {\n  return curryN(arity + 1, function () {\n    var target = arguments[arity];\n\n    if (target != null && _isFunction(target[method])) {\n      return target[method].apply(target, Array.prototype.slice.call(arguments, 0, arity));\n    }\n\n    throw new TypeError(toString(target) + ' does not have a method named \"' + method + '\"');\n  });\n});\n\nexport default invoker;","import _curry2 from \"./internal/_curry2.js\";\n/**\n * See if an object (i.e. `val`) is an instance of the supplied constructor. This\n * function will check up the inheritance chain, if any.\n * If `val` was created using `Object.create`, `R.is(Object, val) === true`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Type\n * @sig (* -> {*}) -> a -> Boolean\n * @param {Object} ctor A constructor\n * @param {*} val The value to test\n * @return {Boolean}\n * @example\n *\n *      R.is(Object, {}); //=> true\n *      R.is(Number, 1); //=> true\n *      R.is(Object, 1); //=> false\n *      R.is(String, 's'); //=> true\n *      R.is(String, new String('')); //=> true\n *      R.is(Object, new String('')); //=> true\n *      R.is(Object, 's'); //=> false\n *      R.is(Number, {}); //=> false\n */\n\nvar is =\n/*#__PURE__*/\n_curry2(function is(Ctor, val) {\n  return val instanceof Ctor || val != null && (val.constructor === Ctor || Ctor.name === 'Object' && typeof val === 'object');\n});\n\nexport default is;","import invoker from \"./invoker.js\";\n/**\n * Returns a string made by inserting the `separator` between each element and\n * concatenating all the elements into a single string.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig String -> [a] -> String\n * @param {Number|String} separator The string used to separate the elements.\n * @param {Array} xs The elements to join into a string.\n * @return {String} str The string made by concatenating `xs` with `separator`.\n * @see R.split\n * @example\n *\n *      const spacer = R.join(' ');\n *      spacer(['a', 2, 3.4]);   //=> 'a 2 3.4'\n *      R.join('|', [1, 2, 3]);    //=> '1|2|3'\n */\n\nvar join =\n/*#__PURE__*/\ninvoker(1, 'join');\nexport default join;","import _curry3 from \"./internal/_curry3.js\";\nimport _has from \"./internal/_has.js\";\n/**\n * Creates a new object with the own properties of the two provided objects. If\n * a key exists in both objects, the provided function is applied to the key\n * and the values associated with the key in each object, with the result being\n * used as the value associated with the key in the returned object.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeDeepWithKey, R.merge, R.mergeWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeWithKey(concatValues,\n *                     { a: true, thing: 'foo', values: [10, 20] },\n *                     { b: true, thing: 'bar', values: [15, 35] });\n *      //=> { a: true, b: true, thing: 'bar', values: [10, 20, 15, 35] }\n * @symb R.mergeWithKey(f, { x: 1, y: 2 }, { y: 5, z: 3 }) = { x: 1, y: f('y', 2, 5), z: 3 }\n */\n\nvar mergeWithKey =\n/*#__PURE__*/\n_curry3(function mergeWithKey(fn, l, r) {\n  var result = {};\n  var k;\n\n  for (k in l) {\n    if (_has(k, l)) {\n      result[k] = _has(k, r) ? fn(k, l[k], r[k]) : l[k];\n    }\n  }\n\n  for (k in r) {\n    if (_has(k, r) && !_has(k, result)) {\n      result[k] = r[k];\n    }\n  }\n\n  return result;\n});\n\nexport default mergeWithKey;","import _curry3 from \"./internal/_curry3.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport mergeWithKey from \"./mergeWithKey.js\";\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to the key and associated values\n *   using the resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWithKey, R.mergeDeepWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeDeepWithKey(concatValues,\n *                         { a: true, c: { thing: 'foo', values: [10, 20] }},\n *                         { b: true, c: { thing: 'bar', values: [15, 35] }});\n *      //=> { a: true, b: true, c: { thing: 'bar', values: [10, 20, 15, 35] }}\n */\n\nvar mergeDeepWithKey =\n/*#__PURE__*/\n_curry3(function mergeDeepWithKey(fn, lObj, rObj) {\n  return mergeWithKey(function (k, lVal, rVal) {\n    if (_isObject(lVal) && _isObject(rVal)) {\n      return mergeDeepWithKey(fn, lVal, rVal);\n    } else {\n      return fn(k, lVal, rVal);\n    }\n  }, lObj, rObj);\n});\n\nexport default mergeDeepWithKey;","import _curry2 from \"./internal/_curry2.js\";\nimport mergeDeepWithKey from \"./mergeDeepWithKey.js\";\n/**\n * Creates a new object with the own properties of the first object merged with\n * the own properties of the second object. If a key exists in both objects:\n * - and both values are objects, the two values will be recursively merged\n * - otherwise the value from the first object will be used.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig {a} -> {a} -> {a}\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.merge, R.mergeDeepRight, R.mergeDeepWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepLeft({ name: 'fred', age: 10, contact: { email: 'moo@example.com' }},\n *                      { age: 40, contact: { email: 'baa@example.com' }});\n *      //=> { name: 'fred', age: 10, contact: { email: 'moo@example.com' }}\n */\n\nvar mergeDeepLeft =\n/*#__PURE__*/\n_curry2(function mergeDeepLeft(lObj, rObj) {\n  return mergeDeepWithKey(function (k, lVal, rVal) {\n    return lVal;\n  }, lObj, rObj);\n});\n\nexport default mergeDeepLeft;","import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a partial copy of an object omitting the keys specified.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig [String] -> {String: *} -> {String: *}\n * @param {Array} names an array of String property names to omit from the new object\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with properties from `names` not on it.\n * @see R.pick\n * @example\n *\n *      R.omit(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, c: 3}\n */\n\nvar omit =\n/*#__PURE__*/\n_curry2(function omit(names, obj) {\n  var result = {};\n  var index = {};\n  var idx = 0;\n  var len = names.length;\n\n  while (idx < len) {\n    index[names[idx]] = 1;\n    idx += 1;\n  }\n\n  for (var prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n\n  return result;\n});\n\nexport default omit;","import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a partial copy of an object containing only the keys that satisfy\n * the supplied predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @sig ((v, k) -> Boolean) -> {k: v} -> {k: v}\n * @param {Function} pred A predicate to determine whether or not a key\n *        should be included on the output object.\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with only properties that satisfy `pred`\n *         on it.\n * @see R.pick, R.filter\n * @example\n *\n *      const isUpperCase = (val, key) => key.toUpperCase() === key;\n *      R.pickBy(isUpperCase, {a: 1, b: 2, A: 3, B: 4}); //=> {A: 3, B: 4}\n */\n\nvar pickBy =\n/*#__PURE__*/\n_curry2(function pickBy(test, obj) {\n  var result = {};\n\n  for (var prop in obj) {\n    if (test(obj[prop], prop, obj)) {\n      result[prop] = obj[prop];\n    }\n  }\n\n  return result;\n});\n\nexport default pickBy;","import invoker from \"./invoker.js\";\n/**\n * Splits a string into an array of strings based on the given\n * separator.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category String\n * @sig (String | RegExp) -> String -> [String]\n * @param {String|RegExp} sep The pattern.\n * @param {String} str The string to separate into an array.\n * @return {Array} The array of strings from `str` separated by `sep`.\n * @see R.join\n * @example\n *\n *      const pathComponents = R.split('/');\n *      R.tail(pathComponents('/usr/local/bin/node')); //=> ['usr', 'local', 'bin', 'node']\n *\n *      R.split('.', 'a.b.c.xyz.d'); //=> ['a', 'b', 'c', 'xyz', 'd']\n */\n\nvar split =\n/*#__PURE__*/\ninvoker(1, 'split');\nexport default split;","import invoker from \"./invoker.js\";\n/**\n * The lower case version of a string.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category String\n * @sig String -> String\n * @param {String} str The string to lower case.\n * @return {String} The lower case version of `str`.\n * @see R.toUpper\n * @example\n *\n *      R.toLower('XYZ'); //=> 'xyz'\n */\n\nvar toLower =\n/*#__PURE__*/\ninvoker(0, 'toLowerCase');\nexport default toLower;","import _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a new object out of a list of keys and a list of values.\n * Key/value pairing is truncated to the length of the shorter of the two lists.\n * Note: `zipObj` is equivalent to `pipe(zip, fromPairs)`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig [String] -> [*] -> {String: *}\n * @param {Array} keys The array that will be properties on the output object.\n * @param {Array} values The list of values on the output object.\n * @return {Object} The object made by pairing up same-indexed elements of `keys` and `values`.\n * @example\n *\n *      R.zipObj(['a', 'b', 'c'], [1, 2, 3]); //=> {a: 1, b: 2, c: 3}\n */\n\nvar zipObj =\n/*#__PURE__*/\n_curry2(function zipObj(keys, values) {\n  var idx = 0;\n  var len = Math.min(keys.length, values.length);\n  var out = {};\n\n  while (idx < len) {\n    out[keys[idx]] = values[idx];\n    idx += 1;\n  }\n\n  return out;\n});\n\nexport default zipObj;","import * as r from 'ramda'\n\nexport const kebabCase = r.pipe(r.toLower, r.split(' '), r.join('-'))\nexport const getCol = r.curry((col: string | number, df: any[]): any[] => {\n  if (r.is(Number)) {\n    return r.map((v) => r.nth(col as number, v) || '', df).filter((x) => x !== '')\n  }\n\n  return r.map(r.prop(col as string), df)\n})\n\nexport const mapKeys = (fn: (val: string) => string, data: { [key: string]: any }) =>\n  r.zipObj(r.map(fn, r.keys(data) as string[]), r.values(data))\n\nexport const kebabize = (str: string) => {\n  return str\n    .split('')\n    .map((letter, idx) => {\n      return letter.toUpperCase() === letter ? `${idx !== 0 ? '-' : ''}${letter.toLowerCase()}` : letter\n    })\n    .join('')\n}\n","export default function ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n","import ascending from \"./ascending.js\";\nimport descending from \"./descending.js\";\n\nexport default function bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n","export default function number(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function extent(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(key);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","export default function range(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {InternMap} from \"d3-array\";\nimport {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new InternMap(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    let i = index.get(d);\n    if (i === undefined) {\n      if (unknown !== implicit) return unknown;\n      index.set(d, i = domain.push(d) - 1);\n    }\n    return range[i % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new InternMap();\n    for (const value of _) {\n      if (index.has(value)) continue;\n      index.set(value, domain.push(value) - 1);\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export const radians = Math.PI / 180;\nexport const degrees = 180 / Math.PI;\n","import define, {extend} from \"./define.js\";\nimport {Color, rgbConvert, Rgb} from \"./color.js\";\nimport {degrees, radians} from \"./math.js\";\n\n// https://observablehq.com/@mbostock/lab-and-rgb\nconst K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) return hcl2lab(o);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0 < o.l && o.l < 100 ? 0 : NaN, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * degrees;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\nfunction hcl2lab(o) {\n  if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n  var h = o.h * radians;\n  return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb() {\n    return hcl2lab(this).rgb();\n  }\n}));\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color.js\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","import {interpolate, interpolateRound} from \"d3-interpolate\";\nimport {identity} from \"./continuous.js\";\nimport {initInterpolator} from \"./init.js\";\nimport {linearish} from \"./linear.js\";\nimport {loggish} from \"./log.js\";\nimport {symlogish} from \"./symlog.js\";\nimport {powish} from \"./pow.js\";\n\nfunction transformer() {\n  var x0 = 0,\n      x1 = 1,\n      t0,\n      t1,\n      k10,\n      transform,\n      interpolator = identity,\n      clamp = false,\n      unknown;\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : interpolator(k10 === 0 ? 0.5 : (x = (transform(x) - t0) * k10, clamp ? Math.max(0, Math.min(1, x)) : x));\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? ([x0, x1] = _, t0 = transform(x0 = +x0), t1 = transform(x1 = +x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0), scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  function range(interpolate) {\n    return function(_) {\n      var r0, r1;\n      return arguments.length ? ([r0, r1] = _, interpolator = interpolate(r0, r1), scale) : [interpolator(0), interpolator(1)];\n    };\n  }\n\n  scale.range = range(interpolate);\n\n  scale.rangeRound = range(interpolateRound);\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t) {\n    transform = t, t0 = t(x0), t1 = t(x1), k10 = t0 === t1 ? 0 : 1 / (t1 - t0);\n    return scale;\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .interpolator(source.interpolator())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport default function sequential() {\n  var scale = linearish(transformer()(identity));\n\n  scale.copy = function() {\n    return copy(scale, sequential());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialLog() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, sequentialLog()).base(scale.base());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSymlog() {\n  var scale = symlogish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialSymlog()).constant(scale.constant());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialPow() {\n  var scale = powish(transformer());\n\n  scale.copy = function() {\n    return copy(scale, sequentialPow()).exponent(scale.exponent());\n  };\n\n  return initInterpolator.apply(scale, arguments);\n}\n\nexport function sequentialSqrt() {\n  return sequentialPow.apply(null, arguments).exponent(0.5);\n}\n","import { AxisConfig, Data, ScaleType } from '@/types'\nimport { getCol } from '@/utils'\nimport { extent, max, min } from 'd3-array'\nimport { scaleBand, scaleLinear } from 'd3-scale'\nimport { Series } from 'd3-shape'\n\nexport default class Scale {\n  scale: any\n  config: AxisConfig\n\n  constructor(config: AxisConfig) {\n    this.config = config\n    this.createScale(config.type)\n  }\n\n  public createScale(type: ScaleType) {\n    switch (type) {\n      case 'band':\n        this.scale = scaleBand()\n        break\n\n      case 'linear':\n        this.scale = scaleLinear()\n        break\n    }\n  }\n\n  public changeConfig(config: AxisConfig) {\n    this.createScale(config.type)\n    this.config = config\n  }\n\n  public get type() {\n    return this.config.type\n  }\n\n  public bandwidth() {\n    if (this.type === 'band') {\n      return this.scale.bandwidth()\n    }\n\n    return 0\n  }\n\n  public updateRange(range: [number, number]) {\n    this.scale = this.scale.copy().range(range)\n  }\n\n  public updateDomain(data: Data[], stackedData: Series<any, string>[], keys: string[]) {\n    const domain =\n      this.config.type === 'band' ? this.categoryDomain(data, keys) : this.numericDomain(data, stackedData, keys)\n    this.scale = this.scale.copy().domain(domain)\n  }\n\n  public map<T>(values: T[]): number[] {\n    return values.map((v) => this.mapOne(v))\n  }\n\n  public mapOne<T>(val: T): number {\n    const { type } = this.config\n\n    if (type === 'band') {\n      return this.scale(val) + this.scale.bandwidth() / 2\n    }\n\n    return this.scale(val)\n  }\n\n  public ticks() {\n    const { type } = this.config\n\n    if (this.config.tickValues !== undefined) {\n      return this.config.tickValues\n    }\n\n    if (type === 'band') {\n      return this.scale.domain()\n    }\n\n    return this.scale.ticks(this.config.ticks || 5)\n  }\n\n  private categoryDomain(data: Data[], keys: string[]) {\n    const values = keys.reduce((arr, key) => arr.concat(getCol(key, data)), [])\n    return Array.from(new Set(values))\n  }\n\n  private numericDomain(data: Data[], stackedData: Series<any, string>[], keys: string[]) {\n    const { domain } = this.config\n    const values: number[] = keys.reduce((arr, key) => arr.concat(getCol(key, data)), [])\n\n    const valueMax: number = max(stackedData, (arr) => max(arr, (x) => max(x))) || 0\n    const valueMin: number = min(stackedData, (arr) => min(arr, (x) => min(x))) || 0\n\n    const [dataMin, dataMax] = extent(Array.from(new Set(values.concat([valueMin, valueMax]))))\n    // eslint-disable-next-line no-eval\n    const yMin = eval(`\n      let dataMin = ${dataMin || 0}\n      ${domain[0]}\n    `)\n\n    // eslint-disable-next-line no-eval\n    const yMax = eval(`\n      let dataMax = ${dataMax || 0}\n      ${domain[1]}\n    `)\n\n    return [yMin, yMax]\n  }\n}\n","import { Canvas, ChartAxis, Data, Direction } from '@/types'\nimport { getCol } from '@/utils'\nimport { Series } from 'd3-shape'\nimport Scale from './Scale'\n\nexport default class Scales {\n  primary: Scale\n  secondary: Scale\n  config: ChartAxis\n\n  constructor(config: ChartAxis) {\n    this.config = config\n    this.primary = new Scale(config.primary)\n    this.secondary = new Scale(config.secondary)\n  }\n\n  public changeConfig(config: ChartAxis) {\n    this.config = config\n    this.primary.changeConfig(config.primary)\n    this.secondary.changeConfig(config.secondary)\n  }\n\n  public updateRange(canvas: Canvas, direction: Direction) {\n    if (direction === 'horizontal') {\n      this.primary.updateRange([canvas.x, canvas.width])\n      this.secondary.updateRange([canvas.height, canvas.y])\n    } else if (direction === 'vertical') {\n      this.primary.updateRange([canvas.y, canvas.height])\n      this.secondary.updateRange([canvas.x, canvas.width])\n    }\n  }\n\n  public updateDomain(data: Data[], stackedData: Series<any, string>[], keys: Array<[string, string]>) {\n    this.primary.updateDomain(data, stackedData, getCol(0, keys))\n    this.secondary.updateDomain(data, stackedData, getCol(1, keys))\n  }\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export const abs = Math.abs;\nexport const atan2 = Math.atan2;\nexport const cos = Math.cos;\nexport const max = Math.max;\nexport const min = Math.min;\nexport const sin = Math.sin;\nexport const sqrt = Math.sqrt;\n\nexport const epsilon = 1e-12;\nexport const pi = Math.PI;\nexport const halfPi = pi / 2;\nexport const tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant.js\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math.js\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = y32 * x10 - x32 * y10;\n  if (t * t < epsilon) return;\n  t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / t;\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00),\n            oc;\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi && (oc = intersect(x01, y01, x00, y00, x11, y11, x10, y10))) {\n          var ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport descending from \"./descending.js\";\nimport identity from \"./identity.js\";\nimport {tau} from \"./math.js\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = (data = array(data)).length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // falls through\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import * as r from 'ramda'\nimport { ref, Ref } from 'vue'\nimport { Scales } from '.'\nimport { getCol } from '@/utils'\nimport { stack, stackOrderNone } from 'd3-shape'\nimport { Canvas, ChartConfig, Data, Layer, LayerType } from '@/types'\n\nconst defaultConfig: ChartConfig = {\n  size: { width: 500, height: 400 },\n  margin: {\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0\n  },\n  direction: 'horizontal',\n  axis: {\n    primary: {\n      domain: ['dataMin', 'dataMax'],\n      type: 'band'\n    },\n    secondary: {\n      domain: ['dataMin', 'dataMax'],\n      type: 'linear'\n    }\n  },\n  axisSpace: {\n    x: 40,\n    y: 20\n  }\n}\n\nexport default class Chart {\n  data: Data[]\n  layers: Layer[]\n  config: ChartConfig\n  scales: Scales\n  updates: Ref<number>\n\n  constructor(data: Data[], config: Partial<ChartConfig>) {\n    this.data = data\n    this.layers = []\n    this.config = r.mergeDeepLeft(\n      r.pickBy((p) => p !== undefined, config),\n      defaultConfig\n    ) as any\n    this.scales = new Scales(this.config.axis)\n    this.updates = ref(0)\n  }\n\n  get bandScale() {\n    if (this.scales.primary.type === 'band') return this.scales.primary\n    if (this.scales.secondary.type === 'band') return this.scales.secondary\n    return null\n  }\n\n  get canvas(): Canvas {\n    const { margin, size } = this.config\n    const axisSpace = this.config.axisSpace\n\n    if (this.config.axis.primary.hide) {\n      axisSpace.y = 0\n    }\n\n    if (this.config.axis.secondary.hide) {\n      axisSpace.x = 0\n    }\n\n    return {\n      x: margin.left + axisSpace.x,\n      y: margin.top,\n      width: size.width - margin.right,\n      height: size.height - margin.bottom - axisSpace.y\n    }\n  }\n\n  public getStackedData(keys: string[]) {\n    return stack()\n      .keys(keys)\n      .order(stackOrderNone)(this.data as any)\n  }\n\n  public changeData(data: Data[]) {\n    this.data = data\n    this.update('data')\n  }\n\n  public changeConfig(config: Partial<ChartConfig>) {\n    this.config = r.mergeDeepLeft(\n      r.pickBy((p) => p !== undefined, config),\n      this.config\n    ) as any\n    this.scales.changeConfig(this.config.axis)\n\n    this.update('config')\n  }\n\n  public addLayer(layer: Layer) {\n    this.layers.push(layer)\n    this.update('layers')\n  }\n\n  public removeLayer(id: string) {\n    this.layers = this.layers.filter((l) => l.id !== id)\n    this.update('layers')\n  }\n\n  public getLayers(type?: LayerType) {\n    if (type) {\n      return this.layers.filter((l) => l.type === type)\n    }\n    return this.layers\n  }\n\n  public getData(keys: string[]): number[] {\n    return keys.reduce((arr, key) => arr.concat(getCol(key, this.data)), [])\n  }\n\n  public getKeys(idx: number = -1, type: string | null = null) {\n    const keys = this.layers\n      .filter((l) => {\n        if (type) return l.type === type\n        return true\n      })\n      .map((l) => l.dataKeys)\n\n    if (idx === -1) {\n      return keys\n    }\n\n    return getCol(idx, keys)\n  }\n\n  public getStackedKeys(idx: number = -1, type: string | null = null) {\n    const keys = this.layers\n      .filter((l) => {\n        if (type) return l.type === type && l.props.stacked\n        return l.props.stacked\n      })\n      .map((l) => l.dataKeys)\n\n    if (idx === -1) {\n      return keys\n    }\n\n    return getCol(idx, keys)\n  }\n\n  public update(_: string) {\n    const stackedData = this.getStackedData(this.getStackedKeys(1))\n    this.scales.updateRange(this.canvas, this.config.direction)\n    this.scales.updateDomain(this.data, stackedData, this.getKeys())\n\n    this.updates.value += 1\n    // console.log('update from:', from)\n  }\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we don’t ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isn’t worried about “live” collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// don’t; we’d rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(x) {\n  return x;\n}\n","import identity from \"./identity.js\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + x + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + y + \")\";\n}\n\nfunction number(scale) {\n  return d => +scale(d);\n}\n\nfunction center(scale, offset) {\n  offset = Math.max(0, scale.bandwidth() - offset * 2) / 2;\n  if (scale.round()) offset = Math.round(offset);\n  return d => +scale(d) + offset;\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      offset = typeof window !== \"undefined\" && window.devicePixelRatio > 1 ? 0 : 0.5,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + offset,\n        range1 = +range[range.length - 1] + offset,\n        position = (scale.bandwidth ? center : number)(scale.copy(), offset),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d + offset) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform((p && isFinite(p = p(d)) ? p : position(d)) + offset); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient === right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H\" + offset + \"V\" + range1 + \"H\" + k * tickSizeOuter : \"M\" + offset + \",\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V\" + offset + \"H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",\" + offset + \"H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d) + offset); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = Array.from(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : Array.from(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : Array.from(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  axis.offset = function(_) {\n    return arguments.length ? (offset = +_, axis) : offset;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","import { Chart } from '@/models'\nimport { inject } from 'vue'\n\nexport default (): Chart => {\n  const chart = inject('chart') as Chart\n  return chart\n}\n","import { ref, Ref, watch } from 'vue'\nimport { Point } from '@/types'\nimport { Series } from 'd3-shape'\nimport useChart from './useChart'\n\nexport interface PointsReturn {\n  points: Ref<Point[]>\n}\n\nexport default (dataKeys: [string, string], props = { stacked: false, type: 'line' }): PointsReturn => {\n  const points = ref<Point[]>([])\n  const chart = useChart()\n  const { stacked, type } = props\n\n  function getPoints(key: string, values: Series<any, string>): Point[] {\n    const { primary, secondary } = chart.scales\n\n    if (chart.config.direction === 'horizontal') {\n      const res = values\n        .map((val) => {\n          return {\n            x: primary.mapOne(val.data[key]),\n            y: secondary.mapOne(val[1]),\n            props: { values: [...val], data: val.data }\n          }\n        })\n        .filter((p) => !isNaN(p.x) && !isNaN(p.y))\n\n      console.log(res)\n      return res\n    } else if (chart.config.direction === 'vertical') {\n      return values\n        .map((val) => {\n          return {\n            x: secondary.mapOne(val[1]),\n            y: primary.mapOne(val.data[key]),\n            props: { values: [...val], data: val.data }\n          }\n        })\n        .filter((p) => !isNaN(p.x) && !isNaN(p.y))\n    }\n    return []\n  }\n\n  function update() {\n    const keys = chart.getStackedKeys(1, type)\n    const [primaryKey, secondaryKey] = dataKeys\n    const stack = chart.getStackedData(stacked ? keys : [dataKeys[1]])\n    const data = stack.find((s) => s.key === secondaryKey)\n\n    if (data) {\n      points.value = getPoints(primaryKey, data)\n    }\n  }\n\n  watch(\n    chart.updates,\n    () => {\n      update()\n      console.log('update')\n    },\n    { immediate: true }\n  )\n\n  return {\n    points\n  }\n}\n","import { inject } from 'vue'\n\nexport interface MouseReturn {\n  index: number\n  position: { x: number; y: number }\n  hover: boolean\n}\n\nexport default (): MouseReturn => {\n  const mouse = inject('chartMouse', {\n    index: -1,\n    position: { x: 0, y: 0 },\n    hover: false\n  })\n  return mouse\n}\n","import { Ref, ref, watch } from 'vue'\nimport { Rectangle } from '@/types'\nimport useChart from './useChart'\nimport { Series } from 'd3-shape'\n\nexport interface BarsReturn {\n  bars: Ref<Rectangle[]>\n}\n\nexport default (dataKeys: [string, string], props = { maxWidth: -1, gap: 5, stacked: false, type: 'bar' }): BarsReturn => {\n  const bars = ref<Rectangle[]>([])\n  const chart = useChart()\n  const { stacked, type, gap } = props\n\n  function scales() {\n    const { primary, secondary } = chart.scales\n    const bandScale = primary.type === 'band' ? primary : secondary\n    const linearScale = primary.type === 'band' ? secondary : primary\n\n    return { bandScale, linearScale }\n  }\n\n  function getIndex() {\n    if (stacked) {\n      return 0\n    }\n\n    const barLayers = chart.getLayers(type as any)\n    const idx = barLayers.findIndex((l) => l.dataKeys.join(',') === dataKeys.join(','))\n\n    return idx > -1 ? idx : 0\n  }\n\n  function getBarWidth() {\n    const { bandScale } = scales()\n    const maxWidth =\n      props.maxWidth > -1 ? Math.min(bandScale.bandwidth() - gap, props.maxWidth) : bandScale.bandwidth() - gap\n\n    const barLayers = chart.getLayers(type as any)\n\n    return barLayers.length > 0 && !stacked ? maxWidth / barLayers.length : maxWidth\n  }\n\n  function getDiffWidth() {\n    if (stacked) {\n      return 0\n    }\n\n    const { bandScale } = scales()\n    const max = bandScale.bandwidth() - gap\n    const total = chart.getLayers(type as any).length * getBarWidth()\n    return (max - total) / 2\n  }\n\n  function getBars(key: string, values: Series<{ [key: string]: number }, string>) {\n    const { bandScale, linearScale } = scales()\n    const index = getIndex()\n    const barSize = getBarWidth()\n    const diff = getDiffWidth()\n\n    return values.map((val) => {\n      const rect: Rectangle = { x: 0, y: 0, width: 0, height: 0, props: { values: [...val], data: val.data } }\n      const xVal = bandScale.scale(val.data[key])\n      const [yVal0, yVal1] = linearScale.map(val)\n\n      if (chart.config.direction === 'horizontal') {\n        rect.y = Math.min(yVal0, yVal1)\n        rect.height = Math.abs(yVal0 - yVal1)\n\n        rect.x = diff + xVal + index * barSize + gap / 2\n        rect.width = barSize\n      } else if (chart.config.direction === 'vertical') {\n        rect.x = Math.min(yVal0, yVal1)\n        rect.width = Math.abs(yVal0 - yVal1)\n\n        rect.y = diff + xVal + index * barSize + gap / 2\n        rect.height = barSize\n      }\n      return rect\n    })\n\n    // console.log(values)\n  }\n\n  function update() {\n    const keys = stacked ? chart.getStackedKeys(1, type) : [dataKeys[1]]\n    const [primaryKey, secondaryKey] = dataKeys\n    const stack = chart.getStackedData(keys)\n    const data = stack.find((s) => s.key === secondaryKey)\n\n    if (data) {\n      bars.value = getBars(primaryKey, data)\n    }\n  }\n\n  watch(chart.updates, () => {\n    update()\n  })\n\n  return {\n    bars\n  }\n}\n","import { ref, watch, computed, Ref } from 'vue'\n// import * as r from 'ramda'\nimport useChart from './useChart'\nimport useMouse from './useMouse'\n\ninterface Return {\n  position: Ref<{ x: number; y: number }>\n  payload: any\n  show: Ref<boolean>\n}\n\nexport default (): Return => {\n  const mouse = useMouse()\n  const chart = useChart()\n  const show = computed(() => mouse.hover)\n  const position = ref({ x: 0, y: 0 })\n  const payload = ref({})\n\n  watch(mouse, () => {\n    const { primary } = chart.scales\n    const keys = chart.getKeys(0)\n    const vals = chart.getData(keys) as number[]\n    const [x] = primary.map([vals[mouse.index]])\n\n    if (x) {\n      if (chart.config.direction === 'horizontal') {\n        position.value = {\n          x,\n          y: mouse.position.y\n        }\n      } else if (chart.config.direction === 'vertical') {\n        position.value = {\n          x: mouse.position.x,\n          y: x\n        }\n      } else {\n        position.value = {\n          x: mouse.position.x,\n          y: mouse.position.y\n        }\n      }\n    }\n\n    // const dKeys = chart.getKeys(1)\n    const d = chart.data[mouse.index]\n\n    if (d) {\n      payload.value = { ...d, idx: mouse.index }\n    }\n  })\n\n  return { position, payload, show }\n}\n","import { onMounted, onUnmounted, ref, Ref } from 'vue'\n\nexport interface ResizeReturn {\n  width: Ref<number>\n  height: Ref<number>\n  onResize: (fn: () => void) => void\n}\n\nexport default (el: Ref): ResizeReturn => {\n  const width = ref(0)\n  const height = ref(0)\n\n  let observer: any = null\n  let resizeCallback: any = null\n\n  function onUpdate(w: number, h: number) {\n    width.value = w\n    height.value = h\n\n    if (resizeCallback) {\n      resizeCallback()\n    }\n  }\n\n  function onResize(callback: () => void) {\n    resizeCallback = callback\n  }\n\n  onMounted(() => {\n    observer = new (window as any).ResizeObserver((entries: any) => {\n      const w = entries[0].contentRect.width\n      const h = entries[0].contentRect.height\n\n      onUpdate(w, h)\n    })\n\n    observer.observe(el.value)\n  })\n\n  onUnmounted(() => {\n    observer.disconnect()\n  })\n\n  return { width, height, onResize }\n}\n","<template>\n  <g v-if=\"position === 'bottom'\" :class=\"`layer-axis-x`\" ref=\"el\" :transform=\"`translate(0, ${canvas.height})` \" />\n  <g v-else :class=\"`layer-axis-y`\" ref=\"el\" :transform=\"`translate(${canvas.x}, 0)`\" />\n</template>\n\n<script lang=\"ts\">\n// import * as r from 'ramda'\n// import { format } from 'd3-format'\nimport type { Axis } from 'd3-axis'\nimport type { PropType } from 'vue'\nimport type { Canvas } from '@/types'\n\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { select } from 'd3-selection'\nimport { axisBottom, axisLeft } from 'd3-axis'\nimport { useChart } from '@/hooks'\n\nexport default defineComponent({\n  name: 'Axis',\n  props: {\n    position: {\n      type: String as PropType<'bottom' | 'left'>,\n      default: 'bottom'\n    },\n    rotate: {\n      type: Boolean,\n      default: false\n    },\n    isPrimary: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const el = ref<SVGGElement>()\n    const chart = useChart()\n\n    const axis = computed(() => {\n      return props.position === 'bottom' ? axisBottom : axisLeft\n    })\n\n    const canvas = ref<Canvas>(chart.canvas)\n\n    const defaultConfig = { ticks: 5 }\n\n    function drawAxis() {\n      if (chart.data.length > 0) {\n        const { primary, secondary } = chart.scales\n        const current = props.isPrimary ? primary : secondary\n        const config = Object.assign(\n          {},\n          props.isPrimary ? primary.config : secondary.config,\n          defaultConfig\n        )\n\n        const ax: Axis<any> = axis.value(current.scale)\n\n        if (config.format) {\n          ax.tickFormat(config.format)\n        }\n\n        if (config.ticks !== undefined) {\n          ax.ticks(config.ticks)\n        }\n\n        if (config.tickValues !== undefined) {\n          ax.tickValues(config.tickValues)\n        }\n\n        if (config.useConfig) {\n          config.useConfig(ax)\n        }\n\n        const res = select(el.value!).call(ax)\n\n        if (props.position === 'bottom' && props.rotate) {\n          res.selectAll('text')\n            .attr('y', 0)\n            .attr('x', 9)\n            .attr('dy', '.35em')\n            .attr('transform', 'rotate(90)')\n            .style('text-anchor', 'start')\n        }\n\n        return ax\n      }\n\n      return null\n    }\n\n    watch(\n      () => props.isPrimary,\n      () => {\n        drawAxis()\n      }\n    )\n\n    watch(chart.updates, () => {\n      canvas.value = chart.canvas\n      drawAxis()\n    })\n\n    return { el, canvas }\n  }\n})\n</script>\n","<template>\n  <g v-if=\"position === 'bottom'\" :class=\"`layer-axis-x`\" ref=\"el\" :transform=\"`translate(0, ${canvas.height})` \" />\n  <g v-else :class=\"`layer-axis-y`\" ref=\"el\" :transform=\"`translate(${canvas.x}, 0)`\" />\n</template>\n\n<script lang=\"ts\">\n// import * as r from 'ramda'\n// import { format } from 'd3-format'\nimport type { Axis } from 'd3-axis'\nimport type { PropType } from 'vue'\nimport type { Canvas } from '@/types'\n\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { select } from 'd3-selection'\nimport { axisBottom, axisLeft } from 'd3-axis'\nimport { useChart } from '@/hooks'\n\nexport default defineComponent({\n  name: 'Axis',\n  props: {\n    position: {\n      type: String as PropType<'bottom' | 'left'>,\n      default: 'bottom'\n    },\n    rotate: {\n      type: Boolean,\n      default: false\n    },\n    isPrimary: {\n      type: Boolean,\n      default: false\n    }\n  },\n  setup(props) {\n    const el = ref<SVGGElement>()\n    const chart = useChart()\n\n    const axis = computed(() => {\n      return props.position === 'bottom' ? axisBottom : axisLeft\n    })\n\n    const canvas = ref<Canvas>(chart.canvas)\n\n    const defaultConfig = { ticks: 5 }\n\n    function drawAxis() {\n      if (chart.data.length > 0) {\n        const { primary, secondary } = chart.scales\n        const current = props.isPrimary ? primary : secondary\n        const config = Object.assign(\n          {},\n          props.isPrimary ? primary.config : secondary.config,\n          defaultConfig\n        )\n\n        const ax: Axis<any> = axis.value(current.scale)\n\n        if (config.format) {\n          ax.tickFormat(config.format)\n        }\n\n        if (config.ticks !== undefined) {\n          ax.ticks(config.ticks)\n        }\n\n        if (config.tickValues !== undefined) {\n          ax.tickValues(config.tickValues)\n        }\n\n        if (config.useConfig) {\n          config.useConfig(ax)\n        }\n\n        const res = select(el.value!).call(ax)\n\n        if (props.position === 'bottom' && props.rotate) {\n          res.selectAll('text')\n            .attr('y', 0)\n            .attr('x', 9)\n            .attr('dy', '.35em')\n            .attr('transform', 'rotate(90)')\n            .style('text-anchor', 'start')\n        }\n\n        return ax\n      }\n\n      return null\n    }\n\n    watch(\n      () => props.isPrimary,\n      () => {\n        drawAxis()\n      }\n    )\n\n    watch(chart.updates, () => {\n      canvas.value = chart.canvas\n      drawAxis()\n    })\n\n    return { el, canvas }\n  }\n})\n</script>\n","<template>\n  <div class=\"chart\" ref=\"chartEl\">\n    <svg\n      :width=\"size.width\"\n      :height=\"size.height\"\n      :viewBox=\"`0 0 ${size.width} ${size.height}`\"\n      @pointermove=\"onMouseMove\"\n      @pointerleave=\"onMouseOut\"\n    >\n      <g class=\"layers\">\n        <slot name=\"layers\" />\n      </g>\n      <g class=\"axis\">\n        <axis\n          v-if=\"!hideX\"\n          position=\"bottom\"\n          ref=\"axBottomEl\"\n          :rotate=\"rotateX\"\n          :isPrimary=\"direction === 'horizontal'\"\n        />\n        <axis\n          v-if=\"!hideY\"\n          position=\"left\"\n          ref=\"axLeftEl\"\n          :isPrimary=\"direction === 'vertical'\"\n        />\n      </g>\n    </svg>\n    <div class=\"widgets\">\n      <slot name=\"widgets\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  onMounted,\n  onUnmounted,\n  provide,\n  watch,\n  reactive,\n  ref,\n  computed\n} from 'vue'\nimport { ChartAxis, ChartConfig, Data, Direction, Margin, Size } from '@/types'\nimport { Chart } from '@/models'\nimport { pointer } from 'd3-selection'\nimport { bisectCenter } from 'd3-array'\nimport Axis from '../Axis/index.vue'\n\nexport default defineComponent({\n  name: 'Chart',\n  components: { Axis },\n  props: {\n    data: {\n      type: Array as () => Data[],\n      default: () => []\n    },\n    margin: {\n      type: Object as () => Margin,\n      default: () => ({\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      }),\n      required: false\n    },\n    size: {\n      type: Object as () => Size,\n      default: () => ({ width: 500, height: 400 }),\n      required: false\n    },\n    direction: {\n      type: String as () => Direction,\n      default: 'horizontal',\n      required: false\n    },\n    axis: {\n      type: Object as () => ChartAxis,\n      required: false\n    },\n    config: {\n      type: Object as () => Partial<ChartConfig>,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const chartEl = ref(null)\n    const axLeftEl = ref<{ $el: SVGGElement }>()\n    const axBottomEl = ref<{ $el: SVGGElement }>()\n    const axisSpace = reactive<ChartConfig['axisSpace']>({ x: 40, y: 20 })\n\n    const chart = new Chart(props.data, props.config)\n    const rotateX = computed(() => props.axis && props.axis.primary && props.axis.primary.rotate)\n    const hideX = computed(() => {\n      return props.axis && props.axis.primary && props.axis.primary.hide\n    })\n\n    const hideY = computed(() => {\n      return props.axis && props.axis.secondary && props.axis.secondary.hide\n    })\n\n    const mouse = reactive({\n      index: -1,\n      position: { x: 0, y: 0 },\n      hover: false\n    })\n\n    provide('chart', chart)\n    provide('chartMouse', mouse)\n\n    // Data change\n    watch(\n      () => props.data,\n      () => {\n        if (chart) chart.changeData(props.data)\n      },\n      { immediate: true }\n    )\n\n    // Config change\n    watch(\n      () => props.config,\n      () => {\n        if (chart) chart.changeConfig(props.config)\n      }\n    )\n\n    watch(\n      () => [{ ...axisSpace }, props.direction, props.size, props.margin, props.axis],\n      () => {\n        if (chart) {\n          chart.changeConfig({\n            axisSpace: { ...axisSpace },\n            direction: props.direction,\n            size: props.size,\n            margin: props.margin,\n            axis: props.axis\n          })\n        }\n      },\n      { immediate: true }\n    )\n\n    const resizeObserver = new ResizeObserver(entries => {\n      for (const entry of entries) {\n        if (axBottomEl.value && entry.target === axBottomEl.value.$el) {\n          axisSpace.y = entry.contentRect.height\n        } else if (axLeftEl.value && entry.target === axLeftEl.value.$el) {\n          axisSpace.x = entry.contentRect.width\n        }\n      }\n    })\n\n    onMounted(() => {\n      if (axBottomEl.value) {\n        resizeObserver.observe(axBottomEl.value.$el)\n      }\n      if (axLeftEl.value) {\n        resizeObserver.observe(axLeftEl.value.$el)\n      }\n    })\n\n    onUnmounted(() => {\n      resizeObserver.disconnect()\n    })\n\n    function onMouseOut() {\n      if (props.config.controlHover === false) {\n        return\n      }\n      mouse.index = -1\n      mouse.hover = false\n    }\n\n    function onMouseMove(e: MouseEvent) {\n      if (props.config.controlHover === false) {\n        return\n      }\n      mouse.hover = true\n      mouse.position = { x: pointer(e)[0], y: pointer(e)[1] }\n\n      const { primary } = chart.scales\n      const keys = chart.getKeys(0)\n      const vals = chart.getData(keys) as number[]\n\n      if (chart.config.direction === 'horizontal') {\n        if (primary.type === 'band') {\n          const band = primary.bandwidth()\n          const delta = mouse.position.x - chart.canvas.x\n          mouse.index = Math.round((delta + band / 2) / band) - 1\n        } else {\n          mouse.index = bisectCenter(\n            vals,\n            primary.scale.invert(mouse.position.x)\n          )\n        }\n      } else if (chart.config.direction === 'vertical') {\n        if (primary.type === 'band') {\n          const band = primary.bandwidth()\n          const delta = mouse.position.y - chart.canvas.y\n          mouse.index = Math.round((delta + band / 2) / band) - 1\n        } else {\n          mouse.index = bisectCenter(\n            vals,\n            primary.scale.invert(mouse.position.y)\n          )\n        }\n      }\n    }\n\n    // function onTest() {\n    //   if (chart) {\n    //     const ticks = chart.scales.primary.ticks()\n    //     console.log(ticks)\n    //   }\n    // }\n\n    return { axBottomEl, axLeftEl, chartEl, hideX, hideY, rotateX, onMouseMove, onMouseOut }\n  }\n})\n</script>\n\n<style>\n.chart {\n  position: relative;\n}\n</style>\n","<template>\n  <div class=\"chart\" ref=\"chartEl\">\n    <svg\n      :width=\"size.width\"\n      :height=\"size.height\"\n      :viewBox=\"`0 0 ${size.width} ${size.height}`\"\n      @pointermove=\"onMouseMove\"\n      @pointerleave=\"onMouseOut\"\n    >\n      <g class=\"layers\">\n        <slot name=\"layers\" />\n      </g>\n      <g class=\"axis\">\n        <axis\n          v-if=\"!hideX\"\n          position=\"bottom\"\n          ref=\"axBottomEl\"\n          :rotate=\"rotateX\"\n          :isPrimary=\"direction === 'horizontal'\"\n        />\n        <axis\n          v-if=\"!hideY\"\n          position=\"left\"\n          ref=\"axLeftEl\"\n          :isPrimary=\"direction === 'vertical'\"\n        />\n      </g>\n    </svg>\n    <div class=\"widgets\">\n      <slot name=\"widgets\" />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport {\n  defineComponent,\n  onMounted,\n  onUnmounted,\n  provide,\n  watch,\n  reactive,\n  ref,\n  computed\n} from 'vue'\nimport { ChartAxis, ChartConfig, Data, Direction, Margin, Size } from '@/types'\nimport { Chart } from '@/models'\nimport { pointer } from 'd3-selection'\nimport { bisectCenter } from 'd3-array'\nimport Axis from '../Axis/index.vue'\n\nexport default defineComponent({\n  name: 'Chart',\n  components: { Axis },\n  props: {\n    data: {\n      type: Array as () => Data[],\n      default: () => []\n    },\n    margin: {\n      type: Object as () => Margin,\n      default: () => ({\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      }),\n      required: false\n    },\n    size: {\n      type: Object as () => Size,\n      default: () => ({ width: 500, height: 400 }),\n      required: false\n    },\n    direction: {\n      type: String as () => Direction,\n      default: 'horizontal',\n      required: false\n    },\n    axis: {\n      type: Object as () => ChartAxis,\n      required: false\n    },\n    config: {\n      type: Object as () => Partial<ChartConfig>,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const chartEl = ref(null)\n    const axLeftEl = ref<{ $el: SVGGElement }>()\n    const axBottomEl = ref<{ $el: SVGGElement }>()\n    const axisSpace = reactive<ChartConfig['axisSpace']>({ x: 40, y: 20 })\n\n    const chart = new Chart(props.data, props.config)\n    const rotateX = computed(() => props.axis && props.axis.primary && props.axis.primary.rotate)\n    const hideX = computed(() => {\n      return props.axis && props.axis.primary && props.axis.primary.hide\n    })\n\n    const hideY = computed(() => {\n      return props.axis && props.axis.secondary && props.axis.secondary.hide\n    })\n\n    const mouse = reactive({\n      index: -1,\n      position: { x: 0, y: 0 },\n      hover: false\n    })\n\n    provide('chart', chart)\n    provide('chartMouse', mouse)\n\n    // Data change\n    watch(\n      () => props.data,\n      () => {\n        if (chart) chart.changeData(props.data)\n      },\n      { immediate: true }\n    )\n\n    // Config change\n    watch(\n      () => props.config,\n      () => {\n        if (chart) chart.changeConfig(props.config)\n      }\n    )\n\n    watch(\n      () => [{ ...axisSpace }, props.direction, props.size, props.margin, props.axis],\n      () => {\n        if (chart) {\n          chart.changeConfig({\n            axisSpace: { ...axisSpace },\n            direction: props.direction,\n            size: props.size,\n            margin: props.margin,\n            axis: props.axis\n          })\n        }\n      },\n      { immediate: true }\n    )\n\n    const resizeObserver = new ResizeObserver(entries => {\n      for (const entry of entries) {\n        if (axBottomEl.value && entry.target === axBottomEl.value.$el) {\n          axisSpace.y = entry.contentRect.height\n        } else if (axLeftEl.value && entry.target === axLeftEl.value.$el) {\n          axisSpace.x = entry.contentRect.width\n        }\n      }\n    })\n\n    onMounted(() => {\n      if (axBottomEl.value) {\n        resizeObserver.observe(axBottomEl.value.$el)\n      }\n      if (axLeftEl.value) {\n        resizeObserver.observe(axLeftEl.value.$el)\n      }\n    })\n\n    onUnmounted(() => {\n      resizeObserver.disconnect()\n    })\n\n    function onMouseOut() {\n      if (props.config.controlHover === false) {\n        return\n      }\n      mouse.index = -1\n      mouse.hover = false\n    }\n\n    function onMouseMove(e: MouseEvent) {\n      if (props.config.controlHover === false) {\n        return\n      }\n      mouse.hover = true\n      mouse.position = { x: pointer(e)[0], y: pointer(e)[1] }\n\n      const { primary } = chart.scales\n      const keys = chart.getKeys(0)\n      const vals = chart.getData(keys) as number[]\n\n      if (chart.config.direction === 'horizontal') {\n        if (primary.type === 'band') {\n          const band = primary.bandwidth()\n          const delta = mouse.position.x - chart.canvas.x\n          mouse.index = Math.round((delta + band / 2) / band) - 1\n        } else {\n          mouse.index = bisectCenter(\n            vals,\n            primary.scale.invert(mouse.position.x)\n          )\n        }\n      } else if (chart.config.direction === 'vertical') {\n        if (primary.type === 'band') {\n          const band = primary.bandwidth()\n          const delta = mouse.position.y - chart.canvas.y\n          mouse.index = Math.round((delta + band / 2) / band) - 1\n        } else {\n          mouse.index = bisectCenter(\n            vals,\n            primary.scale.invert(mouse.position.y)\n          )\n        }\n      }\n    }\n\n    // function onTest() {\n    //   if (chart) {\n    //     const ticks = chart.scales.primary.ticks()\n    //     console.log(ticks)\n    //   }\n    // }\n\n    return { axBottomEl, axLeftEl, chartEl, hideX, hideY, rotateX, onMouseMove, onMouseOut }\n  }\n})\n</script>\n\n<style>\n.chart {\n  position: relative;\n}\n</style>\n","function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","<template>\n  <g :class=\"`layer-${type}`\">\n    <slot />\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject, onMounted, onUnmounted } from 'vue'\nimport { useChart } from '@/hooks'\nimport { LayerType } from '@/types'\n\nexport default defineComponent({\n  name: 'Layer',\n  props: {\n    type: {\n      type: String as () => LayerType,\n      default: 'custom'\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const id = new Date().getTime().toString()\n    const extraProps = inject('layerProps', {})\n\n    onMounted(() => {\n      chart.addLayer({ id, type: props.type, dataKeys: props.dataKeys, props: extraProps })\n    })\n\n    onUnmounted(() => {\n      chart.removeLayer(id)\n    })\n    return {}\n  }\n})\n</script>\n","<template>\n  <g :class=\"`layer-${type}`\">\n    <slot />\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, inject, onMounted, onUnmounted } from 'vue'\nimport { useChart } from '@/hooks'\nimport { LayerType } from '@/types'\n\nexport default defineComponent({\n  name: 'Layer',\n  props: {\n    type: {\n      type: String as () => LayerType,\n      default: 'custom'\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const id = new Date().getTime().toString()\n    const extraProps = inject('layerProps', {})\n\n    onMounted(() => {\n      chart.addLayer({ id, type: props.type, dataKeys: props.dataKeys, props: extraProps })\n    })\n\n    onUnmounted(() => {\n      chart.removeLayer(id)\n    })\n    return {}\n  }\n})\n</script>\n","<template>\n  <Layer type=\"area\" :dataKeys=\"dataKeys\">\n    <path v-bind=\"toKebabCase(getStyle())\" :d=\"d\" />\n  </Layer>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, watch, ref } from 'vue'\nimport {\n  area,\n  curveLinear,\n  curveStep,\n  curveNatural,\n  curveMonotoneX,\n  curveMonotoneY\n} from 'd3-shape'\nimport Layer from '../Layer/index.vue'\nimport { useBars, useChart, usePoints } from '@/hooks'\nimport { kebabize, mapKeys } from '@/utils'\n\nexport default defineComponent({\n  name: 'AreaComponent',\n  components: { Layer },\n  props: {\n    areaStyle: {\n      type: Object,\n      required: false\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    type: {\n      type: String as () => 'normal' | 'step' | 'natural' | 'monotone',\n      default: () => 'normal'\n    },\n    gap: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const { stacked } = inject('layerProps', { stacked: false })\n    const { points } = usePoints(props.dataKeys, {\n      stacked: false,\n      type: 'area'\n    })\n    const { bars } = useBars(props.dataKeys, {\n      stacked,\n      type: 'area',\n      gap: props.gap,\n      maxWidth: -1\n    })\n    const d = ref<string | null>('')\n\n    const lineType = (type: any) => {\n      // console.log(type, chart.config.direction)\n      const map: any = {\n        normal: curveLinear,\n        natural: curveNatural,\n        step: curveStep,\n        monotone:\n          chart.config.direction === 'horizontal'\n            ? curveMonotoneX\n            : curveMonotoneY\n      }\n\n      return map[type]\n    }\n\n    const buildArea = () => {\n      console.log(points.value)\n      const { secondary } = chart.scales\n      if (stacked) {\n        return area<any>()\n          .curve(lineType(props.type))\n          .x0((p) => p.x + p.width / 2)\n          .y0((p) => p.y)\n          .x1((p) => p.x + p.width / 2)\n          .y1((p) => p.y + p.height)\n      }\n\n      if (chart.config.direction === 'vertical') {\n        return area<any>()\n          .curve(lineType(props.type))\n          .y0((p) => p.y)\n          .y1((p) => p.y)\n          .x0((p) => p.x)\n          .x1(() => secondary.scale(0))\n      }\n\n      return area<any>()\n        .curve(lineType(props.type))\n        .x0((p) => p.x)\n        .x1((p) => p.x)\n        .y0((p) => p.y)\n        .y1(() => secondary.scale(0))\n    }\n\n    const getStyle = computed(() => {\n      return () => ({\n        fill: 'blue',\n        fillOpacity: 0.25,\n        stroke: 'none',\n        ...props.areaStyle\n      })\n    })\n\n    const toKebabCase = (data: any) => mapKeys(kebabize, data)\n\n    watch(points, () => {\n      d.value = stacked ? buildArea()(bars.value) : buildArea()(points.value)\n    })\n\n    return { d, getStyle, toKebabCase }\n  }\n})\n</script>\n","<template>\n  <Layer type=\"area\" :dataKeys=\"dataKeys\">\n    <path v-bind=\"toKebabCase(getStyle())\" :d=\"d\" />\n  </Layer>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject, watch, ref } from 'vue'\nimport {\n  area,\n  curveLinear,\n  curveStep,\n  curveNatural,\n  curveMonotoneX,\n  curveMonotoneY\n} from 'd3-shape'\nimport Layer from '../Layer/index.vue'\nimport { useBars, useChart, usePoints } from '@/hooks'\nimport { kebabize, mapKeys } from '@/utils'\n\nexport default defineComponent({\n  name: 'AreaComponent',\n  components: { Layer },\n  props: {\n    areaStyle: {\n      type: Object,\n      required: false\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    type: {\n      type: String as () => 'normal' | 'step' | 'natural' | 'monotone',\n      default: () => 'normal'\n    },\n    gap: {\n      type: Number,\n      default: 0\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const { stacked } = inject('layerProps', { stacked: false })\n    const { points } = usePoints(props.dataKeys, {\n      stacked: false,\n      type: 'area'\n    })\n    const { bars } = useBars(props.dataKeys, {\n      stacked,\n      type: 'area',\n      gap: props.gap,\n      maxWidth: -1\n    })\n    const d = ref<string | null>('')\n\n    const lineType = (type: any) => {\n      // console.log(type, chart.config.direction)\n      const map: any = {\n        normal: curveLinear,\n        natural: curveNatural,\n        step: curveStep,\n        monotone:\n          chart.config.direction === 'horizontal'\n            ? curveMonotoneX\n            : curveMonotoneY\n      }\n\n      return map[type]\n    }\n\n    const buildArea = () => {\n      console.log(points.value)\n      const { secondary } = chart.scales\n      if (stacked) {\n        return area<any>()\n          .curve(lineType(props.type))\n          .x0((p) => p.x + p.width / 2)\n          .y0((p) => p.y)\n          .x1((p) => p.x + p.width / 2)\n          .y1((p) => p.y + p.height)\n      }\n\n      if (chart.config.direction === 'vertical') {\n        return area<any>()\n          .curve(lineType(props.type))\n          .y0((p) => p.y)\n          .y1((p) => p.y)\n          .x0((p) => p.x)\n          .x1(() => secondary.scale(0))\n      }\n\n      return area<any>()\n        .curve(lineType(props.type))\n        .x0((p) => p.x)\n        .x1((p) => p.x)\n        .y0((p) => p.y)\n        .y1(() => secondary.scale(0))\n    }\n\n    const getStyle = computed(() => {\n      return () => ({\n        fill: 'blue',\n        fillOpacity: 0.25,\n        stroke: 'none',\n        ...props.areaStyle\n      })\n    })\n\n    const toKebabCase = (data: any) => mapKeys(kebabize, data)\n\n    watch(points, () => {\n      d.value = stacked ? buildArea()(bars.value) : buildArea()(points.value)\n    })\n\n    return { d, getStyle, toKebabCase }\n  }\n})\n</script>\n","<template>\n  <Layer :dataKeys=\"dataKeys\" type=\"line\">\n    <path class=\"chart-line\" v-bind=\"toKebabCase(getStyle())\" :d=\"d\" fill=\"none\" />\n    <!-- :stroke=\"stroke\"\n      :stroke-width=\"strokeWidth\"\n      stroke-linejoin=\"round\"\n      stroke-linecap=\"round\" -->\n    <g v-if=\"!hideDot\">\n      <circle\n        v-bind=\"toKebabCase(getDotStyle({ active: i === mouse.index }))\"\n        v-for=\"(c, i) in points\"\n        :key=\"i\"\n        :cx=\"c.x\"\n        :cy=\"c.y\"\n      />\n    </g>\n  </Layer>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, watch, ref, inject } from 'vue'\nimport { line, curveLinear, curveStepAfter, curveNatural, curveMonotoneX, curveMonotoneY } from 'd3-shape'\nimport { Point } from '@/types'\nimport { is } from 'ramda'\nimport { useChart, useMouse, usePoints } from '@/hooks'\nimport Layer from '../Layer/index.vue'\nimport { kebabize, mapKeys } from '@/utils'\n\nexport default defineComponent({\n  name: 'LineComponent',\n  components: { Layer },\n  props: {\n    lineStyle: {\n      type: Object,\n      required: false\n    },\n    dotStyle: {\n      type: Object,\n      required: false\n    },\n    hideDot: {\n      type: Boolean,\n      default: false\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    type: {\n      type: String as () => 'normal' | 'step' | 'natural' | 'monotone',\n      default: () => 'normal'\n    }\n  },\n  setup(props) {\n    const { stacked } = inject('layerProps', { stacked: false })\n    const mouse = useMouse()\n    const chart = useChart()\n    const d = ref<string | null>('')\n    const { points } = usePoints(props.dataKeys, { stacked, type: 'line' })\n\n    const lineType = {\n      normal: curveLinear,\n      natural: curveNatural,\n      step: curveStepAfter,\n      monotone: curveMonotoneX\n    }\n\n    function updateLine() {\n      let type = lineType[props.type]\n\n      if (props.type === 'monotone' && chart.config.direction === 'vertical') {\n        type = curveMonotoneY\n      }\n\n      d.value = line<Point>()\n        .x((p) => p.x)\n        .y((p) => p.y)\n        .curve(type)(points.value)\n    }\n\n    function computeDotStyle(active: boolean) {\n      const dotStyle = props.dotStyle\n      const style = getStyle.value()\n\n      return {\n        r: active ? 5 : 3,\n        stroke: style.stroke,\n        strokeWidth: style.strokeWidth,\n        fill: 'white',\n        ...dotStyle\n      }\n    }\n\n    const getStyle = computed(() => {\n      if (is(Function, props.lineStyle)) {\n        return props.lineStyle as () => any\n      }\n\n      return () => ({\n        stroke: '#8884d8',\n        strokeWidth: 2,\n        ...props.lineStyle\n      })\n    })\n\n    const getDotStyle = computed(() => {\n      if (is(Function, props.dotStyle)) {\n        return props.dotStyle\n      }\n\n      return ({ active }: { active: boolean }) => computeDotStyle(active)\n    })\n\n    watch(points, () => updateLine())\n    watch(chart.updates, () => updateLine())\n\n    const toKebabCase = (data: any) => mapKeys(kebabize, data)\n    return { d, mouse, points, toKebabCase, getStyle, getDotStyle }\n  }\n})\n</script>\n","<template>\n  <Layer :dataKeys=\"dataKeys\" type=\"line\">\n    <path class=\"chart-line\" v-bind=\"toKebabCase(getStyle())\" :d=\"d\" fill=\"none\" />\n    <!-- :stroke=\"stroke\"\n      :stroke-width=\"strokeWidth\"\n      stroke-linejoin=\"round\"\n      stroke-linecap=\"round\" -->\n    <g v-if=\"!hideDot\">\n      <circle\n        v-bind=\"toKebabCase(getDotStyle({ active: i === mouse.index }))\"\n        v-for=\"(c, i) in points\"\n        :key=\"i\"\n        :cx=\"c.x\"\n        :cy=\"c.y\"\n      />\n    </g>\n  </Layer>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, watch, ref, inject } from 'vue'\nimport { line, curveLinear, curveStepAfter, curveNatural, curveMonotoneX, curveMonotoneY } from 'd3-shape'\nimport { Point } from '@/types'\nimport { is } from 'ramda'\nimport { useChart, useMouse, usePoints } from '@/hooks'\nimport Layer from '../Layer/index.vue'\nimport { kebabize, mapKeys } from '@/utils'\n\nexport default defineComponent({\n  name: 'LineComponent',\n  components: { Layer },\n  props: {\n    lineStyle: {\n      type: Object,\n      required: false\n    },\n    dotStyle: {\n      type: Object,\n      required: false\n    },\n    hideDot: {\n      type: Boolean,\n      default: false\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    type: {\n      type: String as () => 'normal' | 'step' | 'natural' | 'monotone',\n      default: () => 'normal'\n    }\n  },\n  setup(props) {\n    const { stacked } = inject('layerProps', { stacked: false })\n    const mouse = useMouse()\n    const chart = useChart()\n    const d = ref<string | null>('')\n    const { points } = usePoints(props.dataKeys, { stacked, type: 'line' })\n\n    const lineType = {\n      normal: curveLinear,\n      natural: curveNatural,\n      step: curveStepAfter,\n      monotone: curveMonotoneX\n    }\n\n    function updateLine() {\n      let type = lineType[props.type]\n\n      if (props.type === 'monotone' && chart.config.direction === 'vertical') {\n        type = curveMonotoneY\n      }\n\n      d.value = line<Point>()\n        .x((p) => p.x)\n        .y((p) => p.y)\n        .curve(type)(points.value)\n    }\n\n    function computeDotStyle(active: boolean) {\n      const dotStyle = props.dotStyle\n      const style = getStyle.value()\n\n      return {\n        r: active ? 5 : 3,\n        stroke: style.stroke,\n        strokeWidth: style.strokeWidth,\n        fill: 'white',\n        ...dotStyle\n      }\n    }\n\n    const getStyle = computed(() => {\n      if (is(Function, props.lineStyle)) {\n        return props.lineStyle as () => any\n      }\n\n      return () => ({\n        stroke: '#8884d8',\n        strokeWidth: 2,\n        ...props.lineStyle\n      })\n    })\n\n    const getDotStyle = computed(() => {\n      if (is(Function, props.dotStyle)) {\n        return props.dotStyle\n      }\n\n      return ({ active }: { active: boolean }) => computeDotStyle(active)\n    })\n\n    watch(points, () => updateLine())\n    watch(chart.updates, () => updateLine())\n\n    const toKebabCase = (data: any) => mapKeys(kebabize, data)\n    return { d, mouse, points, toKebabCase, getStyle, getDotStyle }\n  }\n})\n</script>\n","<template>\n  <Layer :dataKeys=\"dataKeys\" type=\"bar\">\n    <text v-if=\"bars.length === 0\">No Data</text>\n    <rect\n      v-for=\"(bar, i) in bars\"\n      class=\"chart-bar\"\n      v-bind=\"\n        toKebabCase(getStyle({ ...bar.props, active: i === mouse.index }))\n      \"\n      :key=\"i\"\n      :x=\"bar.x\"\n      :y=\"bar.y\"\n      :width=\"bar.width > 0 ? bar.width : 0\"\n      :height=\"bar.height > 0 ? bar.height : 0\"\n      @click=\"() => onBarClick(bar, i)\"\n    />\n    <rect\n      v-if=\"selectedBar\"\n      class=\"chart-bar\"\n      v-bind=\"\n        toKebabCase(getStyleSelected({ ...selectedBar.props }))\n      \"\n      :x=\"selectedBar.x\"\n      :y=\"selectedBar.y\"\n      :width=\"selectedBar.width > 0 ? selectedBar.width : 0\"\n      :height=\"selectedBar.height > 0 ? selectedBar.height : 0\"\n    />\n  </Layer>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject } from 'vue'\nimport { useBars, useMouse } from '@/hooks'\nimport { is } from 'ramda'\nimport Layer from '../Layer/index.vue'\nimport { kebabize, mapKeys } from '@/utils'\n\nexport default defineComponent({\n  name: 'Bar',\n  components: { Layer },\n  props: {\n    selectedBar: {\n      type: Object,\n      default: () => null\n    },\n    barStyle: {\n      type: [Function, Object],\n      default: () => ({\n        fill: 'blue'\n      })\n    },\n    barStyleSelected: {\n      type: [Function, Object],\n      default: () => ({\n        fill: 'darkblue'\n      })\n    },\n    maxWidth: {\n      type: Number,\n      default: -1\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    gap: {\n      type: Number,\n      default: 5\n    }\n  },\n  setup(props, { emit }) {\n    const mouse = useMouse()\n    const { stacked, maxWidth } = inject('layerProps', {\n      stacked: false,\n      maxWidth: -1\n    })\n    const { bars } = useBars(props.dataKeys, {\n      maxWidth: Math.max(props.maxWidth, maxWidth),\n      stacked,\n      gap: props.gap,\n      type: 'bar'\n    })\n\n    const getStyle = computed(() => {\n      if (is(Function, props.barStyle)) {\n        return props.barStyle\n      }\n\n      return () => props.barStyle\n    })\n\n    const getStyleSelected = computed(() => {\n      if (is(Function, props.barStyleSelected)) {\n        return props.barStyleSelected\n      }\n\n      return () => props.barStyleSelected\n    })\n\n    const toKebabCase = (data: any) => mapKeys(kebabize, data)\n\n    function onBarClick(bar: any, idx: number) {\n      emit('barClick', { ...bar, idx })\n    }\n\n    return { getStyle, getStyleSelected, toKebabCase, bars, mouse, onBarClick }\n  }\n})\n</script>\n","<template>\n  <Layer :dataKeys=\"dataKeys\" type=\"bar\">\n    <text v-if=\"bars.length === 0\">No Data</text>\n    <rect\n      v-for=\"(bar, i) in bars\"\n      class=\"chart-bar\"\n      v-bind=\"\n        toKebabCase(getStyle({ ...bar.props, active: i === mouse.index }))\n      \"\n      :key=\"i\"\n      :x=\"bar.x\"\n      :y=\"bar.y\"\n      :width=\"bar.width > 0 ? bar.width : 0\"\n      :height=\"bar.height > 0 ? bar.height : 0\"\n      @click=\"() => onBarClick(bar, i)\"\n    />\n    <rect\n      v-if=\"selectedBar\"\n      class=\"chart-bar\"\n      v-bind=\"\n        toKebabCase(getStyleSelected({ ...selectedBar.props }))\n      \"\n      :x=\"selectedBar.x\"\n      :y=\"selectedBar.y\"\n      :width=\"selectedBar.width > 0 ? selectedBar.width : 0\"\n      :height=\"selectedBar.height > 0 ? selectedBar.height : 0\"\n    />\n  </Layer>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, inject } from 'vue'\nimport { useBars, useMouse } from '@/hooks'\nimport { is } from 'ramda'\nimport Layer from '../Layer/index.vue'\nimport { kebabize, mapKeys } from '@/utils'\n\nexport default defineComponent({\n  name: 'Bar',\n  components: { Layer },\n  props: {\n    selectedBar: {\n      type: Object,\n      default: () => null\n    },\n    barStyle: {\n      type: [Function, Object],\n      default: () => ({\n        fill: 'blue'\n      })\n    },\n    barStyleSelected: {\n      type: [Function, Object],\n      default: () => ({\n        fill: 'darkblue'\n      })\n    },\n    maxWidth: {\n      type: Number,\n      default: -1\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    gap: {\n      type: Number,\n      default: 5\n    }\n  },\n  setup(props, { emit }) {\n    const mouse = useMouse()\n    const { stacked, maxWidth } = inject('layerProps', {\n      stacked: false,\n      maxWidth: -1\n    })\n    const { bars } = useBars(props.dataKeys, {\n      maxWidth: Math.max(props.maxWidth, maxWidth),\n      stacked,\n      gap: props.gap,\n      type: 'bar'\n    })\n\n    const getStyle = computed(() => {\n      if (is(Function, props.barStyle)) {\n        return props.barStyle\n      }\n\n      return () => props.barStyle\n    })\n\n    const getStyleSelected = computed(() => {\n      if (is(Function, props.barStyleSelected)) {\n        return props.barStyleSelected\n      }\n\n      return () => props.barStyleSelected\n    })\n\n    const toKebabCase = (data: any) => mapKeys(kebabize, data)\n\n    function onBarClick(bar: any, idx: number) {\n      emit('barClick', { ...bar, idx })\n    }\n\n    return { getStyle, getStyleSelected, toKebabCase, bars, mouse, onBarClick }\n  }\n})\n</script>\n","import type { Axis } from 'd3-axis'\nimport { PieArcDatum } from 'd3-shape'\n\nexport type Arc = PieArcDatum<number | { valueOf(): number }>\n\nexport type PieSortType = 'desc' | 'asc' | 'none' | 'custom'\nexport const PieSort = String as () => PieSortType\n\nexport interface Point {\n  x: number\n  y: number\n  props: any\n}\n\nexport interface Rectangle {\n  x: number\n  y: number\n  width: number\n  height: number\n  props: any\n}\n\nexport interface Margin {\n  top: number\n  right: number\n  bottom: number\n  left: number\n}\n\nexport interface Size {\n  width: number\n  height: number\n}\n\nexport interface Data {\n  [key: string]: string | number\n}\n\nexport type LayerType = 'bar' | 'line' | 'area' | 'pie' | 'points' | 'custom'\n\nexport interface Layer {\n  id: string\n  dataKeys: [string, string]\n  type: LayerType\n  props: any\n}\n\nexport interface Canvas {\n  x: number\n  y: number\n  width: number\n  height: number\n}\n\nexport type Domain = [string | number, string | number]\nexport type Direction = 'horizontal' | 'vertical' | 'circular'\nexport type ScaleType = 'band' | 'linear'\n\nexport interface AxisConfig {\n  domain: Domain\n  type: ScaleType\n  format?: (_: string) => string\n  ticks?: number\n  tickValues?: any[]\n  hide?: boolean\n  rotate?:boolean\n  useConfig?: (ax: Axis<any>) => void\n}\n\nexport interface ChartAxis {\n  primary: AxisConfig\n  secondary: AxisConfig\n}\n\nexport interface ChartConfig {\n  size: Size\n  margin: Margin\n  direction: Direction\n  axis: ChartAxis\n  axisSpace: { x: number, y: number }\n  controlHover?: boolean\n}\n\nexport interface Payload {\n  color: string\n  label: string\n  values: any\n}\n","<template>\n  <Layer :dataKeys=\"dataKeys\" type=\"pie\">\n    <text v-if=\"arcs.length === 0\">No Data</text>\n    <g :transform=\"transform\">\n      <path\n        v-for=\"(arc, i) in arcs\"\n        :key=\"i\"\n        :id=\"`arc-${i}`\"\n        class=\"chart-pie\"\n        v-bind=\"toKebabCase(getStyle())\"\n        :fill=\"getColor(i)\"\n        :d=\"arcGen()(arc)\"\n        @mousemove=\"showTooltip($event, i)\" @mouseleave=\"hideTooltip()\"\n      />\n    </g>\n  </Layer>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { useMouse, useChart } from '@/hooks'\nimport Layer from '../Layer/index.vue'\nimport { Arc, PieSort } from '@/types'\nimport { kebabize, mapKeys } from '@/utils'\nimport { pie, arc } from 'd3-shape'\nimport { scaleOrdinal } from 'd3-scale'\nimport { pointer } from 'd3-selection'\nimport { ascending, descending } from 'd3-array'\n\nexport default defineComponent({\n  name: 'PieLayer',\n  components: { Layer },\n  props: {\n    pieStyle: {\n      type: Object,\n      required: false\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    sort: {\n      type: PieSort,\n      default: 'desc',\n      required: false\n    },\n    sortFunc: {\n      type: Function,\n      required: false\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const mouse = useMouse()\n    const size = ref(Math.min(\n      chart.canvas.width - chart.canvas.x,\n      chart.canvas.height - chart.canvas.y) / 2\n    )\n\n    const getStyle = computed(() => {\n      return () => ({\n        colors: ['#4daf4a', '#377eb8', '#ff7f00', '#984ea3', '#e41a1c'],\n        innerRadius: 2,\n        cornerRadius: 0,\n        padAngle: 0.01,\n        ...props.pieStyle\n      })\n    })\n\n    const style = getStyle.value()\n    const arcs = ref<Arc[]>([])\n    const colors = scaleOrdinal(getStyle.value().colors)\n    const arcGen = () => {\n      return arc()\n        .outerRadius(size.value)\n        .innerRadius(style.innerRadius)\n        .cornerRadius(style.cornerRadius)\n        .padAngle(style.padAngle)\n    }\n\n    const transform = ref(`translate(${size.value + chart.canvas.x}, ${size.value + chart.canvas.y})`)\n\n    let pieSort: any\n    switch (props.sort) {\n      case 'desc': pieSort = descending; break\n      case 'asc': pieSort = ascending; break\n      case 'none': pieSort = null; break\n      case 'custom': pieSort = props.sortFunc ?? null; break\n      default: pieSort = null\n    }\n\n    function updatePie() {\n      // const key = chart.getKeys(1)\n      const data = chart.getData([props.dataKeys[1]])\n      arcs.value = pie().sort(pieSort)(data)\n    }\n\n    function getColor(index: number) {\n      return colors(index.toString())\n    }\n\n    function showTooltip(event: MouseEvent, index: number) {\n      mouse.hover = true\n      mouse.index = index// - chart.data.length\n      const [x, y] = pointer(event)\n      mouse.position = { x: x + size.value, y: y + size.value }\n    }\n\n    function hideTooltip() {\n      mouse.hover = false\n      mouse.index = -1\n    }\n\n    function toKebabCase(data: any) {\n      mapKeys(kebabize, data)\n    }\n\n    watch(chart.updates, () => {\n      size.value = Math.min(\n        chart.canvas.width - chart.canvas.x,\n        (chart.canvas.height - chart.canvas.y) / 2\n      )\n\n      transform.value = `translate(${size.value + chart.canvas.x}, ${size.value + chart.canvas.y})`\n\n      updatePie()\n    })\n\n    return {\n      arcs,\n      arcGen,\n      getStyle,\n      transform,\n      getColor,\n      hideTooltip,\n      toKebabCase,\n      showTooltip\n    }\n  }\n})\n</script>\n","<template>\n  <Layer :dataKeys=\"dataKeys\" type=\"pie\">\n    <text v-if=\"arcs.length === 0\">No Data</text>\n    <g :transform=\"transform\">\n      <path\n        v-for=\"(arc, i) in arcs\"\n        :key=\"i\"\n        :id=\"`arc-${i}`\"\n        class=\"chart-pie\"\n        v-bind=\"toKebabCase(getStyle())\"\n        :fill=\"getColor(i)\"\n        :d=\"arcGen()(arc)\"\n        @mousemove=\"showTooltip($event, i)\" @mouseleave=\"hideTooltip()\"\n      />\n    </g>\n  </Layer>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { useMouse, useChart } from '@/hooks'\nimport Layer from '../Layer/index.vue'\nimport { Arc, PieSort } from '@/types'\nimport { kebabize, mapKeys } from '@/utils'\nimport { pie, arc } from 'd3-shape'\nimport { scaleOrdinal } from 'd3-scale'\nimport { pointer } from 'd3-selection'\nimport { ascending, descending } from 'd3-array'\n\nexport default defineComponent({\n  name: 'PieLayer',\n  components: { Layer },\n  props: {\n    pieStyle: {\n      type: Object,\n      required: false\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    sort: {\n      type: PieSort,\n      default: 'desc',\n      required: false\n    },\n    sortFunc: {\n      type: Function,\n      required: false\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const mouse = useMouse()\n    const size = ref(Math.min(\n      chart.canvas.width - chart.canvas.x,\n      chart.canvas.height - chart.canvas.y) / 2\n    )\n\n    const getStyle = computed(() => {\n      return () => ({\n        colors: ['#4daf4a', '#377eb8', '#ff7f00', '#984ea3', '#e41a1c'],\n        innerRadius: 2,\n        cornerRadius: 0,\n        padAngle: 0.01,\n        ...props.pieStyle\n      })\n    })\n\n    const style = getStyle.value()\n    const arcs = ref<Arc[]>([])\n    const colors = scaleOrdinal(getStyle.value().colors)\n    const arcGen = () => {\n      return arc()\n        .outerRadius(size.value)\n        .innerRadius(style.innerRadius)\n        .cornerRadius(style.cornerRadius)\n        .padAngle(style.padAngle)\n    }\n\n    const transform = ref(`translate(${size.value + chart.canvas.x}, ${size.value + chart.canvas.y})`)\n\n    let pieSort: any\n    switch (props.sort) {\n      case 'desc': pieSort = descending; break\n      case 'asc': pieSort = ascending; break\n      case 'none': pieSort = null; break\n      case 'custom': pieSort = props.sortFunc ?? null; break\n      default: pieSort = null\n    }\n\n    function updatePie() {\n      // const key = chart.getKeys(1)\n      const data = chart.getData([props.dataKeys[1]])\n      arcs.value = pie().sort(pieSort)(data)\n    }\n\n    function getColor(index: number) {\n      return colors(index.toString())\n    }\n\n    function showTooltip(event: MouseEvent, index: number) {\n      mouse.hover = true\n      mouse.index = index// - chart.data.length\n      const [x, y] = pointer(event)\n      mouse.position = { x: x + size.value, y: y + size.value }\n    }\n\n    function hideTooltip() {\n      mouse.hover = false\n      mouse.index = -1\n    }\n\n    function toKebabCase(data: any) {\n      mapKeys(kebabize, data)\n    }\n\n    watch(chart.updates, () => {\n      size.value = Math.min(\n        chart.canvas.width - chart.canvas.x,\n        (chart.canvas.height - chart.canvas.y) / 2\n      )\n\n      transform.value = `translate(${size.value + chart.canvas.x}, ${size.value + chart.canvas.y})`\n\n      updatePie()\n    })\n\n    return {\n      arcs,\n      arcGen,\n      getStyle,\n      transform,\n      getColor,\n      hideTooltip,\n      toKebabCase,\n      showTooltip\n    }\n  }\n})\n</script>\n","<template>\n  <div ref=\"el\">\n    <slot name=\"main\" :width=\"width\" :height=\"height\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { useResize } from '@/hooks'\nimport { defineComponent, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'Responsive',\n  setup() {\n    const el = ref(null)\n    const { width, height } = useResize(el)\n\n    return { el, width, height }\n  }\n})\n</script>\n\n<style></style>\n","<template>\n  <div ref=\"el\">\n    <slot name=\"main\" :width=\"width\" :height=\"height\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { useResize } from '@/hooks'\nimport { defineComponent, ref } from 'vue'\n\nexport default defineComponent({\n  name: 'Responsive',\n  setup() {\n    const el = ref(null)\n    const { width, height } = useResize(el)\n\n    return { el, width, height }\n  }\n})\n</script>\n\n<style></style>\n","<template>\n  <g\n    v-if=\"data.length\"\n    class=\"layer-grid\"\n    stroke=\"black\"\n    stroke-opacity=\"0.15\"\n    stroke-width=\"1\"\n    :stroke-dasharray=\"strokeDasharray\"\n  >\n    <g class=\"grid-x\" v-if=\"!hideX\">\n      <line v-for=\"(y, i) in xLines\" :key=\"i\" :x1=\"canvas.x\" :y1=\"y\" :x2=\"canvas.width\" :y2=\"y\" />\n    </g>\n    <g class=\"grid-y\" v-if=\"!hideY\">\n      <line v-for=\"(x, i) in yLines\" :key=\"i\" :x1=\"x\" :y1=\"canvas.y\" :x2=\"x\" :y2=\"canvas.height\" />\n    </g>\n    <g>\n      <line :x1=\"canvas.x\" :y1=\"canvas.y\" :x2=\"canvas.width\" :y2=\"canvas.y\" />\n      <line :x1=\"canvas.width - 1\" :y1=\"canvas.y\" :x2=\"canvas.width - 1\" :y2=\"canvas.height\" />\n    </g>\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { useChart } from '@/hooks'\nimport { Canvas, Data } from '@/types'\nimport { defineComponent, ref, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'Grid',\n  props: {\n    strokeDasharray: {\n      type: String,\n      default: () => '3 3'\n    },\n    hideX: {\n      type: Boolean,\n      default: false\n    },\n    hideY: {\n      type: Boolean,\n      default: false\n    },\n    center: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const data = ref<Data[]>([])\n    const canvas = ref<Canvas | null>(null)\n    const xLines = ref<number[]>([])\n    const yLines = ref<number[]>([])\n\n    function updateXLines() {\n      const { primary, secondary } = chart.scales\n      const current = chart.config.direction === 'horizontal' ? secondary : primary\n\n      if (current.type === 'band' && !props.center) {\n        const vals = current.map(chart.getData(chart.getKeys(0))).map((x) => x + current.bandwidth() / 2)\n        vals.pop()\n        xLines.value = vals\n      } else {\n        const ticks = current.ticks()\n        xLines.value = current.map(ticks)\n      }\n    }\n\n    function updateYLines() {\n      const { primary, secondary } = chart.scales\n      const current = chart.config.direction === 'horizontal' ? primary : secondary\n\n      if (current.type === 'band' && !props.center) {\n        const vals = current.map(chart.getData(chart.getKeys(0))).map((x) => x + current.bandwidth() / 2)\n        vals.pop()\n        yLines.value = vals\n      } else {\n        const ticks = current.ticks()\n        yLines.value = current.map(ticks)\n      }\n    }\n\n    watch(chart.updates, () => {\n      data.value = chart.data\n      canvas.value = chart.canvas\n\n      updateXLines()\n      updateYLines()\n    })\n\n    return { data, canvas, xLines, yLines }\n  }\n})\n</script>\n","<template>\n  <g\n    v-if=\"data.length\"\n    class=\"layer-grid\"\n    stroke=\"black\"\n    stroke-opacity=\"0.15\"\n    stroke-width=\"1\"\n    :stroke-dasharray=\"strokeDasharray\"\n  >\n    <g class=\"grid-x\" v-if=\"!hideX\">\n      <line v-for=\"(y, i) in xLines\" :key=\"i\" :x1=\"canvas.x\" :y1=\"y\" :x2=\"canvas.width\" :y2=\"y\" />\n    </g>\n    <g class=\"grid-y\" v-if=\"!hideY\">\n      <line v-for=\"(x, i) in yLines\" :key=\"i\" :x1=\"x\" :y1=\"canvas.y\" :x2=\"x\" :y2=\"canvas.height\" />\n    </g>\n    <g>\n      <line :x1=\"canvas.x\" :y1=\"canvas.y\" :x2=\"canvas.width\" :y2=\"canvas.y\" />\n      <line :x1=\"canvas.width - 1\" :y1=\"canvas.y\" :x2=\"canvas.width - 1\" :y2=\"canvas.height\" />\n    </g>\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { useChart } from '@/hooks'\nimport { Canvas, Data } from '@/types'\nimport { defineComponent, ref, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'Grid',\n  props: {\n    strokeDasharray: {\n      type: String,\n      default: () => '3 3'\n    },\n    hideX: {\n      type: Boolean,\n      default: false\n    },\n    hideY: {\n      type: Boolean,\n      default: false\n    },\n    center: {\n      type: Boolean,\n      default: true\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const data = ref<Data[]>([])\n    const canvas = ref<Canvas | null>(null)\n    const xLines = ref<number[]>([])\n    const yLines = ref<number[]>([])\n\n    function updateXLines() {\n      const { primary, secondary } = chart.scales\n      const current = chart.config.direction === 'horizontal' ? secondary : primary\n\n      if (current.type === 'band' && !props.center) {\n        const vals = current.map(chart.getData(chart.getKeys(0))).map((x) => x + current.bandwidth() / 2)\n        vals.pop()\n        xLines.value = vals\n      } else {\n        const ticks = current.ticks()\n        xLines.value = current.map(ticks)\n      }\n    }\n\n    function updateYLines() {\n      const { primary, secondary } = chart.scales\n      const current = chart.config.direction === 'horizontal' ? primary : secondary\n\n      if (current.type === 'band' && !props.center) {\n        const vals = current.map(chart.getData(chart.getKeys(0))).map((x) => x + current.bandwidth() / 2)\n        vals.pop()\n        yLines.value = vals\n      } else {\n        const ticks = current.ticks()\n        yLines.value = current.map(ticks)\n      }\n    }\n\n    watch(chart.updates, () => {\n      data.value = chart.data\n      canvas.value = chart.canvas\n\n      updateXLines()\n      updateYLines()\n    })\n\n    return { data, canvas, xLines, yLines }\n  }\n})\n</script>\n","<template>\n  <div class=\"v-tooltip\" :style=\"style\" v-if=\"show\">\n    <div class=\"v-tooltip-content\" :style=\"styleContent\" ref=\"el\">\n      <slot :payload=\"items\">\n        <div :style=\"{ borderColor: color }\">\n          <div v-for=\"(item, i) in items\" :key=\"i\" :style=\"{ color: item.color }\">\n            <b>{{ item.label }}</b>: {{ item.valueFormatted }}\n          </div>\n        </div>\n      </slot>\n    </div>\n    <div v-if=\"!hideLine\">\n      <div\n        v-if=\"direction === 'horizontal'\"\n        class=\"v-tooltip-line-vertical\"\n        :style=\"{\n          height: canvas.height + 'px'\n        }\"\n      />\n      <div\n        v-else\n        class=\"v-tooltip-line-horizontal\"\n        :style=\"{\n          width: canvas.width - 40 + 'px'\n        }\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { format } from 'd3-format'\nimport { is, omit } from 'ramda'\nimport { useChart, useTooltip } from '@/hooks'\nimport { Canvas } from '@/types'\n\nexport default defineComponent({\n  name: 'Tooltip',\n  components: {},\n  props: {\n    format: {\n      type: String,\n      default: ',.0f'\n    },\n    color: {\n      type: String,\n      default: '#7876ec'\n    },\n    hideLine: {\n      type: Boolean,\n      default: false\n    },\n    config: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const el = ref(null)\n    const chart = useChart()\n    const canvas = ref<Canvas>(chart.canvas)\n    const direction = ref(chart.config.direction)\n    const { position, payload, show } = useTooltip()\n\n    const isRight = computed(() => {\n      return position.value.x >= (canvas.value.width / 4) * 3\n    })\n\n    const style = computed(() => {\n      if (direction.value === 'vertical') {\n        return {\n          top: position.value.y - 0.5 + 'px',\n          left: canvas.value.x + 'px'\n        }\n      } else if (direction.value === 'horizontal') {\n        return {\n          top: canvas.value.y + 'px',\n          left: position.value.x - 0.5 + 'px'\n        }\n      } else {\n        return {\n          top: canvas.value.y + 'px',\n          left: canvas.value.x + 'px'\n        }\n      }\n    })\n    const styleContent = computed(() => {\n      if (direction.value === 'vertical') {\n        return {\n          top: 5 + 'px',\n          left: position.value.x - 30 + 'px'\n        }\n      } else if (direction.value === 'horizontal') {\n        return {\n          top: position.value.y + 'px',\n          transform: `translateX(${isRight.value ? '-100%' : 0})`\n        }\n      } else {\n        return {\n          top: position.value.y + 'px',\n          left: position.value.x + 'px'\n        }\n      }\n    })\n\n    const formatValue = (val: any, formatter: any) => {\n      return is(Function, formatter) ? formatter(val) : is(Number, val) ? format(formatter as string)(val) : val\n    }\n\n    const items = computed(() => {\n      return Object.keys(omit(['idx'], payload.value))\n        .map((key) => {\n          const config = {\n            ...{ label: key, format: props.format, color: props.color, hide: false },\n            ...props.config[key]\n          }\n\n          return {\n            key,\n            label: config.label,\n            value: payload.value[key],\n            valueFormatted: formatValue(payload.value[key], config.format),\n            color: is(Function, config.color) ? config.color(payload.value) : config.color,\n            hide: config.hide\n          }\n        })\n        .filter((i) => !i.hide)\n    })\n\n    watch(chart.updates, () => {\n      direction.value = chart.config.direction\n      canvas.value = chart.canvas\n    })\n\n    return { el, show, canvas, direction, style, styleContent, position, items, isRight }\n  }\n})\n</script>\n\n<style scoped>\n.v-tooltip {\n  position: absolute;\n  pointer-events: none;\n}\n\n.v-tooltip-content {\n  position: absolute;\n  white-space: nowrap;\n  pointer-events: none;\n}\n\n.v-tooltip-content > div {\n  margin-left: 5px;\n  margin-right: 5px;\n  border: 2px solid;\n  background-color: white;\n  padding: 8px;\n  text-align: left;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n}\n\n.v-tooltip-right {\n  transform: translateX(-100%);\n  margin-left: 0;\n}\n\n.v-tooltip-line-vertical {\n  top: 0px;\n  position: absolute;\n  width: 1px;\n  background-color: black;\n  pointer-events: none;\n  opacity: 0.3;\n}\n\n.v-tooltip-line-horizontal {\n  left: 0px;\n  position: absolute;\n  height: 1px;\n  background-color: black;\n  pointer-events: none;\n  opacity: 0.3;\n}\n</style>\n","<template>\n  <div class=\"v-tooltip\" :style=\"style\" v-if=\"show\">\n    <div class=\"v-tooltip-content\" :style=\"styleContent\" ref=\"el\">\n      <slot :payload=\"items\">\n        <div :style=\"{ borderColor: color }\">\n          <div v-for=\"(item, i) in items\" :key=\"i\" :style=\"{ color: item.color }\">\n            <b>{{ item.label }}</b>: {{ item.valueFormatted }}\n          </div>\n        </div>\n      </slot>\n    </div>\n    <div v-if=\"!hideLine\">\n      <div\n        v-if=\"direction === 'horizontal'\"\n        class=\"v-tooltip-line-vertical\"\n        :style=\"{\n          height: canvas.height + 'px'\n        }\"\n      />\n      <div\n        v-else\n        class=\"v-tooltip-line-horizontal\"\n        :style=\"{\n          width: canvas.width - 40 + 'px'\n        }\"\n      />\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watch } from 'vue'\nimport { format } from 'd3-format'\nimport { is, omit } from 'ramda'\nimport { useChart, useTooltip } from '@/hooks'\nimport { Canvas } from '@/types'\n\nexport default defineComponent({\n  name: 'Tooltip',\n  components: {},\n  props: {\n    format: {\n      type: String,\n      default: ',.0f'\n    },\n    color: {\n      type: String,\n      default: '#7876ec'\n    },\n    hideLine: {\n      type: Boolean,\n      default: false\n    },\n    config: {\n      type: Object,\n      default: () => ({})\n    }\n  },\n  setup(props) {\n    const el = ref(null)\n    const chart = useChart()\n    const canvas = ref<Canvas>(chart.canvas)\n    const direction = ref(chart.config.direction)\n    const { position, payload, show } = useTooltip()\n\n    const isRight = computed(() => {\n      return position.value.x >= (canvas.value.width / 4) * 3\n    })\n\n    const style = computed(() => {\n      if (direction.value === 'vertical') {\n        return {\n          top: position.value.y - 0.5 + 'px',\n          left: canvas.value.x + 'px'\n        }\n      } else if (direction.value === 'horizontal') {\n        return {\n          top: canvas.value.y + 'px',\n          left: position.value.x - 0.5 + 'px'\n        }\n      } else {\n        return {\n          top: canvas.value.y + 'px',\n          left: canvas.value.x + 'px'\n        }\n      }\n    })\n    const styleContent = computed(() => {\n      if (direction.value === 'vertical') {\n        return {\n          top: 5 + 'px',\n          left: position.value.x - 30 + 'px'\n        }\n      } else if (direction.value === 'horizontal') {\n        return {\n          top: position.value.y + 'px',\n          transform: `translateX(${isRight.value ? '-100%' : 0})`\n        }\n      } else {\n        return {\n          top: position.value.y + 'px',\n          left: position.value.x + 'px'\n        }\n      }\n    })\n\n    const formatValue = (val: any, formatter: any) => {\n      return is(Function, formatter) ? formatter(val) : is(Number, val) ? format(formatter as string)(val) : val\n    }\n\n    const items = computed(() => {\n      return Object.keys(omit(['idx'], payload.value))\n        .map((key) => {\n          const config = {\n            ...{ label: key, format: props.format, color: props.color, hide: false },\n            ...props.config[key]\n          }\n\n          return {\n            key,\n            label: config.label,\n            value: payload.value[key],\n            valueFormatted: formatValue(payload.value[key], config.format),\n            color: is(Function, config.color) ? config.color(payload.value) : config.color,\n            hide: config.hide\n          }\n        })\n        .filter((i) => !i.hide)\n    })\n\n    watch(chart.updates, () => {\n      direction.value = chart.config.direction\n      canvas.value = chart.canvas\n    })\n\n    return { el, show, canvas, direction, style, styleContent, position, items, isRight }\n  }\n})\n</script>\n\n<style scoped>\n.v-tooltip {\n  position: absolute;\n  pointer-events: none;\n}\n\n.v-tooltip-content {\n  position: absolute;\n  white-space: nowrap;\n  pointer-events: none;\n}\n\n.v-tooltip-content > div {\n  margin-left: 5px;\n  margin-right: 5px;\n  border: 2px solid;\n  background-color: white;\n  padding: 8px;\n  text-align: left;\n  border-radius: 4px;\n  box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);\n}\n\n.v-tooltip-right {\n  transform: translateX(-100%);\n  margin-left: 0;\n}\n\n.v-tooltip-line-vertical {\n  top: 0px;\n  position: absolute;\n  width: 1px;\n  background-color: black;\n  pointer-events: none;\n  opacity: 0.3;\n}\n\n.v-tooltip-line-horizontal {\n  left: 0px;\n  position: absolute;\n  height: 1px;\n  background-color: black;\n  pointer-events: none;\n  opacity: 0.3;\n}\n</style>\n","<template>\n  <div>\n    <slot />\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, provide } from 'vue'\n\nexport default defineComponent({\n  props: {\n    stacked: {\n      type: Boolean,\n      default: false\n    },\n    maxWidth: {\n      type: Number,\n      default: -1\n    }\n  },\n  setup(props) {\n    provide('layerProps', props)\n  }\n})\n</script>\n","<template>\n  <div>\n    <slot />\n  </div>\n</template>\n<script lang=\"ts\">\nimport { defineComponent, provide } from 'vue'\n\nexport default defineComponent({\n  props: {\n    stacked: {\n      type: Boolean,\n      default: false\n    },\n    maxWidth: {\n      type: Number,\n      default: -1\n    }\n  },\n  setup(props) {\n    provide('layerProps', props)\n  }\n})\n</script>\n","<template>\n  <g class=\"layer-marker\" v-if=\"direction === 'horizontal'\">\n    <text :x=\"canvas.x + 5\" :y=\"y - 5\" text-anchor=\"start\" :fill=\"color\">{{ label }}</text>\n    <line\n      :x1=\"canvas.x\"\n      :y1=\"y\"\n      :x2=\"canvas.width\"\n      :y2=\"y\"\n      :stroke=\"color\"\n      :stroke-opacity=\"strokeOpacity\"\n      :stroke-width=\"strokeWidth\"\n      :stroke-dasharray=\"strokeDasharray\"\n    />\n  </g>\n  <g class=\"layer-marker\" v-else>\n    <text :x=\"y + 10\" :y=\"canvas.y + 5\" text-anchor=\"start\" :fill=\"color\" style=\"writing-mode: tb;\">{{ label }}</text>\n    <line\n      :x1=\"y\"\n      :y1=\"canvas.y\"\n      :x2=\"y\"\n      :y2=\"canvas.height\"\n      :stroke=\"color\"\n      :stroke-opacity=\"strokeOpacity\"\n      :stroke-width=\"strokeWidth\"\n      :stroke-dasharray=\"strokeDasharray\"\n    />\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { useChart } from '@/hooks'\nimport { ref, defineComponent, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'Grid',\n  props: {\n    value: {\n      type: Number\n    },\n    label: {\n      type: String,\n      default: ''\n    },\n    color: {\n      type: String,\n      default: 'red'\n    },\n    strokeDasharray: {\n      type: String,\n      default: () => '3'\n    },\n    strokeWidth: {\n      type: Number,\n      default: 1\n    },\n    strokeOpacity: {\n      type: Number,\n      default: 0.5\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const y = ref(0)\n    const direction = ref('horizontal')\n    const canvas = ref({})\n\n    watch(\n      chart.updates,\n      () => {\n        if (props.value !== undefined) {\n          y.value = chart.scales.secondary.scale(props.value)\n        }\n\n        canvas.value = chart.canvas\n        direction.value = chart.config.direction\n      },\n      { immediate: true }\n    )\n\n    watch(\n      () => props.value,\n      () => {\n        y.value = chart.scales.secondary.scale(props.value)\n      },\n      { immediate: true }\n    )\n    return { y, canvas, direction }\n  }\n})\n</script>\n","<template>\n  <g class=\"layer-marker\" v-if=\"direction === 'horizontal'\">\n    <text :x=\"canvas.x + 5\" :y=\"y - 5\" text-anchor=\"start\" :fill=\"color\">{{ label }}</text>\n    <line\n      :x1=\"canvas.x\"\n      :y1=\"y\"\n      :x2=\"canvas.width\"\n      :y2=\"y\"\n      :stroke=\"color\"\n      :stroke-opacity=\"strokeOpacity\"\n      :stroke-width=\"strokeWidth\"\n      :stroke-dasharray=\"strokeDasharray\"\n    />\n  </g>\n  <g class=\"layer-marker\" v-else>\n    <text :x=\"y + 10\" :y=\"canvas.y + 5\" text-anchor=\"start\" :fill=\"color\" style=\"writing-mode: tb;\">{{ label }}</text>\n    <line\n      :x1=\"y\"\n      :y1=\"canvas.y\"\n      :x2=\"y\"\n      :y2=\"canvas.height\"\n      :stroke=\"color\"\n      :stroke-opacity=\"strokeOpacity\"\n      :stroke-width=\"strokeWidth\"\n      :stroke-dasharray=\"strokeDasharray\"\n    />\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { useChart } from '@/hooks'\nimport { ref, defineComponent, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'Grid',\n  props: {\n    value: {\n      type: Number\n    },\n    label: {\n      type: String,\n      default: ''\n    },\n    color: {\n      type: String,\n      default: 'red'\n    },\n    strokeDasharray: {\n      type: String,\n      default: () => '3'\n    },\n    strokeWidth: {\n      type: Number,\n      default: 1\n    },\n    strokeOpacity: {\n      type: Number,\n      default: 0.5\n    }\n  },\n  setup(props) {\n    const chart = useChart()\n    const y = ref(0)\n    const direction = ref('horizontal')\n    const canvas = ref({})\n\n    watch(\n      chart.updates,\n      () => {\n        if (props.value !== undefined) {\n          y.value = chart.scales.secondary.scale(props.value)\n        }\n\n        canvas.value = chart.canvas\n        direction.value = chart.config.direction\n      },\n      { immediate: true }\n    )\n\n    watch(\n      () => props.value,\n      () => {\n        y.value = chart.scales.secondary.scale(props.value)\n      },\n      { immediate: true }\n    )\n    return { y, canvas, direction }\n  }\n})\n</script>\n","function count(node) {\n  var sum = 0,\n      children = node.children,\n      i = children && children.length;\n  if (!i) sum = 1;\n  else while (--i >= 0) sum += children[i].value;\n  node.value = sum;\n}\n\nexport default function() {\n  return this.eachAfter(count);\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], children, i, index = -1;\n  while (node = nodes.pop()) {\n    callback.call(that, node, ++index, this);\n    if (children = node.children) {\n      for (i = children.length - 1; i >= 0; --i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  return this;\n}\n","export default function(callback, that) {\n  var node = this, nodes = [node], next = [], children, i, n, index = -1;\n  while (node = nodes.pop()) {\n    next.push(node);\n    if (children = node.children) {\n      for (i = 0, n = children.length; i < n; ++i) {\n        nodes.push(children[i]);\n      }\n    }\n  }\n  while (node = next.pop()) {\n    callback.call(that, node, ++index, this);\n  }\n  return this;\n}\n","export default function(callback, that) {\n  let index = -1;\n  for (const node of this) {\n    if (callback.call(that, node, ++index, this)) {\n      return node;\n    }\n  }\n}\n","export default function(value) {\n  return this.eachAfter(function(node) {\n    var sum = +value(node.data) || 0,\n        children = node.children,\n        i = children && children.length;\n    while (--i >= 0) sum += children[i].value;\n    node.value = sum;\n  });\n}\n","export default function(compare) {\n  return this.eachBefore(function(node) {\n    if (node.children) {\n      node.children.sort(compare);\n    }\n  });\n}\n","export default function(end) {\n  var start = this,\n      ancestor = leastCommonAncestor(start, end),\n      nodes = [start];\n  while (start !== ancestor) {\n    start = start.parent;\n    nodes.push(start);\n  }\n  var k = nodes.length;\n  while (end !== ancestor) {\n    nodes.splice(k, 0, end);\n    end = end.parent;\n  }\n  return nodes;\n}\n\nfunction leastCommonAncestor(a, b) {\n  if (a === b) return a;\n  var aNodes = a.ancestors(),\n      bNodes = b.ancestors(),\n      c = null;\n  a = aNodes.pop();\n  b = bNodes.pop();\n  while (a === b) {\n    c = a;\n    a = aNodes.pop();\n    b = bNodes.pop();\n  }\n  return c;\n}\n","export default function() {\n  var node = this, nodes = [node];\n  while (node = node.parent) {\n    nodes.push(node);\n  }\n  return nodes;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n  var leaves = [];\n  this.eachBefore(function(node) {\n    if (!node.children) {\n      leaves.push(node);\n    }\n  });\n  return leaves;\n}\n","export default function() {\n  var root = this, links = [];\n  root.each(function(node) {\n    if (node !== root) { // Don’t include the root’s parent, if any.\n      links.push({source: node.parent, target: node});\n    }\n  });\n  return links;\n}\n","export default function*() {\n  var node = this, current, next = [node], children, i, n;\n  do {\n    current = next.reverse(), next = [];\n    while (node = current.pop()) {\n      yield node;\n      if (children = node.children) {\n        for (i = 0, n = children.length; i < n; ++i) {\n          next.push(children[i]);\n        }\n      }\n    }\n  } while (next.length);\n}\n","import node_count from \"./count.js\";\nimport node_each from \"./each.js\";\nimport node_eachBefore from \"./eachBefore.js\";\nimport node_eachAfter from \"./eachAfter.js\";\nimport node_find from \"./find.js\";\nimport node_sum from \"./sum.js\";\nimport node_sort from \"./sort.js\";\nimport node_path from \"./path.js\";\nimport node_ancestors from \"./ancestors.js\";\nimport node_descendants from \"./descendants.js\";\nimport node_leaves from \"./leaves.js\";\nimport node_links from \"./links.js\";\nimport node_iterator from \"./iterator.js\";\n\nexport default function hierarchy(data, children) {\n  if (data instanceof Map) {\n    data = [undefined, data];\n    if (children === undefined) children = mapChildren;\n  } else if (children === undefined) {\n    children = objectChildren;\n  }\n\n  var root = new Node(data),\n      node,\n      nodes = [root],\n      child,\n      childs,\n      i,\n      n;\n\n  while (node = nodes.pop()) {\n    if ((childs = children(node.data)) && (n = (childs = Array.from(childs)).length)) {\n      node.children = childs;\n      for (i = n - 1; i >= 0; --i) {\n        nodes.push(child = childs[i] = new Node(childs[i]));\n        child.parent = node;\n        child.depth = node.depth + 1;\n      }\n    }\n  }\n\n  return root.eachBefore(computeHeight);\n}\n\nfunction node_copy() {\n  return hierarchy(this).eachBefore(copyData);\n}\n\nfunction objectChildren(d) {\n  return d.children;\n}\n\nfunction mapChildren(d) {\n  return Array.isArray(d) ? d[1] : null;\n}\n\nfunction copyData(node) {\n  if (node.data.value !== undefined) node.value = node.data.value;\n  node.data = node.data.data;\n}\n\nexport function computeHeight(node) {\n  var height = 0;\n  do node.height = height;\n  while ((node = node.parent) && (node.height < ++height));\n}\n\nexport function Node(data) {\n  this.data = data;\n  this.depth =\n  this.height = 0;\n  this.parent = null;\n}\n\nNode.prototype = hierarchy.prototype = {\n  constructor: Node,\n  count: node_count,\n  each: node_each,\n  eachAfter: node_eachAfter,\n  eachBefore: node_eachBefore,\n  find: node_find,\n  sum: node_sum,\n  sort: node_sort,\n  path: node_path,\n  ancestors: node_ancestors,\n  descendants: node_descendants,\n  leaves: node_leaves,\n  links: node_links,\n  copy: node_copy,\n  [Symbol.iterator]: node_iterator\n};\n","export function optional(f) {\n  return f == null ? null : required(f);\n}\n\nexport function required(f) {\n  if (typeof f !== \"function\") throw new Error;\n  return f;\n}\n","export function constantZero() {\n  return 0;\n}\n\nexport default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(node) {\n  node.x0 = Math.round(node.x0);\n  node.y0 = Math.round(node.y0);\n  node.x1 = Math.round(node.x1);\n  node.y1 = Math.round(node.y1);\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (x1 - x0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.y0 = y0, node.y1 = y1;\n    node.x0 = x0, node.x1 = x0 += node.value * k;\n  }\n}\n","import {optional} from \"./accessors.js\";\nimport {Node, computeHeight} from \"./hierarchy/index.js\";\n\nvar preroot = {depth: -1},\n    ambiguous = {},\n    imputed = {};\n\nfunction defaultId(d) {\n  return d.id;\n}\n\nfunction defaultParentId(d) {\n  return d.parentId;\n}\n\nexport default function() {\n  var id = defaultId,\n      parentId = defaultParentId,\n      path;\n\n  function stratify(data) {\n    var nodes = Array.from(data),\n        currentId = id,\n        currentParentId = parentId,\n        n,\n        d,\n        i,\n        root,\n        parent,\n        node,\n        nodeId,\n        nodeKey,\n        nodeByKey = new Map;\n\n    if (path != null) {\n      const I = nodes.map((d, i) => normalize(path(d, i, data)));\n      const P = I.map(parentof);\n      const S = new Set(I).add(\"\");\n      for (const i of P) {\n        if (!S.has(i)) {\n          S.add(i);\n          I.push(i);\n          P.push(parentof(i));\n          nodes.push(imputed);\n        }\n      }\n      currentId = (_, i) => I[i];\n      currentParentId = (_, i) => P[i];\n    }\n\n    for (i = 0, n = nodes.length; i < n; ++i) {\n      d = nodes[i], node = nodes[i] = new Node(d);\n      if ((nodeId = currentId(d, i, data)) != null && (nodeId += \"\")) {\n        nodeKey = node.id = nodeId;\n        nodeByKey.set(nodeKey, nodeByKey.has(nodeKey) ? ambiguous : node);\n      }\n      if ((nodeId = currentParentId(d, i, data)) != null && (nodeId += \"\")) {\n        node.parent = nodeId;\n      }\n    }\n\n    for (i = 0; i < n; ++i) {\n      node = nodes[i];\n      if (nodeId = node.parent) {\n        parent = nodeByKey.get(nodeId);\n        if (!parent) throw new Error(\"missing: \" + nodeId);\n        if (parent === ambiguous) throw new Error(\"ambiguous: \" + nodeId);\n        if (parent.children) parent.children.push(node);\n        else parent.children = [node];\n        node.parent = parent;\n      } else {\n        if (root) throw new Error(\"multiple roots\");\n        root = node;\n      }\n    }\n\n    if (!root) throw new Error(\"no root\");\n\n    // When imputing internal nodes, only introduce roots if needed.\n    // Then replace the imputed marker data with null.\n    if (path != null) {\n      while (root.data === imputed && root.children.length === 1) {\n        root = root.children[0], --n;\n      }\n      for (let i = nodes.length - 1; i >= 0; --i) {\n        node = nodes[i];\n        if (node.data !== imputed) break;\n        node.data = null;\n      }\n    }\n\n    root.parent = preroot;\n    root.eachBefore(function(node) { node.depth = node.parent.depth + 1; --n; }).eachBefore(computeHeight);\n    root.parent = null;\n    if (n > 0) throw new Error(\"cycle\");\n\n    return root;\n  }\n\n  stratify.id = function(x) {\n    return arguments.length ? (id = optional(x), stratify) : id;\n  };\n\n  stratify.parentId = function(x) {\n    return arguments.length ? (parentId = optional(x), stratify) : parentId;\n  };\n\n  stratify.path = function(x) {\n    return arguments.length ? (path = optional(x), stratify) : path;\n  };\n\n  return stratify;\n}\n\n// To normalize a path, we coerce to a string, strip the trailing slash if any\n// (as long as the trailing slash is not immediately preceded by another slash),\n// and add leading slash if missing.\nfunction normalize(path) {\n  path = `${path}`;\n  let i = path.length;\n  if (slash(path, i - 1) && !slash(path, i - 2)) path = path.slice(0, -1);\n  return path[0] === \"/\" ? path : `/${path}`;\n}\n\n// Walk backwards to find the first slash that is not the leading slash, e.g.:\n// \"/foo/bar\" ⇥ \"/foo\", \"/foo\" ⇥ \"/\", \"/\" ↦ \"\". (The root is special-cased\n// because the id of the root must be a truthy value.)\nfunction parentof(path) {\n  let i = path.length;\n  if (i < 2) return \"\";\n  while (--i > 1) if (slash(path, i)) break;\n  return path.slice(0, i);\n}\n\n// Slashes can be escaped; to determine whether a slash is a path delimiter, we\n// count the number of preceding backslashes escaping the forward slash: an odd\n// number indicates an escaped forward slash.\nfunction slash(path, i) {\n  if (path[i] === \"/\") {\n    let k = 0;\n    while (i > 0 && path[--i] === \"\\\\\") ++k;\n    if ((k & 1) === 0) return true;\n  }\n  return false;\n}\n","export default function(parent, x0, y0, x1, y1) {\n  var nodes = parent.children,\n      node,\n      i = -1,\n      n = nodes.length,\n      k = parent.value && (y1 - y0) / parent.value;\n\n  while (++i < n) {\n    node = nodes[i], node.x0 = x0, node.x1 = x1;\n    node.y0 = y0, node.y1 = y0 += node.value * k;\n  }\n}\n","import treemapDice from \"./dice.js\";\nimport treemapSlice from \"./slice.js\";\n\nexport var phi = (1 + Math.sqrt(5)) / 2;\n\nexport function squarifyRatio(ratio, parent, x0, y0, x1, y1) {\n  var rows = [],\n      nodes = parent.children,\n      row,\n      nodeValue,\n      i0 = 0,\n      i1 = 0,\n      n = nodes.length,\n      dx, dy,\n      value = parent.value,\n      sumValue,\n      minValue,\n      maxValue,\n      newRatio,\n      minRatio,\n      alpha,\n      beta;\n\n  while (i0 < n) {\n    dx = x1 - x0, dy = y1 - y0;\n\n    // Find the next non-empty node.\n    do sumValue = nodes[i1++].value; while (!sumValue && i1 < n);\n    minValue = maxValue = sumValue;\n    alpha = Math.max(dy / dx, dx / dy) / (value * ratio);\n    beta = sumValue * sumValue * alpha;\n    minRatio = Math.max(maxValue / beta, beta / minValue);\n\n    // Keep adding nodes while the aspect ratio maintains or improves.\n    for (; i1 < n; ++i1) {\n      sumValue += nodeValue = nodes[i1].value;\n      if (nodeValue < minValue) minValue = nodeValue;\n      if (nodeValue > maxValue) maxValue = nodeValue;\n      beta = sumValue * sumValue * alpha;\n      newRatio = Math.max(maxValue / beta, beta / minValue);\n      if (newRatio > minRatio) { sumValue -= nodeValue; break; }\n      minRatio = newRatio;\n    }\n\n    // Position and record the row orientation.\n    rows.push(row = {value: sumValue, dice: dx < dy, children: nodes.slice(i0, i1)});\n    if (row.dice) treemapDice(row, x0, y0, x1, value ? y0 += dy * sumValue / value : y1);\n    else treemapSlice(row, x0, y0, value ? x0 += dx * sumValue / value : x1, y1);\n    value -= sumValue, i0 = i1;\n  }\n\n  return rows;\n}\n\nexport default (function custom(ratio) {\n\n  function squarify(parent, x0, y0, x1, y1) {\n    squarifyRatio(ratio, parent, x0, y0, x1, y1);\n  }\n\n  squarify.ratio = function(x) {\n    return custom((x = +x) > 1 ? x : 1);\n  };\n\n  return squarify;\n})(phi);\n","import roundNode from \"./round.js\";\nimport squarify from \"./squarify.js\";\nimport {required} from \"../accessors.js\";\nimport constant, {constantZero} from \"../constant.js\";\n\nexport default function() {\n  var tile = squarify,\n      round = false,\n      dx = 1,\n      dy = 1,\n      paddingStack = [0],\n      paddingInner = constantZero,\n      paddingTop = constantZero,\n      paddingRight = constantZero,\n      paddingBottom = constantZero,\n      paddingLeft = constantZero;\n\n  function treemap(root) {\n    root.x0 =\n    root.y0 = 0;\n    root.x1 = dx;\n    root.y1 = dy;\n    root.eachBefore(positionNode);\n    paddingStack = [0];\n    if (round) root.eachBefore(roundNode);\n    return root;\n  }\n\n  function positionNode(node) {\n    var p = paddingStack[node.depth],\n        x0 = node.x0 + p,\n        y0 = node.y0 + p,\n        x1 = node.x1 - p,\n        y1 = node.y1 - p;\n    if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n    if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n    node.x0 = x0;\n    node.y0 = y0;\n    node.x1 = x1;\n    node.y1 = y1;\n    if (node.children) {\n      p = paddingStack[node.depth + 1] = paddingInner(node) / 2;\n      x0 += paddingLeft(node) - p;\n      y0 += paddingTop(node) - p;\n      x1 -= paddingRight(node) - p;\n      y1 -= paddingBottom(node) - p;\n      if (x1 < x0) x0 = x1 = (x0 + x1) / 2;\n      if (y1 < y0) y0 = y1 = (y0 + y1) / 2;\n      tile(node, x0, y0, x1, y1);\n    }\n  }\n\n  treemap.round = function(x) {\n    return arguments.length ? (round = !!x, treemap) : round;\n  };\n\n  treemap.size = function(x) {\n    return arguments.length ? (dx = +x[0], dy = +x[1], treemap) : [dx, dy];\n  };\n\n  treemap.tile = function(x) {\n    return arguments.length ? (tile = required(x), treemap) : tile;\n  };\n\n  treemap.padding = function(x) {\n    return arguments.length ? treemap.paddingInner(x).paddingOuter(x) : treemap.paddingInner();\n  };\n\n  treemap.paddingInner = function(x) {\n    return arguments.length ? (paddingInner = typeof x === \"function\" ? x : constant(+x), treemap) : paddingInner;\n  };\n\n  treemap.paddingOuter = function(x) {\n    return arguments.length ? treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x) : treemap.paddingTop();\n  };\n\n  treemap.paddingTop = function(x) {\n    return arguments.length ? (paddingTop = typeof x === \"function\" ? x : constant(+x), treemap) : paddingTop;\n  };\n\n  treemap.paddingRight = function(x) {\n    return arguments.length ? (paddingRight = typeof x === \"function\" ? x : constant(+x), treemap) : paddingRight;\n  };\n\n  treemap.paddingBottom = function(x) {\n    return arguments.length ? (paddingBottom = typeof x === \"function\" ? x : constant(+x), treemap) : paddingBottom;\n  };\n\n  treemap.paddingLeft = function(x) {\n    return arguments.length ? (paddingLeft = typeof x === \"function\" ? x : constant(+x), treemap) : paddingLeft;\n  };\n\n  return treemap;\n}\n","<template>\n  <div class=\"treemap\" :style=\"{ display: 'flex', position: 'relative' }\">\n    <svg :width=\"size.width\" :height=\"size.height\" :viewBox=\"`0 0 ${size.width} ${size.height}`\" ref=\"el\">\n      <g class=\"layer-rectangles\">\n        <g\n          v-for=\"(r, i) in rectangles\"\n          class=\"rectangle\"\n          :key=\"i\"\n          :class=\"{ selected: selected === i }\"\n          :transform=\"`translate(${r.x0}, ${r.y0})`\"\n          @mouseover=\"() => onMouseOver(i)\"\n          @mouseleave=\"onMouseOut\"\n        >\n          <slot :r=\"r\" :selected=\"selected === i\">\n            <rect v-bind=\"toKebabCase(getStyle(r))\" :x=\"0\" :y=\"0\" :width=\"r.width\" :height=\"r.height\" />\n            <slot :r=\"r\" :selected=\"selected === i\" name=\"text\">\n              <text :x=\"0 + 10\" :y=\"0 + 20\" :font-size=\"`15px`\" :fill=\"`white`\" font-weight=\"bold\">\n                {{ r.data.name }}\n              </text>\n            </slot>\n          </slot>\n        </g>\n      </g>\n    </svg>\n    <slot name=\"widgets\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue'\nimport { scaleLinear, scaleSequential } from 'd3-scale'\nimport { stratify, treemap } from 'd3-hierarchy'\nimport { interpolateHcl } from 'd3-interpolate'\nimport { Margin, Size } from '@/types'\nimport { extent } from 'd3-array'\nimport { kebabize, mapKeys } from '@/utils'\n\nexport default defineComponent({\n  name: 'Treemap',\n  props: {\n    size: {\n      type: Object as () => Size,\n      default: () => ({ width: 500, height: 400 }),\n      required: false\n    },\n    margin: {\n      type: Object as () => Margin,\n      default: () => ({ top: 0, right: 0, bottom: 0, left: 0 })\n    },\n    padding: {\n      type: Number,\n      default: 8\n    },\n    data: {\n      type: Array as () => any[],\n      default: () => ([])\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    colorFn: {\n      type: Function,\n      default: () => interpolateHcl('#60c96e', '#6b46c1')\n    },\n    rcStyle: {\n      type: Function,\n      required: false\n    }\n  },\n  setup(props) {\n    const el = ref(null)\n    const data = ref(props.data)\n    const selected = ref(null)\n    const canvas = ref({\n      x: props.margin.left,\n      y: props.margin.top,\n      width: props.size.width - props.margin.right,\n      height: props.size.height - props.margin.bottom\n    })\n\n    const rectangles = ref<any>([])\n\n    function getScales() {\n      const values = extent(data.value.map((d) => d[props.dataKeys[1]])) as [number, number]\n\n      const x = scaleLinear()\n        .domain(values)\n        .range([0, 100])\n        .nice()\n\n      const y = scaleSequential()\n        .domain(values)\n        .interpolator(props.colorFn())\n\n      return { x, y }\n    }\n\n    function buildRectangles() {\n      const { y } = getScales()\n      const res = buildTree(data.value)\n        .leaves()\n        .map((d: any, idx: number) => {\n          return {\n            idx,\n            x0: canvas.value.x + d.x0,\n            x1: canvas.value.x + d.x1,\n            y0: canvas.value.y + d.y0,\n            y1: canvas.value.y + d.y1,\n            width: d.x1 - d.x0,\n            height: d.y1 - d.y0,\n            data: d.data,\n            color: y(d.value) // props.color\n          }\n        })\n\n      return res\n    }\n\n    function buildTree(data: any) {\n      const { x } = getScales()\n      const createTreeMap = treemap()\n        .size([canvas.value.width - canvas.value.x, canvas.value.height - canvas.value.y])\n        .padding(props.padding)\n\n      const treeFn = stratify()\n        .id((d: any) => d.name)\n        .parentId((d: any) => d.parent)\n\n      const tree = treeFn(\n        [{ name: 'root' }].concat(\n          data.map((x: any) => {\n            return {\n              name: x[props.dataKeys[0]],\n              value: x[props.dataKeys[1]],\n              parent: 'root'\n            }\n          })\n        )\n      )\n\n      tree.sum((d: any) => x(d.value))\n      createTreeMap(tree)\n\n      return tree\n    }\n\n    const toKebabCase = (data: any) => mapKeys(kebabize, data)\n    const getStyle = (r: any) => {\n      const style = {\n        stroke: r.color,\n        strokeWidth: 5,\n        fill: r.color,\n        fillOpacity: 0.9\n      }\n\n      if (props.rcStyle && typeof props.rcStyle === 'function') {\n        return {\n          ...style,\n          ...props.rcStyle(r)\n        }\n      }\n\n      return style\n    }\n\n    function onMouseOver(i: any) {\n      // console.log('hover', i)\n      selected.value = i\n    }\n\n    function onMouseOut() {\n      selected.value = null\n    }\n\n    watch(\n      props,\n      () => {\n        data.value = props.data\n        canvas.value = {\n          x: props.margin.left,\n          y: props.margin.top,\n          width: props.size.width - props.margin.right,\n          height: props.size.height - props.margin.bottom\n        }\n        rectangles.value = buildRectangles()\n      },\n      { immediate: true }\n    )\n\n    return { el, rectangles, selected, getStyle, toKebabCase, onMouseOver, onMouseOut }\n  }\n})\n</script>\n","<template>\n  <div class=\"treemap\" :style=\"{ display: 'flex', position: 'relative' }\">\n    <svg :width=\"size.width\" :height=\"size.height\" :viewBox=\"`0 0 ${size.width} ${size.height}`\" ref=\"el\">\n      <g class=\"layer-rectangles\">\n        <g\n          v-for=\"(r, i) in rectangles\"\n          class=\"rectangle\"\n          :key=\"i\"\n          :class=\"{ selected: selected === i }\"\n          :transform=\"`translate(${r.x0}, ${r.y0})`\"\n          @mouseover=\"() => onMouseOver(i)\"\n          @mouseleave=\"onMouseOut\"\n        >\n          <slot :r=\"r\" :selected=\"selected === i\">\n            <rect v-bind=\"toKebabCase(getStyle(r))\" :x=\"0\" :y=\"0\" :width=\"r.width\" :height=\"r.height\" />\n            <slot :r=\"r\" :selected=\"selected === i\" name=\"text\">\n              <text :x=\"0 + 10\" :y=\"0 + 20\" :font-size=\"`15px`\" :fill=\"`white`\" font-weight=\"bold\">\n                {{ r.data.name }}\n              </text>\n            </slot>\n          </slot>\n        </g>\n      </g>\n    </svg>\n    <slot name=\"widgets\" />\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { defineComponent, ref, watch } from 'vue'\nimport { scaleLinear, scaleSequential } from 'd3-scale'\nimport { stratify, treemap } from 'd3-hierarchy'\nimport { interpolateHcl } from 'd3-interpolate'\nimport { Margin, Size } from '@/types'\nimport { extent } from 'd3-array'\nimport { kebabize, mapKeys } from '@/utils'\n\nexport default defineComponent({\n  name: 'Treemap',\n  props: {\n    size: {\n      type: Object as () => Size,\n      default: () => ({ width: 500, height: 400 }),\n      required: false\n    },\n    margin: {\n      type: Object as () => Margin,\n      default: () => ({ top: 0, right: 0, bottom: 0, left: 0 })\n    },\n    padding: {\n      type: Number,\n      default: 8\n    },\n    data: {\n      type: Array as () => any[],\n      default: () => ([])\n    },\n    dataKeys: {\n      type: Object as () => [string, string],\n      required: true\n    },\n    colorFn: {\n      type: Function,\n      default: () => interpolateHcl('#60c96e', '#6b46c1')\n    },\n    rcStyle: {\n      type: Function,\n      required: false\n    }\n  },\n  setup(props) {\n    const el = ref(null)\n    const data = ref(props.data)\n    const selected = ref(null)\n    const canvas = ref({\n      x: props.margin.left,\n      y: props.margin.top,\n      width: props.size.width - props.margin.right,\n      height: props.size.height - props.margin.bottom\n    })\n\n    const rectangles = ref<any>([])\n\n    function getScales() {\n      const values = extent(data.value.map((d) => d[props.dataKeys[1]])) as [number, number]\n\n      const x = scaleLinear()\n        .domain(values)\n        .range([0, 100])\n        .nice()\n\n      const y = scaleSequential()\n        .domain(values)\n        .interpolator(props.colorFn())\n\n      return { x, y }\n    }\n\n    function buildRectangles() {\n      const { y } = getScales()\n      const res = buildTree(data.value)\n        .leaves()\n        .map((d: any, idx: number) => {\n          return {\n            idx,\n            x0: canvas.value.x + d.x0,\n            x1: canvas.value.x + d.x1,\n            y0: canvas.value.y + d.y0,\n            y1: canvas.value.y + d.y1,\n            width: d.x1 - d.x0,\n            height: d.y1 - d.y0,\n            data: d.data,\n            color: y(d.value) // props.color\n          }\n        })\n\n      return res\n    }\n\n    function buildTree(data: any) {\n      const { x } = getScales()\n      const createTreeMap = treemap()\n        .size([canvas.value.width - canvas.value.x, canvas.value.height - canvas.value.y])\n        .padding(props.padding)\n\n      const treeFn = stratify()\n        .id((d: any) => d.name)\n        .parentId((d: any) => d.parent)\n\n      const tree = treeFn(\n        [{ name: 'root' }].concat(\n          data.map((x: any) => {\n            return {\n              name: x[props.dataKeys[0]],\n              value: x[props.dataKeys[1]],\n              parent: 'root'\n            }\n          })\n        )\n      )\n\n      tree.sum((d: any) => x(d.value))\n      createTreeMap(tree)\n\n      return tree\n    }\n\n    const toKebabCase = (data: any) => mapKeys(kebabize, data)\n    const getStyle = (r: any) => {\n      const style = {\n        stroke: r.color,\n        strokeWidth: 5,\n        fill: r.color,\n        fillOpacity: 0.9\n      }\n\n      if (props.rcStyle && typeof props.rcStyle === 'function') {\n        return {\n          ...style,\n          ...props.rcStyle(r)\n        }\n      }\n\n      return style\n    }\n\n    function onMouseOver(i: any) {\n      // console.log('hover', i)\n      selected.value = i\n    }\n\n    function onMouseOut() {\n      selected.value = null\n    }\n\n    watch(\n      props,\n      () => {\n        data.value = props.data\n        canvas.value = {\n          x: props.margin.left,\n          y: props.margin.top,\n          width: props.size.width - props.margin.right,\n          height: props.size.height - props.margin.bottom\n        }\n        rectangles.value = buildRectangles()\n      },\n      { immediate: true }\n    )\n\n    return { el, rectangles, selected, getStyle, toKebabCase, onMouseOver, onMouseOut }\n  }\n})\n</script>\n","<template>\n  <g class=\"layer-hover-bar\" v-if=\"mouse.hover\">\n    <rect\n      class=\"hover-bar\"\n      v-bind=\"barStyle\"\n      :x=\"bar.x\"\n      :y=\"bar.y\"\n      :width=\"bar.width > 0 ? bar.width : 0\"\n      :height=\"bar.height > 0 ? bar.height : 0\"\n    />\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { useChart, useMouse } from '@/hooks'\nimport { Canvas } from '@/types'\nimport { ref, defineComponent, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'HoverBar',\n  props: {\n    barStyle: {\n      type: Object,\n      default: () => ({ 'fill-opacity': 0.05 })\n    }\n  },\n  setup() {\n    const chart = useChart()\n    const mouse = useMouse()\n\n    const bar = ref({ x: 0, y: 0, width: 0, height: 0 })\n    const direction = ref('horizontal')\n    const canvas = ref<Canvas>({ x: 0, y: 0, width: 0, height: 0 })\n\n    watch(\n      chart.updates,\n      () => {\n        canvas.value = chart.canvas\n        direction.value = chart.config.direction\n      },\n      { immediate: true }\n    )\n\n    watch(mouse, () => {\n      if (chart.bandScale) {\n        const vals = chart.getData(chart.getKeys(0)) as number[]\n        const [x] = chart.bandScale.map([vals[mouse.index]])\n        const width = chart.bandScale.bandwidth()\n\n        if (x) {\n          if (chart.config.direction === 'horizontal') {\n            bar.value = {\n              x: x - width / 2,\n              y: 0,\n              width,\n              height: canvas.value.height\n            }\n          } else {\n            bar.value = {\n              x: 40,\n              y: x - width / 2,\n              width: canvas.value.width - 40,\n              height: width\n            }\n          }\n        }\n      }\n    })\n    return { bar, canvas, direction, mouse }\n  }\n})\n</script>\n","<template>\n  <g class=\"layer-hover-bar\" v-if=\"mouse.hover\">\n    <rect\n      class=\"hover-bar\"\n      v-bind=\"barStyle\"\n      :x=\"bar.x\"\n      :y=\"bar.y\"\n      :width=\"bar.width > 0 ? bar.width : 0\"\n      :height=\"bar.height > 0 ? bar.height : 0\"\n    />\n  </g>\n</template>\n\n<script lang=\"ts\">\nimport { useChart, useMouse } from '@/hooks'\nimport { Canvas } from '@/types'\nimport { ref, defineComponent, watch } from 'vue'\n\nexport default defineComponent({\n  name: 'HoverBar',\n  props: {\n    barStyle: {\n      type: Object,\n      default: () => ({ 'fill-opacity': 0.05 })\n    }\n  },\n  setup() {\n    const chart = useChart()\n    const mouse = useMouse()\n\n    const bar = ref({ x: 0, y: 0, width: 0, height: 0 })\n    const direction = ref('horizontal')\n    const canvas = ref<Canvas>({ x: 0, y: 0, width: 0, height: 0 })\n\n    watch(\n      chart.updates,\n      () => {\n        canvas.value = chart.canvas\n        direction.value = chart.config.direction\n      },\n      { immediate: true }\n    )\n\n    watch(mouse, () => {\n      if (chart.bandScale) {\n        const vals = chart.getData(chart.getKeys(0)) as number[]\n        const [x] = chart.bandScale.map([vals[mouse.index]])\n        const width = chart.bandScale.bandwidth()\n\n        if (x) {\n          if (chart.config.direction === 'horizontal') {\n            bar.value = {\n              x: x - width / 2,\n              y: 0,\n              width,\n              height: canvas.value.height\n            }\n          } else {\n            bar.value = {\n              x: 40,\n              y: x - width / 2,\n              width: canvas.value.width - 40,\n              height: width\n            }\n          }\n        }\n      }\n    })\n    return { bar, canvas, direction, mouse }\n  }\n})\n</script>\n","import { App, Plugin } from 'vue'\n\n// Import vue components\nimport * as components from '@/components'\n\nconst install: Exclude<Plugin['install'], undefined> = function installLib (app: App) {\n  Object.entries(components).forEach(([componentName, component]) => {\n    app.component(componentName, component)\n  })\n}\n\nexport default { install }\n\nexport * from './components'\nexport * from './hooks'\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}